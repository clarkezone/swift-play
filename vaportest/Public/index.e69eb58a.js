class t{constructor(t,e,n,a,i,r){this.uuid=t,this.canvas=document.createElement("canvas"),this.canvas.id=t,this.canvas.className=".showThing",this.updateDom(e,n,a,i,r),document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.init()}destroy(){this.canvas.remove()}setVisible(t){"true"===t.toLowerCase()?(console.log("setting matrix visible to true"),this.canvas.setAttribute("class","showThing")):"false"===t.toLowerCase()&&(console.log("setting matrix visible to false"),this.canvas.setAttribute("class","hideThing"))}updateDom(t,e,n,a,i){this.name=t,this.canvas.width=a,this.canvas.height=i,this.canvas.style.position="absolute",this.canvas.style.left=e+"px",this.canvas.style.top=n+"px"}init(){this.font_size=20,this.columns=Math.floor(this.canvas.width/this.font_size),this.matrix=Array(this.columns).fill(1),this.PROBABILITY_SVG=.7,this.PROBABILITY_RESET=.875,this.TICKS_BEFORE_UPDATE=3,this.tickCounter=0,this.images=[],this.imagesLoaded=0;let t={tss:"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIHdpZHRoPSIxMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PGNpcmNsZSBjeD0iNDAuNjI1IiBjeT0iNTkuNSIgcj0iNi42MjUiLz48Y2lyY2xlIGN4PSI2MC40OTk5IiBjeT0iNTkuNSIgcj0iNi42MjUiLz48Y2lyY2xlIGN4PSI0MC42MjUiIGN5PSI3OS4zNzUiIG9wYWNpdHk9Ii4yIiByPSI2LjYyNSIvPjxjaXJjbGUgY3g9IjgwLjM3NSIgY3k9Ijc5LjM3NSIgb3BhY2l0eT0iLjIiIHI9IjYuNjI1Ii8+PGNpcmNsZSBjeD0iNjAuNDk5OSIgY3k9Ijc5LjM3NSIgcj0iNi42MjUiLz48Y2lyY2xlIGN4PSI4MC4zNzUiIGN5PSI1OS41IiByPSI2LjYyNSIvPjxjaXJjbGUgY3g9IjQwLjYyNSIgY3k9IjM5LjYyNSIgb3BhY2l0eT0iLjIiIHI9IjYuNjI1Ii8+PGNpcmNsZSBjeD0iNjAuNDk5OSIgY3k9IjM5LjYyNSIgb3BhY2l0eT0iLjIiIHI9IjYuNjI1Ii8+PGNpcmNsZSBjeD0iODAuMzc1IiBjeT0iMzkuNjI1IiBvcGFjaXR5PSIuMiIgcj0iNi42MjUiLz48L2c+PC9zdmc+",k8s:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iNzIyLjg0NTciCiAgIGhlaWdodD0iNzAxLjk2NjM3IgogICBpZD0ic3ZnMiIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ4LjQgcjk5MzkiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImxvZ28uc3ZnIgogICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9Ii9ob21lL3Rob2NraW4vc3JjL2t1YmVybmV0ZXMvbmV3LnBuZyIKICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjQ2MC45NTAwMSIKICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjQ2MC45NTAwMSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjE2LjE5MDUwOSIKICAgICBpbmtzY2FwZTpjeD0iMjc3LjU2ODUxIgogICAgIGlua3NjYXBlOmN5PSIxNTcuNTQ0OTQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImczMDUyIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE1MTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODIyIgogICAgIGlua3NjYXBlOndpbmRvdy14PSI1MSIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMjUiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWdsb2JhbD0iZmFsc2UiCiAgICAgZml0LW1hcmdpbi10b3A9IjEwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMTAiCiAgICAgZml0LW1hcmdpbi1yaWdodD0iMTAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjEwIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02LjMyNjA5NDIsLTE3NC43NTI0KSI+CiAgICA8ZwogICAgICAgaWQ9ImczMDUyIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzMyNmNlNTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6MDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgICAgICBkPSJtIDM2NS4zMTI1LDE4NC44MTI1IGEgNDYuNzI0NjIxLDQ2LjM0MjI0NiAwIDAgMCAtMTcuOTA2MjUsNC41MzEyNSBsIC0yNDQuMzQzNzUsMTE2Ljc1IGEgNDYuNzI0NjIxLDQ2LjM0MjI0NiAwIDAgMCAtMjUuMjgxMjUsMzEuNDM3NSBMIDE3LjUsNTk5Ljc4MTI1IEEgNDYuNzI0NjIxLDQ2LjM0MjI0NiAwIDAgMCAyMy44NDM3NSw2MzUuMzEyNSA0Ni43MjQ2MjEsNDYuMzQyMjQ2IDAgMCAwIDI2LjUsNjM5IGwgMTY5LjEyNSwyMTAuMjgxMjUgYSA0Ni43MjQ2MjEsNDYuMzQyMjQ2IDAgMCAwIDM2LjUzMTI1LDE3LjQzNzUgTCA1MDMuMzc1LDg2Ni42NTYyNSBBIDQ2LjcyNDYyMSw0Ni4zNDIyNDYgMCAwIDAgNTM5LjkwNjI1LDg0OS4yNSBMIDcwOC45Njg3NSw2MzguOTM3NSBBIDQ2LjcyNDYyMSw0Ni4zNDIyNDYgMCAwIDAgNzE4LDU5OS43MTg3NSBsIC02MC4zNzUsLTI2Mi4yNSBhIDQ2LjcyNDYyMSw0Ni4zNDIyNDYgMCAwIDAgLTI1LjI4MTI1LC0zMS40Mzc1IGwgLTI0NC4zNzUsLTExNi42ODc1IEEgNDYuNzI0NjIxLDQ2LjM0MjI0NiAwIDAgMCAzNjUuMzEyNSwxODQuODEyNSB6IgogICAgICAgICBpZD0icGF0aDMwNTUiCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0ibmV3LnBuZyIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1MC41NSIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1MC41NSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgICBkPSJtIDM2Ny43MzM2NiwyNzQuMDU5NjIgYyAtOC4wNzY5Niw4LjJlLTQgLTE0LjYyNTk2LDcuMjc1OTEgLTE0LjYyNSwxNi4yNSAxZS01LDAuMTM3NzMgMC4wMjgyLDAuMjY5MzQgMC4wMzEyLDAuNDA2MjUgLTAuMDExOSwxLjIxOTM2IC0wLjA3MDgsMi42ODgzNiAtMC4wMzEyLDMuNzUgMC4xOTI2Miw1LjE3NiAxLjMyMDksOS4xMzc0OSAyLDEzLjkwNjI1IDEuMjMwMjgsMTAuMjA2NjYgMi4yNjExNywxOC42NjczNiAxLjYyNSwyNi41MzEyNSAtMC42MTg2OSwyLjk2NTQgLTIuODAyODgsNS42Nzc0MSAtNC43NSw3LjU2MjUgbCAtMC4zNDM3NSw2LjE4NzUgYyAtOC43NzY4MiwwLjcyNzE3IC0xNy42MTIzNSwyLjA1ODc0IC0yNi40Mzc1LDQuMDYyNSAtMzcuOTc0NjEsOC42MjIxOCAtNzAuNjcwMDgsMjguMTgzMDcgLTk1LjU2MjUsNTQuNTkzNzUgLTEuNjE1MjIsLTEuMTAxOTMgLTQuNDQxMDMsLTMuMTI5MTQgLTUuMjgxMywtMy43NSAtMi42MTExNywwLjM1MjYyIC01LjI1MDIxLDEuMTU4MjkgLTguNjg3NSwtMC44NDM3NSAtNi41NDQ5MSwtNC40MDU2MyAtMTIuNTA1ODcsLTEwLjQ4NjkzIC0xOS43MTg3NSwtMTcuODEyNSAtMy4zMDQ5OCwtMy41MDQxOSAtNS42OTgzMiwtNi44NDEwMSAtOS42MjUsLTEwLjIxODc1IC0wLjg5MTcyLC0wLjc2NzA3IC0yLjI1MjU4LC0xLjgwNDU1IC0zLjI1LC0yLjU5Mzc1IC0zLjA2OTg4LC0yLjQ0NzU3IC02LjY5MDcsLTMuNzI0MDIgLTEwLjE4NzUsLTMuODQzNzUgLTQuNDk1ODksLTAuMTUzOTQgLTguODIzOTQsMS42MDM4NSAtMTEuNjU2MjUsNS4xNTYyNSAtNS4wMzUyMSw2LjMxNTM4IC0zLjQyMzEyLDE1Ljk2ODA1IDMuNTkzNzUsMjEuNTYyNSAwLjA3MTIsMC4wNTY3IDAuMTQ3MDIsMC4xMDA3OCAwLjIxODc1LDAuMTU2MjUgMC45NjQyMiwwLjc4MTYyIDIuMTQ0OTYsMS43ODMxMyAzLjAzMTI1LDIuNDM3NSA0LjE2Njg3LDMuMDc2NTUgNy45NzMyLDQuNjUxNDUgMTIuMTI1LDcuMDkzNzUgOC43NDcsNS40MDE4MSAxNS45OTgzNyw5Ljg4MDg2IDIxLjc1LDE1LjI4MTI1IDIuMjQ2MDIsMi4zOTQxNyAyLjYzODU4LDYuNjEyOTIgMi45Mzc1LDguNDM3NSBsIDQuNjg3NSw0LjE4NzUgYyAtMjUuMDkzNDIsMzcuNzYzNjggLTM2LjcwNjg2LDg0LjQwOTQ2IC0yOS44NDM3LDEzMS45Mzc1IGwgLTYuMTI1LDEuNzgxMjUgYyAtMS42MTQzLDIuMDg0NjEgLTMuODk1NDEsNS4zNjQ3NCAtNi4yODEzLDYuMzQzNzUgLTcuNTI1MTMsMi4zNzAyMSAtMTUuOTk0MjQsMy4yNDA1OSAtMjYuMjE4NzUsNC4zMTI1IC00LjgwMDMxLDAuMzk5MTUgLTguOTQyMTgsMC4xNjA5NSAtMTQuMDMxMjUsMS4xMjUgLTEuMTIwMDgsMC4yMTIxOCAtMi42ODA3MiwwLjYxODc3IC0zLjkwNjI1LDAuOTA2MjUgLTAuMDQyNiwwLjAwOSAtMC4wODI0LDAuMDIxNiAtMC4xMjUsMC4wMzEyIC0wLjA2NjgsMC4wMTU1IC0wLjE1NDU2LDAuMDQ3OSAtMC4yMTg3NSwwLjA2MjUgLTguNjIwMTQsMi4wODI3OSAtMTQuMTU3NzQsMTAuMDA2IC0xMi4zNzUsMTcuODEyNSAxLjc4MzE2LDcuODA4MzMgMTAuMjAzMTQsMTIuNTU2NzcgMTguODc1LDEwLjY4NzUgMC4wNjI2LC0wLjAxNDMgMC4xNTM1LC0wLjAxNjcgMC4yMTg3NSwtMC4wMzEyIDAuMDk3OSwtMC4wMjI0IDAuMTg0MDksLTAuMDY5OSAwLjI4MTI1LC0wLjA5MzcgMS4yMDg4NSwtMC4yNjUzNiAyLjcyMzc3LC0wLjU2MDYgMy43ODEyNSwtMC44NDM3NSA1LjAwMzM0LC0xLjMzOTYzIDguNjI2OTQsLTMuMzA3OTYgMTMuMTI1LC01LjAzMTI1IDkuNjc2OTQsLTMuNDcwNzcgMTcuNjkxNzMsLTYuMzcwMjIgMjUuNSwtNy41IDMuMjYxMTgsLTAuMjU1NDIgNi42OTcxMSwyLjAxMjE2IDguNDA2MjUsMi45Njg3NSBsIDYuMzc1LC0xLjA5Mzc1IGMgMTQuNjcwMTgsNDUuNDgyODIgNDUuNDE0MTYsODIuMjQ1MDIgODQuMzQzNzUsMTA1LjMxMjUgbCAtMi42NTYyNSw2LjM3NSBjIDAuOTU3NDIsMi40NzU0MiAyLjAxMzQxLDUuODI0NyAxLjMwMDIyLDguMjY5MzIgLTIuODM4NjgsNy4zNjEyIC03LjcwMDk3LDE1LjEzMDk3IC0xMy4yMzc3MiwyMy43OTMxOCAtMi42ODA4NSw0LjAwMTkyIC01LjQyNDUzLDcuMTA3NjEgLTcuODQzNzUsMTEuNjg3NSAtMC41Nzg5LDEuMDk1ODkgLTEuMzE2MTgsMi43NzkzMiAtMS44NzUsMy45Mzc1IC0zLjc1ODg0LDguMDQyMzYgLTEuMDAxNjQsMTcuMzA1MiA2LjIxODc1LDIwLjc4MTI1IDcuMjY1NzUsMy40OTc4OCAxNi4yODQ0NywtMC4xOTEzNCAyMC4xODc1LC04LjI1IDAuMDA2LC0wLjAxMTQgMC4wMjU3LC0wLjAxOTggMC4wMzEyLC0wLjAzMTIgMC4wMDQsLTAuMDA5IC0wLjAwNCwtMC4wMjI1IDAsLTAuMDMxMiAwLjU1NTkzLC0xLjE0MjU1IDEuMzQzNTMsLTIuNjQ0MzcgMS44MTI1LC0zLjcxODc1IDIuMDcyMTMsLTQuNzQ3MDIgMi43NjE2MSwtOC44MTUwNiA0LjIxODc1LC0xMy40MDYyNSAzLjg2OTYyLC05LjcyMDE0IDUuOTk1NjcsLTE5LjkxOTAzIDExLjMyMjU4LC0yNi4yNzQxMSAxLjQ1ODY4LC0xLjc0MDIzIDMuODM2ODEsLTIuNDA5NSA2LjMwMjQyLC0zLjA2OTY0IGwgMy4zMTI1LC02IGMgMzMuOTM4MjQsMTMuMDI2OCA3MS45MjY2NiwxNi41MjI0NiAxMDkuODc1LDcuOTA2MjUgOC42NTY5NywtMS45NjU1NyAxNy4wMTQ0NCwtNC41MDk0NSAyNS4wOTM3NSwtNy41NjI1IDAuOTMwOTgsMS42NTEzMyAyLjY2MTEzLDQuODI1NyAzLjEyNSw1LjYyNSAyLjUwNTU5LDAuODE1MTggNS4yNDA0NCwxLjIzNjE0IDcuNDY4NzUsNC41MzEyNSAzLjk4NTM5LDYuODA4OTggNi43MTA5LDE0Ljg2NDE2IDEwLjAzMTI1LDI0LjU5Mzc1IDEuNDU3MzgsNC41OTExMSAyLjE3NzYyLDguNjU5MzMgNC4yNSwxMy40MDYyNSAwLjQ3MjM0LDEuMDgxOTUgMS4yNTYsMi42MDQ4NiAxLjgxMjUsMy43NSAzLjg5NDgyLDguMDg0ODQgMTIuOTQyMTIsMTEuNzg2NjcgMjAuMjE4NzUsOC4yODEyNSA3LjIxOTUsLTMuNDc3OSA5Ljk3OTc0LC0xMi43Mzk5IDYuMjE4NzUsLTIwLjc4MTI1IC0wLjU1ODg5LC0xLjE1ODE0IC0xLjMyNzMsLTIuODQxNjQgLTEuOTA2MjUsLTMuOTM3NSAtMi40MTk0NiwtNC41Nzk3NiAtNS4xNjI3LC03LjY1NDQ4IC03Ljg0Mzc1LC0xMS42NTYyNSAtNS41MzcyMSwtOC42NjE5MiAtMTAuMTI5NjgsLTE1Ljg1NzcgLTEyLjk2ODc1LC0yMy4yMTg3NSAtMS4xODcxMSwtMy43OTY1NyAwLjIwMDI4LC02LjE1Nzc0IDEuMTI1LC04LjYyNSAtMC41NTM3OCwtMC42MzQ3NyAtMS43Mzg4MSwtNC4yMjAwOSAtMi40Mzc1LC01LjkwNjI1IDQwLjQ1NzQsLTIzLjg4ODE2IDcwLjI5ODU2LC02Mi4wMjEyOSA4NC4zMTI1LC0xMDYuMDYyNSAxLjg5MjQsMC4yOTc0MiA1LjE4MTU0LDAuODc5MzYgNi4yNSwxLjA5Mzc1IDIuMTk5NTQsLTEuNDUwNyA0LjIyMTk0LC0zLjM0MzUyIDguMTg3NSwtMy4wMzEyNSA3LjgwODMyLDEuMTI5MzcgMTUuODIyODgsNC4wMjk3MyAyNS41LDcuNSA0LjQ5ODE1LDEuNzIzMDYgOC4xMjE2LDMuNzIzMTMgMTMuMTI1LDUuMDYyNSAxLjA1NzQ5LDAuMjgzMDkgMi41NzIzOCwwLjU0NzIgMy43ODEyNSwwLjgxMjUgMC4wOTcyLDAuMDIzOCAwLjE4MzMsMC4wNzE0IDAuMjgxMjUsMC4wOTM3IDAuMDY1MywwLjAxNDYgMC4xNTYxNSwwLjAxNjkgMC4yMTg3NSwwLjAzMTIgOC42NzIzNiwxLjg2Njk1IDE3LjA5Mzg0LC0yLjg3ODcxIDE4Ljg3NSwtMTAuNjg3NSAxLjc4MDc0LC03LjgwNjk2IC0zLjc1NDMsLTE1LjczMjAxIC0xMi4zNzUsLTE3LjgxMjUgLTEuMjUzOTMsLTAuMjg1MTMgLTMuMDMyMjUsLTAuNzY5MzggLTQuMjUsLTEgLTUuMDg5MTIsLTAuOTYzNzggLTkuMjMwOTIsLTAuNzI2MSAtMTQuMDMxMjUsLTEuMTI1IC0xMC4yMjQ1NiwtMS4wNzEzOCAtMTguNjkzNSwtMS45NDI2OSAtMjYuMjE4NzUsLTQuMzEyNSAtMy4wNjgyNiwtMS4xOTAyOCAtNS4yNTEwMywtNC44NDEyNCAtNi4zMTI1NSwtNi4zNDM3NSBsIC01LjkwNjI1LC0xLjcxODc1IGMgMy4wNjIyNiwtMjIuMTU0NDIgMi4yMzY1NSwtNDUuMjExMzQgLTMuMDYyNSwtNjguMjgxMjUgLTUuMzQ4MzksLTIzLjI4NDcxIC0xNC44MDAzNywtNDQuNTgwODQgLTI3LjQwNjI1LC02My4zNDM3NSAxLjUxNTA1LC0xLjM3NzI5IDQuMzc2MTksLTMuOTEwOTEgNS4xODc1LC00LjY1NjI1IDAuMjM3MTYsLTIuNjI0MTcgMC4wMzM0LC01LjM3NTUzIDIuNzUsLTguMjgxMjUgNS43NTEzNCwtNS40MDA2OSAxMy4wMDMyOSwtOS44Nzg5OCAyMS43NSwtMTUuMjgxMjUgNC4xNTE2NywtMi40NDI1MiA3Ljk4OTU0LC00LjAxNjk4IDEyLjE1NjI1LC03LjA5Mzc1IDAuOTQyMjUsLTAuNjk1NzYgMi4yMjg5LC0xLjc5NzU5IDMuMjE4NzUsLTIuNTkzNzUgNy4wMTUzOCwtNS41OTYzMyA4LjYzMDU4LC0xNS4yNDg0MiAzLjU5Mzc1LC0yMS41NjI1IC01LjAzNjgzLC02LjMxNDA4IC0xNC43OTcxMiwtNi45MDg4MyAtMjEuODEyNSwtMS4zMTI1IC0wLjk5ODU2LDAuNzkwODUgLTIuMzUzNTMsMS44MjI1MiAtMy4yNSwyLjU5Mzc1IC0zLjkyNjUsMy4zNzc5NiAtNi4zNTE0NSw2LjcxNDM5IC05LjY1NjI1LDEwLjIxODc1IC03LjIxMjQ5LDcuMzI1OTUgLTEzLjE3NDA3LDEzLjQzNzc3IC0xOS43MTg3NSwxNy44NDM3NSAtMi44MzYwMSwxLjY1MTA2IC02Ljk4OTk2LDEuMDc5NzggLTguODc1MDUsMC45Njg3NSBsIC01LjU2MjUsMy45Njg3NSBjIC0zMS43MTg4LC0zMy4yNjA1NyAtNzQuOTA0NjYsLTU0LjUyNTQ2IC0xMjEuNDA2MDUsLTU4LjY1NjMgLTAuMTMwMDYsLTEuOTQ4NzIgLTAuMzAwNDUsLTUuNDcxMTcgLTAuMzQzNzUsLTYuNTMxMjUgLTEuOTAzNzEsLTEuODIxNjUgLTQuMjAzNDIsLTMuMzc2ODYgLTQuNzgxMjUsLTcuMzEyNSAtMC42MzYxNywtNy44NjM4OSAwLjQyNTk3LC0xNi4zMjQ1OSAxLjY1NjI1LC0yNi41MzEyNSAwLjY3OTEsLTQuNzY4NzYgMS44MDczOCwtOC43MzAyNSAyLC0xMy45MDYyNSAwLjA0MzgsLTEuMTc2NjMgLTAuMDI2NSwtMi44ODQwMSAtMC4wMzEyLC00LjE1NjI1IC05LjZlLTQsLTguOTc0MDkgLTYuNTQ4MDQsLTE2LjI1MDgyIC0xNC42MjUsLTE2LjI1IHogbSAtMTguMzEyNSwxMTMuNDM3NSAtNC4zNDM3NSw3Ni43MTg3NSAtMC4zMTI1LDAuMTU2MjUgYyAtMC4yOTEzNCw2Ljg2MzM1IC01LjkzOTk2LDEyLjM0Mzc1IC0xMi44NzUsMTIuMzQzNzUgLTIuODQwODEsMCAtNS40NjI5NCwtMC45MTIyOSAtNy41OTM3NSwtMi40Njg3NSBsIC0wLjEyNSwwLjA2MjUgLTYyLjkwNjI1LC00NC41OTM3NSBjIDE5LjMzMzY1LC0xOS4wMTExNSA0NC4wNjI5MSwtMzMuMDYwMzkgNzIuNTYyNSwtMzkuNTMxMjUgNS4yMDU5OSwtMS4xODIwMyAxMC40MDk2NiwtMi4wNTkxIDE1LjU5Mzc1LC0yLjY4NzUgeiBtIDM2LjY1NjI1LDAgYyAzMy4yNzM0Nyw0LjA5MjMyIDY0LjA0NTAxLDE5LjE1ODgyIDg3LjYyNSw0Mi4yNSBsIC02Mi41LDQ0LjMxMjUgLTAuMjE4NzUsLTAuMDkzNyBjIC01LjU0NzQ1LDQuMDUxNjkgLTEzLjM2MzQzLDMuMDQ2MzkgLTE3LjY4NzUsLTIuMzc1IC0xLjc3MTMyLC0yLjIyMDk2IC0yLjcwMDcyLC00LjgzMjM5IC0yLjgxMjUsLTcuNDY4NzUgbCAtMC4wNjI1LC0wLjAzMTIgeiBtIC0xNDcuNjI1LDcwLjg3NSA1Ny40Mzc1LDUxLjM3NSAtMC4wNjI1LDAuMzEyNSBjIDUuMTg0MzcsNC41MDY5NyA1Ljk0ODg4LDEyLjMyNzk0IDEuNjI1LDE3Ljc1IC0xLjc3MTIsMi4yMjEwNSAtNC4xNDIwOCwzLjcxMDc0IC02LjY4NzUsNC40MDYyNSBsIC0wLjA2MjUsMC4yNSAtNzMuNjI1LDIxLjI1IGMgLTMuNzQ3MjgsLTM0LjI2NTE3IDQuMzI4NTUsLTY3LjU3MzY0IDIxLjM3NSwtOTUuMzQzNzUgeiBtIDI1OC4xNTYyNSwwLjAzMTIgYyA4LjUzNDEsMTMuODMyNTYgMTQuOTk2NTUsMjkuMjgyMTQgMTguODQzNzUsNDYuMDMxMjUgMy44MDEwNiwxNi41NDgyOCA0Ljc1NDk5LDMzLjA2Njk3IDMuMTg3NSw0OS4wMzEyNSBsIC03NCwtMjEuMzEyNSAtMC4wNjI1LC0wLjMxMjUgYyAtNi42MjY1LC0xLjgxMTA0IC0xMC42OTg5MywtOC41NTE2MiAtOS4xNTYyNSwtMTUuMzEyNSAwLjYzMjAzLC0yLjc2OTYyIDIuMTAyMjIsLTUuMTEyNjQgNC4wOTM3NSwtNi44NDM3NSBsIC0wLjAzMTIsLTAuMTU2MjUgNTcuMTI1LC01MS4xMjUgeiBtIC0xNDAuNjU2MjUsNTUuMzEyNSAyMy41MzEyNSwwIDE0LjYyNSwxOC4yODEyNSAtNS4yNSwyMi44MTI1IC0yMS4xMjUsMTAuMTU2MjUgLTIxLjE4NzUsLTEwLjE4NzUgLTUuMjUsLTIyLjgxMjUgeiBtIDc1LjQzNzUsNjIuNTYyNSBjIDAuOTk5OTcsLTAuMDUwNSAxLjk5NTU4LDAuMDM5NiAyLjk2ODc1LDAuMjE4NzUgbCAwLjEyNSwtMC4xNTYyNSA3Ni4xNTYyNSwxMi44NzUgYyAtMTEuMTQ1NSwzMS4zMTMxIC0zMi40NzI4MSw1OC40NDAxOCAtNjAuOTY4NzUsNzYuNTkzNzUgbCAtMjkuNTYyNSwtNzEuNDA2MjUgMC4wOTM3LC0wLjEyNSBjIC0yLjcxNTYxLC02LjMwOTk5IDAuMDAyLC0xMy43MDk1NiA2LjI1LC0xNi43MTg3NSAxLjU5OTY1LC0wLjc3MDQxIDMuMjcwODksLTEuMTk3MDEgNC45Mzc1LC0xLjI4MTI1IHogbSAtMTI3LjkwNjI1LDAuMzEyNSBjIDUuODExNzQsMC4wODE1IDExLjAyNDYyLDQuMTE1MjUgMTIuMzc1LDEwLjAzMTI1IDAuNjMyMTksMi43Njk1OCAwLjMyNDUsNS41MTM3NSAtMC43MTg3NSw3LjkzNzUgbCAwLjIxODc1LDAuMjgxMjUgLTI5LjI1LDcwLjY4NzUgYyAtMjcuMzQ3MTYsLTE3LjU0ODYgLTQ5LjEyOTI3LC00My44MjQwMyAtNjAuNzgxMjUsLTc2LjA2MjQ1IGwgNzUuNSwtMTIuODEyNSAwLjEyNSwwLjE1NjI1IGMgMC44NDQ1MSwtMC4xNTU0MSAxLjcwMSwtMC4yMzA0IDIuNTMxMjUsLTAuMjE4NzUgeiBtIDYzLjc4MTI1LDMwLjk2ODggYyAyLjAyNDQ1LC0wLjA3NDQgNC4wNzg2NSwwLjM0MDk4IDYuMDMxMjUsMS4yODEyNSAyLjU1OTUxLDEuMjMyNTMgNC41MzY3MywzLjE3MzE5IDUuNzgxMjUsNS41IGwgMC4yODEyNSwwIDM3LjIxODc1LDY3LjI1IGMgLTQuODMwMjksMS42MTkyMyAtOS43OTYwOSwzLjAwMzA4IC0xNC44NzUsNC4xNTYyNSAtMjguNDY0NTMsNi40NjI5IC01Ni44Mzg2Miw0LjUwNDY3IC04Mi41MzEyNSwtNC4yNSBsIDM3LjEyNSwtNjcuMTI1IDAuMDYyNSwwIGMgMi4yMjc2NywtNC4xNjQ0MSA2LjQ1MjQ3LC02LjY0ODg3IDEwLjkwNjI1LC02LjgxMjUgeiIKICAgICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7YmFzZWxpbmUtc2hpZnQ6YmFzZWxpbmU7Y29sb3I6IzAwMDAwMDtmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiNmZmZmZmY7c3Ryb2tlLXdpZHRoOjAuMjU7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1kYXNoYXJyYXk6bm9uZTttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OlNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpTYW5zIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NjY2Njc2NjY2NzY3NzY2NzY2NjY2NjY2NzY2Njc2NjY2NjY2NjY2NjY2Njc2NjY3Njc2Njc2NjY2NzY3Njc2NjY2NjY2Njc2NjY3Njc2NjY2NzY2NjY3Njc2NzY2NjY2NjY2NjY2NjY2Njc2NjY3NjY2NjY2NjY2NjY2NzY2NjY2NzY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NzY2Njc2NjY2NjY2NjY3NjY2NzY2NjYyIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSIuL3BhdGgzMDU5LnBuZyIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1MC41NSIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1MC41NSIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="};for(let e in t){let n=new Image;n.src=t[e],n.onload=()=>{this.images.push(n),this.imagesLoaded++,this.imagesLoaded===Object.keys(t).length&&this.start()}}}draw(){this.ctx.fillStyle="rgba(0, 0, 0, 0.05)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#0F0",this.ctx.font=this.font_size+"px arial",this.tickCounter++,this.tickCounter>=this.TICKS_BEFORE_UPDATE&&(this.matrix=this.matrix.map((t,e)=>{let n=t;if(Math.random()>this.PROBABILITY_SVG){let a=this.images[Math.floor(Math.random()*this.images.length)];this.ctx.drawImage(a,e*this.font_size,t*this.font_size,this.font_size,this.font_size),n=t+1}else{let n=String.fromCharCode(12448+96*Math.random());this.ctx.fillText(n,e*this.font_size,t*this.font_size)}return t*this.font_size>this.canvas.height&&Math.random()>this.PROBABILITY_RESET&&(n=0),n}),this.tickCounter=0)}start(){setInterval(()=>this.draw(),30)}}var e={};e=(()=>{var t,e,n,a,i,r,o,s,u,c,l,h,d,f,g,M,p,m,y,N,v,I,j,L,b,A,T,w,C,D,z,S=[,(t,e,n)=>{var a;n.r(e),n.d(e,{default:()=>i});let i=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t={}){function e(){function t(t){let r=a;n=e=0,a=new Map,r.forEach(e=>{try{e(t)}catch(t){console.error(t)}}),this.fb(),i&&i.Db()}let e=0,n=0,a=new Map,i=null,r=null;this.requestAnimationFrame=function(i){e||(e=requestAnimationFrame(t.bind(this)));let r=++n;return a.set(r,i),r},this.cancelAnimationFrame=function(t){a.delete(t),e&&0==a.size&&(cancelAnimationFrame(e),e=0)},this.Bb=function(t){r&&(document.body.remove(r),r=null),t||((r=document.createElement("div")).style.backgroundColor="black",r.style.position="fixed",r.style.right=0,r.style.top=0,r.style.color="white",r.style.padding="4px",r.innerHTML="RIVE FPS",t=function(t){r.innerHTML="RIVE FPS "+t.toFixed(1)},document.body.appendChild(r)),i=new function(){let e=0,n=0;this.Db=function(){var a=performance.now();n?(++e,1e3<(a-=n)&&(t(1e3*e/a),e=n=0)):(n=a,e=0)}}},this.yb=function(){r&&(document.body.remove(r),r=null),i=null},this.fb=function(){}}function n(t){console.assert(!0);let e=new Map,n=-1/0;this.push=function(a){return a=a+((1<<t)-1)>>t,e.has(a)&&clearTimeout(e.get(a)),e.set(a,setTimeout(function(){e.delete(a),0==e.length?n=-1/0:a==n&&console.assert((n=Math.max(...e.keys()))<a)},1e3)),(n=Math.max(a,n))<<t}}t.ready=new Promise((t,e)=>{c=t,l=e});let i="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),r=new function(){function t(){if(!e){var t=document.createElement("canvas"),n={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let u=t.getContext("webgl2",n);if(u)a=2;else{if(!(u=t.getContext("webgl",n)))return console.log("No WebGL support. Image mesh will not be drawn."),!1;a=1}function s(t,e,n){if(e=u.createShader(e),u.shaderSource(e,n),u.compileShader(e),0<(n=u.getShaderInfoLog(e)).length)throw n;u.attachShader(t,e)}if(i=Math.min(u.getParameter(u.MAX_RENDERBUFFER_SIZE),u.getParameter(u.MAX_TEXTURE_SIZE)),s(t=u.createProgram(),u.VERTEX_SHADER,"attribute vec2 vertex;\n                attribute vec2 uv;\n                uniform vec4 mat;\n                uniform vec2 translate;\n                varying vec2 st;\n                void main() {\n                    st = uv;\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\n                }"),s(t,u.FRAGMENT_SHADER,"precision highp float;\n                uniform sampler2D image;\n                varying vec2 st;\n                void main() {\n                    gl_FragColor = texture2D(image, st);\n                }"),u.bindAttribLocation(t,0,"vertex"),u.bindAttribLocation(t,1,"uv"),u.linkProgram(t),0<(n=u.getProgramInfoLog(t)).trim().length)throw n;r=u.getUniformLocation(t,"mat"),o=u.getUniformLocation(t,"translate"),u.useProgram(t),u.bindBuffer(u.ARRAY_BUFFER,u.createBuffer()),u.enableVertexAttribArray(0),u.enableVertexAttribArray(1),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,u.createBuffer()),u.uniform1i(u.getUniformLocation(t,"image"),0),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=u}return!0}let e=null,a=0,i=0,r=null,o=null,s=0,u=0;this.Mb=function(){return t(),i},this.vb=function(n){if(!t())return null;let i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),2==a?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),i};let c=new n(8),l=new n(8),h=new n(10),d=new n(10);this.Ab=function(n,a,i,f,g){if(t()){var M=c.push(n),p=l.push(a);for(var m of((e.canvas.width!=M||e.canvas.height!=p)&&(e.canvas.width=M,e.canvas.height=p),e.viewport(0,p-a,n,a),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),i.sort((t,e)=>e.jb-t.jb),M=h.push(f),s!=M&&(e.bufferData(e.ARRAY_BUFFER,8*M,e.DYNAMIC_DRAW),s=M),M=0,i))e.bufferSubData(e.ARRAY_BUFFER,M,m.Ra),M+=4*m.Ra.length;for(var y of(console.assert(M==4*f),i))e.bufferSubData(e.ARRAY_BUFFER,M,y.mb),M+=4*y.mb.length;for(var N of(console.assert(M==8*f),M=d.push(g),u!=M&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*M,e.DYNAMIC_DRAW),u=M),m=0,i))e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,m,N.indices),m+=2*N.indices.length;for(let t of(console.assert(m==2*g),N=0,y=!0,M=m=0,i)){t.image.Ma!=N&&(e.bindTexture(e.TEXTURE_2D,t.image.rb||null),N=t.image.Ma),t.Pb?(e.scissor(t.Va,p-t.Wa-t.cb,t.$b,t.cb),y=!0):y&&(e.scissor(0,p-a,n,a),y=!1),i=2/n;let s=-2/a;e.uniform4f(r,t.xa[0]*i*t.Ga,t.xa[1]*s*t.Ha,t.xa[2]*i*t.Ga,t.xa[3]*s*t.Ha),e.uniform2f(o,t.xa[4]*i*t.Ga+i*(t.Va-t.Nb*t.Ga)-1,t.xa[5]*s*t.Ha+s*(t.Wa-t.Ob*t.Ha)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,M),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,M+4*f),e.drawElements(e.TRIANGLES,t.indices.length,e.UNSIGNED_SHORT,m),M+=4*t.Ra.length,m+=2*t.indices.length}console.assert(M==4*f),console.assert(m==2*g)}},this.canvas=function(){return t()&&e.canvas}},o=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){function n(t){switch(t){case g.srcOver:return"source-over";case g.screen:return"screen";case g.overlay:return"overlay";case g.darken:return"darken";case g.lighten:return"lighten";case g.colorDodge:return"color-dodge";case g.colorBurn:return"color-burn";case g.hardLight:return"hard-light";case g.softLight:return"soft-light";case g.difference:return"difference";case g.exclusion:return"exclusion";case g.multiply:return"multiply";case g.hue:return"hue";case g.saturation:return"saturation";case g.color:return"color";case g.luminosity:return"luminosity"}}function a(t){return"rgba("+((16711680&t)>>>16)+","+((65280&t)>>>8)+","+((255&t)>>>0)+","+((4278190080&t)>>>24)/255+")"}function s(){for(let t of(0<b.length&&(r.Ab(L.drawWidth(),L.drawHeight(),b,A,T),b=[],T=A=0,L.reset(512,512)),j)){for(let e of t.ja)e();t.ja=[]}j.clear()}o&&o();var u=t.RenderPaintStyle;let c=t.RenderPath,l=t.RenderPaint,h=t.Renderer,d=t.StrokeCap,f=t.StrokeJoin,g=t.BlendMode,M=u.fill,p=u.stroke,m=t.FillRule.evenOdd,y=1;var N=t.RenderImage.extend("CanvasRenderImage",{__construct:function({Aa:t,Fa:e}={}){this.__parent.__construct.call(this),this.Ma=y,y=y+1&2147483647||1,this.Aa=t,this.Fa=e},decode:function(t){var e=this;e.Fa&&e.Fa(e);var n=new Image;n.src=URL.createObjectURL(new Blob([t],{type:"image/png"})),n.onload=function(){e.ob=n,e.rb=r.vb(n),e.size(n.width,n.height),e.Aa&&e.Aa(e)}}}),v=c.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.pa=new Path2D},rewind:function(){this.pa=new Path2D},addPath:function(t,e,n,a,i,r,o){var s=this.pa,u=s.addPath;t=t.pa;let c=new DOMMatrix;c.a=e,c.b=n,c.c=a,c.d=i,c.e=r,c.f=o,u.call(s,t,c)},fillRule:function(t){this.Ta=t},moveTo:function(t,e){this.pa.moveTo(t,e)},lineTo:function(t,e){this.pa.lineTo(t,e)},cubicTo:function(t,e,n,a,i,r){this.pa.bezierCurveTo(t,e,n,a,i,r)},close:function(){this.pa.closePath()}}),I=l.extend("CanvasRenderPaint",{color:function(t){this.Ua=a(t)},thickness:function(t){this.sb=t},join:function(t){switch(t){case f.miter:this.La="miter";break;case f.round:this.La="round";break;case f.bevel:this.La="bevel"}},cap:function(t){switch(t){case d.butt:this.Ka="butt";break;case d.round:this.Ka="round";break;case d.square:this.Ka="square"}},style:function(t){this.qb=t},blendMode:function(t){this.nb=n(t)},clearGradient:function(){this.za=null},linearGradient:function(t,e,n,a){this.za={kb:t,lb:e,Za:n,$a:a,Pa:[]}},radialGradient:function(t,e,n,a){this.za={kb:t,lb:e,Za:n,$a:a,Pa:[],Kb:!0}},addStop:function(t,e){this.za.Pa.push({color:t,stop:e})},completeGradient:function(){},draw:function(t,e,n){let i=this.qb;var r=this.Ua,o=this.za;if(t.globalCompositeOperation=this.nb,null!=o){r=o.kb;var s=o.lb;let e=o.Za;var u=o.$a;let n=o.Pa;o.Kb?(o=e-r,u-=s,r=t.createRadialGradient(r,s,0,r,s,Math.sqrt(o*o+u*u))):r=t.createLinearGradient(r,s,e,u);for(let t=0,e=n.length;t<e;t++)s=n[t],r.addColorStop(s.stop,a(s.color));this.Ua=r,this.za=null}switch(i){case p:t.strokeStyle=r,t.lineWidth=this.sb,t.lineCap=this.Ka,t.lineJoin=this.La,t.stroke(e);break;case M:t.fillStyle=r,t.fill(e,n)}}});let j=new Set,L=null,b=[],A=0,T=0;var w=t.CanvasRenderer=h.extend("Renderer",{__construct:function(t){this.__parent.__construct.call(this),this.oa=[1,0,0,1,0,0],this.ha=t.getContext("2d"),this.Sa=t,this.ja=[]},save:function(){this.oa.push(...this.oa.slice(this.oa.length-6)),this.ja.push(this.ha.save.bind(this.ha))},restore:function(){let t=this.oa.length-6;if(6>t)throw"restore() called without matching save().";this.oa.splice(t),this.ja.push(this.ha.restore.bind(this.ha))},transform:function(t,e,n,a,i,r){let o=this.oa,s=o.length-6;o.splice(s,6,o[s]*t+o[s+2]*e,o[s+1]*t+o[s+3]*e,o[s]*n+o[s+2]*a,o[s+1]*n+o[s+3]*a,o[s]*i+o[s+2]*r+o[s+4],o[s+1]*i+o[s+3]*r+o[s+5]),this.ja.push(this.ha.transform.bind(this.ha,t,e,n,a,i,r))},rotate:function(t){let e=Math.sin(t);t=Math.cos(t),this.transform(t,e,-e,t,0,0)},_drawPath:function(t,e){this.ja.push(e.draw.bind(e,this.ha,t.pa,t.Ta===m?"evenodd":"nonzero"))},_drawRiveImage:function(t,e,a){var i=t.ob;if(i){var r=this.ha,o=n(e);this.ja.push(function(){r.globalCompositeOperation=o,r.globalAlpha=a,r.drawImage(i,0,0),r.globalAlpha=1})}},_getMatrix:function(t){let e=this.oa,n=e.length-6;for(let a=0;6>a;++a)t[a]=e[n+a]},_drawImageMesh:function(e,a,i,o,u,c,l,h,d,f){var g=this.ha.canvas.width,M=this.ha.canvas.height;let p=d-l,m=f-h;l=Math.max(l,0),h=Math.max(h,0);let y=(d=Math.min(d,g))-l,N=(f=Math.min(f,M))-h;if(console.assert(y<=Math.min(p,g)),console.assert(N<=Math.min(m,M)),!(0>=y||0>=N)){d=y<p||N<m,g=f=1;var v=Math.ceil(y*f),I=Math.ceil(N*g);M=r.Mb(),v>M&&(f*=M/v,v=M),I>M&&(g*=M/I,I=M),L||(L=new t.DynamicRectanizer(M)).reset(512,512),0>(M=L.addRect(v,I))&&(s(),j.add(this),console.assert(0<=(M=L.addRect(v,I))));var w=65535&M,C=M>>16;b.push({xa:this.oa.slice(this.oa.length-6),image:e,Va:w,Wa:C,Nb:l,Ob:h,$b:v,cb:I,Ga:f,Ha:g,Ra:new Float32Array(o),mb:new Float32Array(u),indices:new Uint16Array(c),Pb:d,jb:e.Ma<<1|(d?1:0)}),A+=o.length,T+=c.length;var D=this.ha,z=n(a);this.ja.push(function(){D.save(),D.resetTransform(),D.globalCompositeOperation=z,D.globalAlpha=i,D.drawImage(r.canvas(),w,C,v,I,l,h,y,N),D.restore()})}},_clipPath:function(t){this.ja.push(this.ha.clip.bind(this.ha,t.pa,t.Ta===m?"evenodd":"nonzero"))},clear:function(){j.add(this),this.ja.push(this.ha.clearRect.bind(this.ha,0,0,this.Sa.width,this.Sa.height))},flush:function(){},translate:function(t,e){this.transform(1,0,0,1,t,e)}});t.makeRenderer=function(t){let e=new w(t),n=e.ha;return new Proxy(e,{get(t,a){if("function"==typeof t[a])return function(...e){return t[a].apply(t,e)};if("function"==typeof n[a]){if(-1<i.indexOf(a))throw Error("RiveException: Method call to '"+a+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...t){e.ja.push(n[a].bind(n,...t))}}return t[a]},set(t,e,a){if(e in n)return n[e]=a,!0}})},t.decodeImage=function(t,e){new N({Aa:e}).decode(t)},t.renderFactory={makeRenderPaint:function(){return new I},makeRenderPath:function(){return new v},makeRenderImage:function(){let t=D;return new N({Fa:()=>{t.total++},Aa:()=>{if(t.loaded++,t.loaded===t.total){let e=t.ready;e&&(e(),t.ready=null)}}})}};let C=t.load,D=null;t.load=function(e,n,a=!0){let i=new t.FallbackFileAssetLoader;return void 0!==n&&i.addLoader(n),a&&(n=new t.CDNFileAssetLoader,i.addLoader(n)),new Promise(function(t){let n=null;D={total:0,loaded:0,ready:function(){t(n)}},n=C(e,i),0==D.total&&t(n)})},u=new e,t.requestAnimationFrame=u.requestAnimationFrame.bind(u),t.cancelAnimationFrame=u.cancelAnimationFrame.bind(u),t.enableFPSCounter=u.Bb.bind(u),t.disableFPSCounter=u.yb,u.fb=s,t.cleanup=function(){L&&L.delete()}};let s=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){s&&s();let e=t.decodeFont;t.decodeFont=function(t,n){n(t=e(t))};let n=t.FileAssetLoader;t.ptrToAsset=e=>{let n=t.ptrToFileAsset(e);return n.isImage?t.ptrToImageAsset(e):n.isFont?t.ptrToFontAsset(e):n},t.CustomFileAssetLoader=n.extend("CustomFileAssetLoader",{__construct:function({loadContents:t}){this.__parent.__construct.call(this),this.pb=t},loadContents:function(e,n){return e=t.ptrToAsset(e),this.pb(e,n)}}),t.CDNFileAssetLoader=n.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(e){var n,a,i;let r=t.ptrToAsset(e);return""!==(e=r.cdnUuid)&&(n=r.cdnBaseUrl+"/"+e,a=t=>{r.decode(new Uint8Array(t.response))},(i=new XMLHttpRequest).responseType="arraybuffer",i.onreadystatechange=function(){4==i.readyState&&200==i.status&&a(i)},i.open("GET",n,!0),i.send(null),!0)}}),t.FallbackFileAssetLoader=n.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.eb=[]},addLoader:function(t){this.eb.push(t)},loadContents:function(t,e){for(let n of this.eb)if(n.loadContents(t,e))return!0;return!1}})};var u,c,l,h,d,f=Object.assign({},t),g="./this.program",M="object"==typeof window,p="function"==typeof importScripts,m="";(M||p)&&(p?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),a&&(m=a),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",p&&(d=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),h=(t,e,n)=>{var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer",a.onload=()=>{200==a.status||0==a.status&&a.response?e(a.response):n()},a.onerror=n,a.send(null)});var y=t.print||console.log.bind(console),N=t.printErr||console.error.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(g=t.thisProgram),t.wasmBinary&&(v=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&F("no native wasm support detected");var v,I,j,L,b,A,T,w,C,D,z,S=!1;function E(){var e=I.buffer;t.HEAP8=L=new Int8Array(e),t.HEAP16=A=new Int16Array(e),t.HEAP32=w=new Int32Array(e),t.HEAPU8=b=new Uint8Array(e),t.HEAPU16=T=new Uint16Array(e),t.HEAPU32=C=new Uint32Array(e),t.HEAPF32=D=new Float32Array(e),t.HEAPF64=z=new Float64Array(e)}var x,O=[],U=[],Y=[],R=0,k=null,P=null;function F(e){throw t.onAbort&&t.onAbort(e),N(e="Aborted("+e+")"),S=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),l(e),e}function Q(t){return t.startsWith("data:application/octet-stream;base64,")}if(!Q(t9="canvas_advanced.wasm")){var B=t9;t9=t.locateFile?t.locateFile(B,m):m+B}function W(t){if(t==t9&&v)return new Uint8Array(v);if(d)return d(t);throw"both async and sync fetching of the wasm failed"}function _(t,e,n){return(function(t){if(!v&&(M||p)){if("function"==typeof fetch&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>W(t));if(h)return new Promise((e,n)=>{h(t,t=>e(new Uint8Array(t)),n)})}return Promise.resolve().then(()=>W(t))})(t).then(t=>WebAssembly.instantiate(t,e)).then(t=>t).then(n,t=>{N("failed to asynchronously prepare wasm: "+t),F(t)})}var Z=e=>{for(;0<e.length;)e.shift()(t)};function G(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function X(t,e){return({[t=G(t)]:function(){return e.apply(this,arguments)}})[t]}function H(){this.qa=[void 0],this.bb=[]}var $=new H,J=void 0;function V(t){throw new J(t)}var K=t=>(t||V("Cannot use deleted val. handle = "+t),$.get(t).value),q=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return $.tb({ib:1,value:t})}};function tt(t){var e=Error,n=X(t,function(e){this.name=t,this.message=e,void 0!==(e=Error(e).stack)&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},n}var te=void 0,tn=void 0;function ta(t){for(var e="";b[t];)e+=tn[b[t++]];return e}var ti=[];function tr(){for(;ti.length;){var t=ti.pop();t.ba.wa=!1,t.delete()}}var to=void 0,ts={};function tu(t,e){for(void 0===e&&V("ptr should not be undefined");t.fa;)e=t.Ba(e),t=t.fa;return e}var tc={};function tl(t){var e=ta(t=ef(t));return eh(t),e}function th(t,e){var n=tc[t];return void 0===n&&V(e+" has unknown type "+tl(t)),n}function td(){}var tf=!1;function tg(t){--t.count.value,0===t.count.value&&(t.ia?t.la.ra(t.ia):t.ea.ca.ra(t.da))}var tM={},tp=void 0;function tm(t){throw new tp(t)}function ty(t,e){return e.ea&&e.da||tm("makeClassHandle requires ptr and ptrType"),!!e.la!=!!e.ia&&tm("Both smartPtrType and smartPtr must be specified"),e.count={value:1},tN(Object.create(t,{ba:{value:e}}))}function tN(t){return"undefined"==typeof FinalizationRegistry?(tN=t=>t,t):(tf=new FinalizationRegistry(t=>{tg(t.ba)}),tN=t=>{var e=t.ba;return e.ia&&tf.register(t,{ba:e},t),t},td=t=>{tf.unregister(t)},tN(t))}var tv={};function tI(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function tj(t){return this.fromWireType(w[t>>2])}var tL={},tb={};function tA(t,e,n){function a(e){(e=n(e)).length!==t.length&&tm("Mismatched type converter count");for(var a=0;a<t.length;++a)tw(t[a],e[a])}t.forEach(function(t){tb[t]=e});var i=Array(e.length),r=[],o=0;e.forEach((t,e)=>{tc.hasOwnProperty(t)?i[e]=tc[t]:(r.push(t),tL.hasOwnProperty(t)||(tL[t]=[]),tL[t].push(()=>{i[e]=tc[t],++o===r.length&&a(i)}))}),0===r.length&&a(i)}function tT(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw TypeError(`Unknown type size: ${t}`)}}function tw(t,e,n={}){if(!("argPackAdvance"in e))throw TypeError("registerType registeredInstance requires argPackAdvance");!function(t,e,n={}){var a=e.name;if(t||V(`type "${a}" must have a positive integer typeid pointer`),tc.hasOwnProperty(t)){if(n.Jb)return;V(`Cannot register type '${a}' twice`)}tc[t]=e,delete tb[t],tL.hasOwnProperty(t)&&(e=tL[t],delete tL[t],e.forEach(t=>t()))}(t,e,n)}function tC(t){V(t.ba.ea.ca.name+" instance already deleted")}function tD(){}function tz(t,e,n){if(void 0===t[e].ga){var a=t[e];t[e]=function(){return t[e].ga.hasOwnProperty(arguments.length)||V(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].ga})!`),t[e].ga[arguments.length].apply(this,arguments)},t[e].ga=[],t[e].ga[a.va]=a}}function tS(e,n,a){t.hasOwnProperty(e)?((void 0===a||void 0!==t[e].ga&&void 0!==t[e].ga[a])&&V(`Cannot register public name '${e}' twice`),tz(t,e,e),t.hasOwnProperty(a)&&V(`Cannot register multiple overloads of a function with the same number of arguments (${a})!`),t[e].ga[a]=n):(t[e]=n,void 0!==a&&(t[e].ac=a))}function tE(t,e,n,a,i,r,o,s){this.name=t,this.constructor=e,this.ma=n,this.ra=a,this.fa=i,this.Eb=r,this.Ba=o,this.zb=s,this.gb=[]}function tx(t,e,n){for(;e!==n;)e.Ba||V(`Expected null or instance of ${n.name}, got an instance of ${e.name}`),t=e.Ba(t),e=e.fa;return t}function tO(t,e){return null===e?(this.Na&&V(`null is not a valid ${this.name}`),0):(e.ba||V(`Cannot pass "${tX(e)}" as a ${this.name}`),e.ba.da||V(`Cannot pass deleted object as a pointer of type ${this.name}`),tx(e.ba.da,e.ba.ea.ca,this.ca))}function tU(t,e){if(null===e){if(this.Na&&V(`null is not a valid ${this.name}`),this.Ea){var n=this.Oa();return null!==t&&t.push(this.ra,n),n}return 0}if(e.ba||V(`Cannot pass "${tX(e)}" as a ${this.name}`),e.ba.da||V(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Da&&e.ba.ea.Da&&V(`Cannot convert argument of type ${e.ba.la?e.ba.la.name:e.ba.ea.name} to parameter type ${this.name}`),n=tx(e.ba.da,e.ba.ea.ca,this.ca),this.Ea)switch(void 0===e.ba.ia&&V("Passing raw pointer to smart pointer is illegal"),this.Vb){case 0:e.ba.la===this?n=e.ba.ia:V(`Cannot convert argument of type ${e.ba.la?e.ba.la.name:e.ba.ea.name} to parameter type ${this.name}`);break;case 1:n=e.ba.ia;break;case 2:if(e.ba.la===this)n=e.ba.ia;else{var a=e.clone();n=this.Rb(n,q(function(){a.delete()})),null!==t&&t.push(this.ra,n)}break;default:V("Unsupporting sharing policy")}return n}function tY(t,e){return null===e?(this.Na&&V(`null is not a valid ${this.name}`),0):(e.ba||V(`Cannot pass "${tX(e)}" as a ${this.name}`),e.ba.da||V(`Cannot pass deleted object as a pointer of type ${this.name}`),e.ba.ea.Da&&V(`Cannot convert argument of type ${e.ba.ea.name} to parameter type ${this.name}`),tx(e.ba.da,e.ba.ea.ca,this.ca))}function tR(t,e,n,a){this.name=t,this.ca=e,this.Na=n,this.Da=a,this.Ea=!1,this.ra=this.Rb=this.Oa=this.hb=this.Vb=this.Qb=void 0,void 0!==e.fa?this.toWireType=tU:(this.toWireType=a?tO:tY,this.ka=null)}function tk(e,n,a){t.hasOwnProperty(e)||tm("Replacing nonexistant public symbol"),void 0!==t[e].ga&&void 0!==a?t[e].ga[a]=n:(t[e]=n,t[e].va=a)}var tP=(e,n)=>{var a=[];return function(){if(a.length=0,Object.assign(a,arguments),e.includes("j")){var i=t["dynCall_"+e];i=a&&a.length?i.apply(null,[n].concat(a)):i.call(null,n)}else i=x.get(n).apply(null,a);return i}};function tF(t,e){var n=(t=ta(t)).includes("j")?tP(t,e):x.get(e);return"function"!=typeof n&&V(`unknown function pointer with signature ${t}: ${e}`),n}var tQ=void 0;function tB(t,e){var n=[],a={};throw e.forEach(function t(e){a[e]||tc[e]||(tb[e]?tb[e].forEach(t):(n.push(e),a[e]=!0))}),new tQ(`${t}: `+n.map(tl).join([", "]))}function tW(t,e,n,a,i){var r=e.length;2>r&&V("argTypes array size mismatch! Must at least get return value and 'this' types!");var o=null!==e[1]&&null!==n,s=!1;for(n=1;n<e.length;++n)if(null!==e[n]&&void 0===e[n].ka){s=!0;break}var u="void"!==e[0].name,c=r-2,l=Array(c),h=[],d=[];return function(){if(arguments.length!==c&&V(`function ${t} called with ${arguments.length} arguments, expected ${c} args!`),d.length=0,h.length=o?2:1,h[0]=i,o){var n=e[1].toWireType(d,this);h[1]=n}for(var r=0;r<c;++r)l[r]=e[r+2].toWireType(d,arguments[r]),h.push(l[r]);if(r=a.apply(null,h),s)tI(d);else for(var f=o?1:2;f<e.length;f++){var g=1===f?n:l[f-2];null!==e[f].ka&&e[f].ka(g)}return u?e[0].fromWireType(r):void 0}}function t_(t,e){for(var n=[],a=0;a<t;a++)n.push(C[e+4*a>>2]);return n}function tZ(t,e,n){return t instanceof Object||V(`${n} with invalid "this": ${t}`),t instanceof e.ca.constructor||V(`${n} incompatible with "this" of type ${t.constructor.name}`),t.ba.da||V(`cannot call emscripten binding method ${n} on deleted object`),tx(t.ba.da,t.ba.ea.ca,e.ca)}function tG(t){t>=$.Xa&&0==--$.get(t).ib&&$.wb(t)}function tX(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}var tH=(t,e,n,a)=>{if(0<a){a=n+a-1;for(var i=0;i<t.length;++i){var r=t.charCodeAt(i);if(55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++i)),127>=r){if(n>=a)break;e[n++]=r}else{if(2047>=r){if(n+1>=a)break;e[n++]=192|r>>6}else{if(65535>=r){if(n+2>=a)break;e[n++]=224|r>>12}else{if(n+3>=a)break;e[n++]=240|r>>18,e[n++]=128|r>>12&63}e[n++]=128|r>>6&63}e[n++]=128|63&r}}e[n]=0}},t$=t=>{for(var e=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);127>=a?e++:2047>=a?e+=2:55296<=a&&57343>=a?(e+=4,++n):e+=3}return e},tJ="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,tV=(t,e,n)=>{var a=e+n;for(n=e;t[n]&&!(n>=a);)++n;if(16<n-e&&t.buffer&&tJ)return tJ.decode(t.subarray(e,n));for(a="";e<n;){var i=t[e++];if(128&i){var r=63&t[e++];if(192==(224&i))a+=String.fromCharCode((31&i)<<6|r);else{var o=63&t[e++];65536>(i=224==(240&i)?(15&i)<<12|r<<6|o:(7&i)<<18|r<<12|o<<6|63&t[e++])?a+=String.fromCharCode(i):(i-=65536,a+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else a+=String.fromCharCode(i)}return a},tK="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,tq=(t,e)=>{for(var n=t>>1,a=n+e/2;!(n>=a)&&T[n];)++n;if(32<(n<<=1)-t&&tK)return tK.decode(b.subarray(t,n));for(a=0,n="";!(a>=e/2);++a){var i=A[t+2*a>>1];if(0==i)break;n+=String.fromCharCode(i)}return n},t0=(t,e,n)=>{if(void 0===n&&(n=2147483647),2>n)return 0;n-=2;var a=e;n=n<2*t.length?n/2:t.length;for(var i=0;i<n;++i)A[e>>1]=t.charCodeAt(i),e+=2;return A[e>>1]=0,e-a},t1=t=>2*t.length,t2=(t,e)=>{for(var n=0,a="";!(n>=e/4);){var i=w[t+4*n>>2];if(0==i)break;++n,65536<=i?(i-=65536,a+=String.fromCharCode(55296|i>>10,56320|1023&i)):a+=String.fromCharCode(i)}return a},t4=(t,e,n)=>{if(void 0===n&&(n=2147483647),4>n)return 0;var a=e;n=a+n-4;for(var i=0;i<t.length;++i){var r=t.charCodeAt(i);if(55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++i)),w[e>>2]=r,(e+=4)+4>n)break}return w[e>>2]=0,e-a},t3=t=>{for(var e=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);55296<=a&&57343>=a&&++n,e+=4}return e},t5={};function t6(t){var e=t5[t];return void 0===e?ta(t):e}var t9,t8,t7=[],et=[],ee={},en=()=>{if(!t8){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(t in ee)void 0===ee[t]?delete e[t]:e[t]=ee[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);t8=n}return t8},ea=[null,[],[]],ei=t=>0==t%4&&(0!=t%100||0==t%400),er=[31,29,31,30,31,30,31,31,30,31,30,31],eo=[31,28,31,30,31,30,31,31,30,31,30,31],es=(t,e,n,a)=>{function i(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function r(t,e){return i(t,e,"0")}function o(t,e){var n;function a(t){return 0>t?-1:0<t?1:0}return 0===(n=a(t.getFullYear()-e.getFullYear()))&&0===(n=a(t.getMonth()-e.getMonth()))&&(n=a(t.getDate()-e.getDate())),n}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function u(t){var e=t.ta;for(t=new Date(new Date(t.ua+1900,0,1).getTime());0<e;){var n=t.getMonth(),a=(ei(t.getFullYear())?er:eo)[n];if(e>a-t.getDate())e-=a-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else{t.setDate(t.getDate()+e);break}}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var c,l,h=w[a+40>>2];for(var d in a={Yb:w[a>>2],Xb:w[a+4>>2],Ia:w[a+8>>2],Qa:w[a+12>>2],Ja:w[a+16>>2],ua:w[a+20>>2],na:w[a+24>>2],ta:w[a+28>>2],bc:w[a+32>>2],Wb:w[a+36>>2],Zb:h&&h?tV(b,h):""},n=n?tV(b,n):"",h={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(RegExp(d,"g"),h[d]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),g="January February March April May June July August September October November December".split(" ");for(d in h={"%a":t=>f[t.na].substring(0,3),"%A":t=>f[t.na],"%b":t=>g[t.Ja].substring(0,3),"%B":t=>g[t.Ja],"%C":t=>r((t.ua+1900)/100|0,2),"%d":t=>r(t.Qa,2),"%e":t=>i(t.Qa,2," "),"%g":t=>u(t).toString().substring(2),"%G":t=>u(t),"%H":t=>r(t.Ia,2),"%I":t=>(0==(t=t.Ia)?t=12:12<t&&(t-=12),r(t,2)),"%j":t=>{for(var e=0,n=0;n<=t.Ja-1;e+=(ei(t.ua+1900)?er:eo)[n++]);return r(t.Qa+e,3)},"%m":t=>r(t.Ja+1,2),"%M":t=>r(t.Xb,2),"%n":()=>"\n","%p":t=>0<=t.Ia&&12>t.Ia?"AM":"PM","%S":t=>r(t.Yb,2),"%t":()=>"	","%u":t=>t.na||7,"%U":t=>r(Math.floor((t.ta+7-t.na)/7),2),"%V":t=>{var e=Math.floor((t.ta+7-(t.na+6)%7)/7);if(2>=(t.na+371-t.ta-2)%7&&e++,e)53==e&&(4==(n=(t.na+371-t.ta)%7)||3==n&&ei(t.ua)||(e=1));else{e=52;var n=(t.na+7-t.ta-1)%7;(4==n||5==n&&ei(t.ua%400-1))&&e++}return r(e,2)},"%w":t=>t.na,"%W":t=>r(Math.floor((t.ta+7-(t.na+6)%7)/7),2),"%y":t=>(t.ua+1900).toString().substring(2),"%Y":t=>t.ua+1900,"%z":t=>{var e=0<=(t=t.Wb);return(e?"+":"-")+String("0000"+((t=Math.abs(t)/60)/60*100+t%60)).slice(-4)},"%Z":t=>t.Zb,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0"),h)n.includes(d)&&(n=n.replace(RegExp(d,"g"),h[d](a)));return(l=Array(t$(c=n=n.replace(/\0\0/g,"%"))+1),tH(c,l,0,l.length),(d=l).length>e)?0:(L.set(d,t),d.length-1)};Object.assign(H.prototype,{get(t){return this.qa[t]},has(t){return void 0!==this.qa[t]},tb(t){var e=this.bb.pop()||this.qa.length;return this.qa[e]=t,e},wb(t){this.qa[t]=void 0,this.bb.push(t)}}),J=t.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},$.qa.push({value:void 0},{value:null},{value:!0},{value:!1}),$.Xa=$.qa.length,t.count_emval_handles=function(){for(var t=0,e=$.Xa;e<$.qa.length;++e)void 0!==$.qa[e]&&++t;return t},te=t.PureVirtualError=tt("PureVirtualError");for(var eu=Array(256),ec=0;256>ec;++ec)eu[ec]=String.fromCharCode(ec);tn=eu,t.getInheritedInstanceCount=function(){return Object.keys(ts).length},t.getLiveInheritedInstances=function(){var t,e=[];for(t in ts)ts.hasOwnProperty(t)&&e.push(ts[t]);return e},t.flushPendingDeletes=tr,t.setDelayFunction=function(t){to=t,ti.length&&to&&to(tr)},tp=t.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},tD.prototype.isAliasOf=function(t){if(!(this instanceof tD&&t instanceof tD))return!1;var e=this.ba.ea.ca,n=this.ba.da,a=t.ba.ea.ca;for(t=t.ba.da;e.fa;)n=e.Ba(n),e=e.fa;for(;a.fa;)t=a.Ba(t),a=a.fa;return e===a&&n===t},tD.prototype.clone=function(){if(this.ba.da||tC(this),this.ba.ya)return this.ba.count.value+=1,this;var t=tN,e=Object,n=e.create,a=Object.getPrototypeOf(this),i=this.ba;return t=t(n.call(e,a,{ba:{value:{count:i.count,wa:i.wa,ya:i.ya,da:i.da,ea:i.ea,ia:i.ia,la:i.la}}})),t.ba.count.value+=1,t.ba.wa=!1,t},tD.prototype.delete=function(){this.ba.da||tC(this),this.ba.wa&&!this.ba.ya&&V("Object already scheduled for deletion"),td(this),tg(this.ba),this.ba.ya||(this.ba.ia=void 0,this.ba.da=void 0)},tD.prototype.isDeleted=function(){return!this.ba.da},tD.prototype.deleteLater=function(){return this.ba.da||tC(this),this.ba.wa&&!this.ba.ya&&V("Object already scheduled for deletion"),ti.push(this),1===ti.length&&to&&to(tr),this.ba.wa=!0,this},tR.prototype.Fb=function(t){return this.hb&&(t=this.hb(t)),t},tR.prototype.Ya=function(t){this.ra&&this.ra(t)},tR.prototype.argPackAdvance=8,tR.prototype.readValueFromPointer=tj,tR.prototype.deleteObject=function(t){null!==t&&t.delete()},tR.prototype.fromWireType=function(t){function e(){return this.Ea?ty(this.ca.ma,{ea:this.Qb,da:n,la:this,ia:t}):ty(this.ca.ma,{ea:this,da:t})}var n=this.Fb(t);if(!n)return this.Ya(t),null;var a=ts[tu(this.ca,n)];if(void 0!==a)return 0===a.ba.count.value?(a.ba.da=n,a.ba.ia=t,a.clone()):(a=a.clone(),this.Ya(t),a);if(!(a=tM[a=this.ca.Eb(n)]))return e.call(this);a=this.Da?a.ub:a.pointerType;var i=function t(e,n,a){return n===a?e:void 0===a.fa?null:null===(e=t(e,n,a.fa))?null:a.zb(e)}(n,this.ca,a.ca);return null===i?e.call(this):this.Ea?ty(a.ca.ma,{ea:a,da:i,la:this,ia:t}):ty(a.ca.ma,{ea:a,da:i})},tQ=t.UnboundTypeError=tt("UnboundTypeError");var el={N:function(t,e,n){t=ta(t),e=th(e,"wrapper"),n=K(n);var a=[].slice,i=e.ca,r=i.ma,o=i.fa.ma,s=i.fa.constructor;for(var u in t=X(t,function(){i.fa.gb.forEach((function(t){if(this[t]===o[t])throw new te(`Pure virtual function ${t} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:r}),this.__construct.apply(this,a.call(arguments))}),r.__construct=function(){this===r&&V("Pass correct 'this' to __construct");var t=s.implement.apply(void 0,[this].concat(a.call(arguments)));td(t);var e=t.ba;t.notifyOnDestruction(),e.ya=!0,Object.defineProperties(this,{ba:{value:e}}),tN(this),t=tu(i,t=e.da),ts.hasOwnProperty(t)?V(`Tried to register registered instance: ${t}`):ts[t]=this},r.__destruct=function(){this===r&&V("Pass correct 'this' to __destruct"),td(this);var t=this.ba.da;t=tu(i,t),ts.hasOwnProperty(t)?delete ts[t]:V(`Tried to unregister unregistered instance: ${t}`)},t.prototype=Object.create(r),n)t.prototype[u]=n[u];return q(t)},O:function(t){var e=tv[t];delete tv[t];var n=e.Oa,a=e.ra,i=e.ab;tA([t],i.map(t=>t.Ib).concat(i.map(t=>t.Tb)),t=>{var r={};return i.forEach((e,n)=>{var a=t[n],o=e.Gb,s=e.Hb,u=t[n+i.length],c=e.Sb,l=e.Ub;r[e.Cb]={read:t=>a.fromWireType(o(s,t)),write:(t,e)=>{var n=[];c(l,t,u.toWireType(n,e)),tI(n)}}}),[{name:e.name,fromWireType:function(t){var e,n={};for(e in r)n[e]=r[e].read(t);return a(t),n},toWireType:function(t,e){for(var i in r)if(!(i in e))throw TypeError(`Missing field: "${i}"`);var o=n();for(i in r)r[i].write(o,e[i]);return null!==t&&t.push(a,o),o},argPackAdvance:8,readValueFromPointer:tj,ka:a}]})},C:function(){},K:function(t,e,n,a,i){var r=tT(n);tw(t,{name:e=ta(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?a:i},argPackAdvance:8,readValueFromPointer:function(t){if(1===n)var a=L;else if(2===n)a=A;else if(4===n)a=w;else throw TypeError("Unknown boolean type size: "+e);return this.fromWireType(a[t>>r])},ka:null})},f:function(t,e,n,a,i,r,o,s,u,c,l,h,d){l=ta(l),r=tF(i,r),s&&(s=tF(o,s)),c&&(c=tF(u,c)),d=tF(h,d);var f=G(l);tS(f,function(){tB(`Cannot construct ${l} due to unbound types`,[a])}),tA([t,e,n],a?[a]:[],function(e){if(e=e[0],a)var n=e.ca,i=n.ma;else i=tD.prototype;var o=Object.create(i,{constructor:{value:e=X(f,function(){if(Object.getPrototypeOf(this)!==o)throw new J("Use 'new' to construct "+l);if(void 0===u.sa)throw new J(l+" has no accessible constructor");var t=u.sa[arguments.length];if(void 0===t)throw new J(`Tried to invoke ctor of ${l} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(u.sa).toString()}) parameters instead!`);return t.apply(this,arguments)})}});e.prototype=o;var u=new tE(l,e,o,d,n,r,s,c);u.fa&&(void 0===u.fa.Ca&&(u.fa.Ca=[]),u.fa.Ca.push(u)),n=new tR(l,u,!0,!1),i=new tR(l+"*",u,!1,!1);var h=new tR(l+" const*",u,!1,!0);return tM[t]={pointerType:i,ub:h},tk(f,e),[n,i,h]})},j:function(t,e,n,a,i,r,o){var s=t_(n,a);e=ta(e),r=tF(i,r),tA([],[t],function(t){function a(){tB(`Cannot call ${i} due to unbound types`,s)}t=t[0];var i=`${t.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var u=t.ca.constructor;return void 0===u[e]?(a.va=n-1,u[e]=a):(tz(u,e,i),u[e].ga[n-1]=a),tA([],s,function(a){if(a=tW(i,[a[0],null].concat(a.slice(1)),null,r,o),void 0===u[e].ga?(a.va=n-1,u[e]=a):u[e].ga[n-1]=a,t.ca.Ca)for(let n of t.ca.Ca)n.constructor.hasOwnProperty(e)||(n.constructor[e]=a);return[]}),[]})},x:function(t,e,n,a,i,r,o,s){e=ta(e),r=tF(i,r),tA([],[t],function(t){t=t[0];var i=`${t.name}.${e}`,u={get(){tB(`Cannot access ${i} due to unbound types`,[n])},enumerable:!0,configurable:!0};return u.set=s?()=>{tB(`Cannot access ${i} due to unbound types`,[n])}:()=>{V(`${i} is a read-only property`)},Object.defineProperty(t.ca.constructor,e,u),tA([],[n],function(n){n=n[0];var i={get:()=>n.fromWireType(r(a)),enumerable:!0};return s&&(s=tF(o,s),i.set=t=>{var e=[];s(a,n.toWireType(e,t)),tI(e)}),Object.defineProperty(t.ca.constructor,e,i),[]}),[]})},s:function(t,e,n,a,i,r){var o=t_(e,n);i=tF(a,i),tA([],[t],function(t){t=t[0];var n=`constructor ${t.name}`;if(void 0===t.ca.sa&&(t.ca.sa=[]),void 0!==t.ca.sa[e-1])throw new J(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.ca.sa[e-1]=()=>{tB(`Cannot construct ${t.name} due to unbound types`,o)},tA([],o,function(a){return a.splice(1,0,null),t.ca.sa[e-1]=tW(n,a,null,i,r),[]}),[]})},a:function(t,e,n,a,i,r,o,s){var u=t_(n,a);e=ta(e),r=tF(i,r),tA([],[t],function(t){function a(){tB(`Cannot call ${i} due to unbound types`,u)}t=t[0];var i=`${t.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&t.ca.gb.push(e);var c=t.ca.ma,l=c[e];return void 0===l||void 0===l.ga&&l.className!==t.name&&l.va===n-2?(a.va=n-2,a.className=t.name,c[e]=a):(tz(c,e,i),c[e].ga[n-2]=a),tA([],u,function(a){return a=tW(i,a,t,r,o),void 0===c[e].ga?(a.va=n-2,c[e]=a):c[e].ga[n-2]=a,[]}),[]})},e:function(t,e,n,a,i,r,o,s,u,c){e=ta(e),i=tF(a,i),tA([],[t],function(t){t=t[0];var a=`${t.name}.${e}`,l={get(){tB(`Cannot access ${a} due to unbound types`,[n,o])},enumerable:!0,configurable:!0};return l.set=u?()=>{tB(`Cannot access ${a} due to unbound types`,[n,o])}:()=>{V(a+" is a read-only property")},Object.defineProperty(t.ca.ma,e,l),tA([],u?[n,o]:[n],function(n){var o=n[0],l={get(){var e=tZ(this,t,a+" getter");return o.fromWireType(i(r,e))},enumerable:!0};if(u){u=tF(s,u);var h=n[1];l.set=function(e){var n=tZ(this,t,a+" setter"),i=[];u(c,n,h.toWireType(i,e)),tI(i)}}return Object.defineProperty(t.ca.ma,e,l),[]}),[]})},J:function(t,e){tw(t,{name:e=ta(e),fromWireType:function(t){var e=K(t);return tG(t),e},toWireType:function(t,e){return q(e)},argPackAdvance:8,readValueFromPointer:tj,ka:null})},p:function(t,e,n,a){function i(){}n=tT(n),e=ta(e),i.values={},tw(t,{name:e,constructor:i,fromWireType:function(t){return this.constructor.values[t]},toWireType:function(t,e){return e.value},argPackAdvance:8,readValueFromPointer:function(t,e,n){switch(e){case 0:return function(t){return this.fromWireType((n?L:b)[t])};case 1:return function(t){return this.fromWireType((n?A:T)[t>>1])};case 2:return function(t){return this.fromWireType((n?w:C)[t>>2])};default:throw TypeError("Unknown integer type: "+t)}}(e,n,a),ka:null}),tS(e,i)},d:function(t,e,n){var a=th(t,"enum");e=ta(e),t=a.constructor,a=Object.create(a.constructor.prototype,{value:{value:n},constructor:{value:X(`${a.name}_${e}`,function(){})}}),t.values[n]=a,t[e]=a},y:function(t,e,n){n=tT(n),tw(t,{name:e=ta(e),fromWireType:function(t){return t},toWireType:function(t,e){return e},argPackAdvance:8,readValueFromPointer:function(t,e){switch(e){case 2:return function(t){return this.fromWireType(D[t>>2])};case 3:return function(t){return this.fromWireType(z[t>>3])};default:throw TypeError("Unknown float type: "+t)}}(e,n),ka:null})},m:function(t,e,n,a,i,r){var o=t_(e,n);t=ta(t),i=tF(a,i),tS(t,function(){tB(`Cannot call ${t} due to unbound types`,o)},e-1),tA([],o,function(n){return tk(t,tW(t,[n[0],null].concat(n.slice(1)),null,i,r),e-1),[]})},l:function(t,e,n,a,i){e=ta(e),-1===i&&(i=4294967295),i=tT(n);var r=t=>t;if(0===a){var o=32-8*n;r=t=>t<<o>>>o}n=e.includes("unsigned")?function(t,e){return e>>>0}:function(t,e){return e},tw(t,{name:e,fromWireType:r,toWireType:n,argPackAdvance:8,readValueFromPointer:function(t,e,n){switch(e){case 0:return n?function(t){return L[t]}:function(t){return b[t]};case 1:return n?function(t){return A[t>>1]}:function(t){return T[t>>1]};case 2:return n?function(t){return w[t>>2]}:function(t){return C[t>>2]};default:throw TypeError("Unknown integer type: "+t)}}(e,i,0!==a),ka:null})},g:function(t,e,n){function a(t){t>>=2;var e=C;return new i(e.buffer,e[t+1],e[t])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];tw(t,{name:n=ta(n),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{Jb:!0})},z:function(t,e){var n="std::string"===(e=ta(e));tw(t,{name:e,fromWireType:function(t){var e=C[t>>2],a=t+4;if(n)for(var i=a,r=0;r<=e;++r){var o=a+r;if(r==e||0==b[o]){if(i=i?tV(b,i,o-i):"",void 0===s)var s=i;else s+="\0"+i;i=o+1}}else{for(r=0,s=Array(e);r<e;++r)s[r]=String.fromCharCode(b[a+r]);s=s.join("")}return eh(t),s},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var a="string"==typeof e;a||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||V("Cannot pass non-string to std::string");var i=n&&a?t$(e):e.length,r=ed(4+i+1),o=r+4;if(C[r>>2]=i,n&&a)tH(e,b,o,i+1);else if(a)for(a=0;a<i;++a){var s=e.charCodeAt(a);255<s&&(eh(o),V("String has UTF-16 code units that do not fit in 8 bits")),b[o+a]=s}else for(a=0;a<i;++a)b[o+a]=e[a];return null!==t&&t.push(eh,r),r},argPackAdvance:8,readValueFromPointer:tj,ka:function(t){eh(t)}})},u:function(t,e,n){if(n=ta(n),2===e)var a=tq,i=t0,r=t1,o=()=>T,s=1;else 4===e&&(a=t2,i=t4,r=t3,o=()=>C,s=2);tw(t,{name:n,fromWireType:function(t){for(var n,i=C[t>>2],r=o(),u=t+4,c=0;c<=i;++c){var l=t+4+c*e;(c==i||0==r[l>>s])&&(u=a(u,l-u),void 0===n?n=u:n+="\0"+u,u=l+e)}return eh(t),n},toWireType:function(t,a){"string"!=typeof a&&V(`Cannot pass non-string to C++ string type ${n}`);var o=r(a),u=ed(4+o+e);return C[u>>2]=o>>s,i(a,u+4,o+e),null!==t&&t.push(eh,u),u},argPackAdvance:8,readValueFromPointer:tj,ka:function(t){eh(t)}})},Q:function(t,e,n,a,i,r){tv[t]={name:ta(e),Oa:tF(n,a),ra:tF(i,r),ab:[]}},P:function(t,e,n,a,i,r,o,s,u,c){tv[t].ab.push({Cb:ta(e),Ib:n,Gb:tF(a,i),Hb:r,Tb:o,Sb:tF(s,u),Ub:c})},L:function(t,e){tw(t,{Lb:!0,name:e=ta(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},v:function(t,e,n){t=K(t),e=th(e,"emval::as");var a=[],i=q(a);return C[n>>2]=i,e.toWireType(a,t)},w:function(t,e,n,a,i){t=t7[t],e=K(e),n=t6(n);var r=[];return C[a>>2]=q(r),t(e,n,r,i)},i:function(t,e,n,a){(t=t7[t])(e=K(e),n=t6(n),null,a)},c:tG,h:function(t,e){var n,a,i=function(t,e){for(var n=Array(t),a=0;a<t;++a)n[a]=th(C[e+4*a>>2],"parameter "+a);return n}(t,e),r=i[0],o=et[e=r.name+"_$"+i.slice(1).map(function(t){return t.name}).join("_")+"$"];if(void 0!==o)return o;var s=Array(t-1);return n=(e,n,a,o)=>{for(var u=0,c=0;c<t-1;++c)s[c]=i[c+1].readValueFromPointer(o+u),u+=i[c+1].argPackAdvance;for(c=0,e=e[n].apply(e,s);c<t-1;++c)i[c+1].xb&&i[c+1].xb(s[c]);if(!r.Lb)return r.toWireType(a,e)},a=t7.length,t7.push(n),o=a,et[e]=o},t:function(e){return q(t[e=t6(e)])},M:function(t,e){return q((t=K(t))[e=K(e)])},n:function(t){4<t&&($.get(t).ib+=1)},o:function(t){return q(t6(t))},A:function(){return q({})},q:function(t){tI(K(t)),tG(t)},k:function(t,e,n){t=K(t),e=K(e),n=K(n),t[e]=n},r:function(t,e){return q(t=(t=th(t,"_emval_take_value")).readValueFromPointer(e))},b:()=>{F("")},E:t=>{var e=b.length;if(2147483648<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a);t:{i=i.min.call(i,2147483648,a+(65536-a%65536)%65536)-I.buffer.byteLength+65535>>>16;try{I.grow(i),E();var r=1;break t}catch(t){}r=void 0}if(r)return!0}return!1},F:(t,e)=>{var n=0;return en().forEach(function(a,i){var r=e+n;for(i=C[t+4*i>>2]=r,r=0;r<a.length;++r)L[i++>>0]=a.charCodeAt(r);L[i>>0]=0,n+=a.length+1}),0},G:(t,e)=>{var n=en();C[t>>2]=n.length;var a=0;return n.forEach(function(t){a+=t.length+1}),C[e>>2]=a,0},H:()=>52,B:function(){return 70},I:(t,e,n,a)=>{for(var i=0,r=0;r<n;r++){var o=C[e>>2],s=C[e+4>>2];e+=8;for(var u=0;u<s;u++){var c=b[o+u],l=ea[t];0===c||10===c?((1===t?y:N)(tV(l,0)),l.length=0):l.push(c)}i+=s}return C[a>>2]=i,0},D:(t,e,n,a)=>es(t,e,n,a)};!function(){function e(e){if(I=(j=e=e.exports).R,E(),x=j.X,U.unshift(j.S),R--,t.monitorRunDependencies&&t.monitorRunDependencies(R),0==R&&(null!==k&&(clearInterval(k),k=null),P)){var n=P;P=null,n()}return e}var n,a,i={a:el};if(R++,t.monitorRunDependencies&&t.monitorRunDependencies(R),t.instantiateWasm)try{return t.instantiateWasm(i,e)}catch(t){N("Module.instantiateWasm callback failed with error: "+t),l(t)}(n=function(t){e(t.instance)},a=t9,v||"function"!=typeof WebAssembly.instantiateStreaming||Q(a)||a.startsWith("file://")||"function"!=typeof fetch?_(a,i,n):fetch(a,{credentials:"same-origin"}).then(t=>WebAssembly.instantiateStreaming(t,i).then(n,function(t){return N("wasm streaming compile failed: "+t),N("falling back to ArrayBuffer instantiation"),_(a,i,n)}))).catch(l)}();var eh=t=>(eh=j.T)(t),ed=t=>(ed=j.U)(t),ef=t=>(ef=j.V)(t);function eg(){function e(){if(!u&&(u=!0,t.calledRun=!0,!S)){if(Z(U),c(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();Y.unshift(e)}Z(Y)}}if(!(0<R)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)!function(){var e=t.preRun.shift();O.unshift(e)}();Z(O),0<R||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e())}}if(t.__embind_initialize_bindings=()=>(t.__embind_initialize_bindings=j.W)(),t.dynCall_jiji=(e,n,a,i,r)=>(t.dynCall_jiji=j.Y)(e,n,a,i,r),t.dynCall_viijii=(e,n,a,i,r,o,s)=>(t.dynCall_viijii=j.Z)(e,n,a,i,r,o,s),t.dynCall_iiiiij=(e,n,a,i,r,o,s)=>(t.dynCall_iiiiij=j._)(e,n,a,i,r,o,s),t.dynCall_iiiiijj=(e,n,a,i,r,o,s,u,c)=>(t.dynCall_iiiiijj=j.$)(e,n,a,i,r,o,s,u,c),t.dynCall_iiiiiijj=(e,n,a,i,r,o,s,u,c,l)=>(t.dynCall_iiiiiijj=j.aa)(e,n,a,i,r,o,s,u,c,l),P=function t(){u||eg(),u||(P=t)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return eg(),t.ready})},t=>{t.exports=JSON.parse('{"name":"@rive-app/canvas","version":"2.7.0","description":"Rive\'s canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}')},(t,e,n)=>{n.r(e),n.d(e,{BLANK_URL:()=>i.BLANK_URL,registerTouchInteractions:()=>a.registerTouchInteractions,sanitizeUrl:()=>i.sanitizeUrl});var a=n(4),i=n(5)},(t,e,n)=>{n.r(e),n.d(e,{registerTouchInteractions:()=>r});var a=void 0,i=function(t){var e,n;return["touchstart","touchmove"].indexOf(t.type)>-1&&(null===(e=t.touches)||void 0===e?void 0:e.length)?(t.preventDefault(),{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}):"touchend"===t.type&&(null===(n=t.changedTouches)||void 0===n?void 0:n.length)?{clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}},r=function(t){var e=t.canvas,n=t.artboard,r=t.stateMachines,o=void 0===r?[]:r,s=t.renderer,u=t.rive,c=t.fit,l=t.alignment;if(!e||!o.length||!s||!u||!n||"undefined"==typeof window)return null;var h=(function(t){var e=t.currentTarget.getBoundingClientRect(),a=i(t),r=a.clientX,s=a.clientY;if(r||s){var h=r-e.left,d=s-e.top,f=u.computeAlignment(c,l,{minX:0,minY:0,maxX:e.width,maxY:e.height},n.bounds),g=new u.Mat2D;f.invert(g);var M=new u.Vec2D(h,d),p=u.mapXY(g,M),m=p.x(),y=p.y();switch(p.delete(),g.delete(),M.delete(),f.delete(),t.type){case"touchmove":case"mouseover":case"mouseout":case"mousemove":for(var N=0;N<o.length;N++){var v=o[N];v.pointerMove(m,y)}break;case"touchstart":case"mousedown":for(var I=0;I<o.length;I++){var v=o[I];v.pointerDown(m,y)}break;case"touchend":case"mouseup":for(var j=0;j<o.length;j++){var v=o[j];v.pointerUp(m,y)}}}}).bind(a);return e.addEventListener("mouseover",h),e.addEventListener("mouseout",h),e.addEventListener("mousemove",h),e.addEventListener("mousedown",h),e.addEventListener("mouseup",h),e.addEventListener("touchmove",h),e.addEventListener("touchstart",h),e.addEventListener("touchend",h),function(){e.removeEventListener("mouseover",h),e.removeEventListener("mouseout",h),e.removeEventListener("mousemove",h),e.removeEventListener("mousedown",h),e.removeEventListener("mouseup",h),e.removeEventListener("touchmove",h),e.removeEventListener("touchstart",h),e.removeEventListener("touchend",h)}}},(t,e,n)=>{n.r(e),n.d(e,{BLANK_URL:()=>c,sanitizeUrl:()=>l});var a=/^([^\w]*)(javascript|data|vbscript)/im,i=/&#(\w+)(^\w|;)?/g,r=/&(newline|tab);/gi,o=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,s=/^.+(:|&colon;)/gim,u=[".","/"],c="about:blank";function l(t){if(!t)return c;var e=t.replace(o,"").replace(i,function(t,e){return String.fromCharCode(e)}).replace(r,"").replace(o,"").trim();if(!e)return c;if(u.indexOf(e[0])>-1)return e;var n=e.match(s);if(!n)return e;var l=n[0];return a.test(l)?c:e}}],E={};function x(t){var e=E[t];if(void 0!==e)return e.exports;var n=E[t]={exports:{}};return S[t](n,n.exports,x),n.exports}x.d=(t,e)=>{for(var n in e)x.o(e,n)&&!x.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},x.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),x.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var O={};return x.r(O),x.d(O,{Alignment:()=>e,EventType:()=>i,Fit:()=>t,Layout:()=>f,LoopType:()=>r,Rive:()=>A,RiveEventType:()=>a,RuntimeLoader:()=>g,StateMachineInput:()=>m,StateMachineInputType:()=>n,Testing:()=>C,decodeFont:()=>z,decodeImage:()=>D}),o=x(1),s=x(2),u=x(3),c=function(t,e,n,a){return new(n||(n=Promise))(function(i,r){function o(t){try{u(a.next(t))}catch(t){r(t)}}function s(t){try{u(a.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(o,s)}u((a=a.apply(t,e||[])).next())})},l=function(t,e){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(o=0)),o;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,a=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},(h=t||(t={})).Cover="cover",h.Contain="contain",h.Fill="fill",h.FitWidth="fitWidth",h.FitHeight="fitHeight",h.None="none",h.ScaleDown="scaleDown",(d=e||(e={})).Center="center",d.TopLeft="topLeft",d.TopCenter="topCenter",d.TopRight="topRight",d.CenterLeft="centerLeft",d.CenterRight="centerRight",d.BottomLeft="bottomLeft",d.BottomCenter="bottomCenter",d.BottomRight="bottomRight",f=function(){function n(n){var a,i,r,o,s,u;this.fit=null!==(a=null==n?void 0:n.fit)&&void 0!==a?a:t.Contain,this.alignment=null!==(i=null==n?void 0:n.alignment)&&void 0!==i?i:e.Center,this.minX=null!==(r=null==n?void 0:n.minX)&&void 0!==r?r:0,this.minY=null!==(o=null==n?void 0:n.minY)&&void 0!==o?o:0,this.maxX=null!==(s=null==n?void 0:n.maxX)&&void 0!==s?s:0,this.maxY=null!==(u=null==n?void 0:n.maxY)&&void 0!==u?u:0}return n.new=function(t){var e=t.fit,a=t.alignment,i=t.minX,r=t.minY,o=t.maxX,s=t.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new n({fit:e,alignment:a,minX:i,minY:r,maxX:o,maxY:s})},n.prototype.copyWith=function(t){var e=t.fit,a=t.alignment,i=t.minX,r=t.minY,o=t.maxX,s=t.maxY;return new n({fit:null!=e?e:this.fit,alignment:null!=a?a:this.alignment,minX:null!=i?i:this.minX,minY:null!=r?r:this.minY,maxX:null!=o?o:this.maxX,maxY:null!=s?s:this.maxY})},n.prototype.runtimeFit=function(e){var n;return this.cachedRuntimeFit?this.cachedRuntimeFit:(n=this.fit===t.Cover?e.Fit.cover:this.fit===t.Contain?e.Fit.contain:this.fit===t.Fill?e.Fit.fill:this.fit===t.FitWidth?e.Fit.fitWidth:this.fit===t.FitHeight?e.Fit.fitHeight:this.fit===t.ScaleDown?e.Fit.scaleDown:e.Fit.none,this.cachedRuntimeFit=n,n)},n.prototype.runtimeAlignment=function(t){var n;return this.cachedRuntimeAlignment?this.cachedRuntimeAlignment:(n=this.alignment===e.TopLeft?t.Alignment.topLeft:this.alignment===e.TopCenter?t.Alignment.topCenter:this.alignment===e.TopRight?t.Alignment.topRight:this.alignment===e.CenterLeft?t.Alignment.centerLeft:this.alignment===e.CenterRight?t.Alignment.centerRight:this.alignment===e.BottomLeft?t.Alignment.bottomLeft:this.alignment===e.BottomCenter?t.Alignment.bottomCenter:this.alignment===e.BottomRight?t.Alignment.bottomRight:t.Alignment.center,this.cachedRuntimeAlignment=n,n)},n}(),g=function(){function t(){}return t.loadRuntime=function(){o.default({locateFile:function(){return t.wasmURL}}).then(function(e){var n;for(t.runtime=e;t.callBackQueue.length>0;)null===(n=t.callBackQueue.shift())||void 0===n||n(t.runtime)}).catch(function(){var e="https://cdn.jsdelivr.net/npm/".concat(s.name,"@").concat(s.version,"/rive.wasm");t.wasmURL.toLowerCase()!==e?(console.warn("Failed to load WASM from ".concat(t.wasmURL,", trying jsdelivr as a backup")),t.setWasmUrl(e),t.loadRuntime()):console.error("Could not load Rive WASM file from unpkg or jsdelivr, network connection may be down, or         you may need to call set a new WASM source via RuntimeLoader.setWasmUrl() and call         RuntimeLoader.loadRuntime() again")})},t.getInstance=function(e){t.isLoading||(t.isLoading=!0,t.loadRuntime()),t.runtime?e(t.runtime):t.callBackQueue.push(e)},t.awaitInstance=function(){return new Promise(function(e){return t.getInstance(function(t){return e(t)})})},t.setWasmUrl=function(e){t.wasmURL=e},t.isLoading=!1,t.callBackQueue=[],t.wasmURL="https://unpkg.com/".concat(s.name,"@").concat(s.version,"/rive.wasm"),t}(),M=function(){function t(t,e,n,a){this.animation=t,this.artboard=e,this.playing=a,this.loopCount=0,this.scrubTo=null,this.instance=new n.LinearAnimationInstance(t,e)}return Object.defineProperty(t.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this.instance.time},set:function(t){this.instance.time=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),t.prototype.advance=function(t){null===this.scrubTo?this.instance.advance(t):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},t.prototype.apply=function(t){this.instance.apply(t)},Object.defineProperty(t.prototype,"needsScrub",{get:function(){return null!==this.scrubTo},enumerable:!1,configurable:!0}),t.prototype.cleanup=function(){this.instance.delete()},t}(),(p=n||(n={}))[p.Number=56]="Number",p[p.Trigger=58]="Trigger",p[p.Boolean=59]="Boolean",m=function(){function t(t,e){this.type=t,this.runtimeInput=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(t){this.runtimeInput.value=t},enumerable:!1,configurable:!0}),t.prototype.fire=function(){this.type===n.Trigger&&this.runtimeInput.fire()},t}(),(y=a||(a={}))[y.General=128]="General",y[y.OpenUrl=131]="OpenUrl",N=function(){function t(t,e,n,a){this.stateMachine=t,this.playing=n,this.artboard=a,this.inputs=[],this.instance=new e.StateMachineInstance(t,a),this.initInputs(e)}return Object.defineProperty(t.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statesChanged",{get:function(){for(var t=[],e=0;e<this.instance.stateChangedCount();e++)t.push(this.instance.stateChangedNameByIndex(e));return t},enumerable:!1,configurable:!0}),t.prototype.advance=function(t){this.instance.advance(t)},t.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},t.prototype.reportedEventAt=function(t){return this.instance.reportedEventAt(t)},t.prototype.initInputs=function(t){for(var e=0;e<this.instance.inputCount();e++){var n=this.instance.input(e);this.inputs.push(this.mapRuntimeInput(n,t))}},t.prototype.mapRuntimeInput=function(t,e){return t.type===e.SMIInput.bool?new m(n.Boolean,t.asBool()):t.type===e.SMIInput.number?new m(n.Number,t.asNumber()):t.type===e.SMIInput.trigger?new m(n.Trigger,t.asTrigger()):void 0},t.prototype.cleanup=function(){this.instance.delete()},t}(),v=function(){function t(t,e,n,a,i){void 0===a&&(a=[]),void 0===i&&(i=[]),this.runtime=t,this.artboard=e,this.eventManager=n,this.animations=a,this.stateMachines=i}return t.prototype.add=function(t,e,n){if(void 0===n&&(n=!0),0===(t=w(t)).length)this.animations.forEach(function(t){return t.playing=e}),this.stateMachines.forEach(function(t){return t.playing=e});else for(var a=this.animations.map(function(t){return t.name}),r=this.stateMachines.map(function(t){return t.name}),o=0;o<t.length;o++){var s=a.indexOf(t[o]),u=r.indexOf(t[o]);if(s>=0||u>=0)s>=0?this.animations[s].playing=e:this.stateMachines[u].playing=e;else{var c=this.artboard.animationByName(t[o]);if(c){var l=new M(c,this.artboard,this.runtime,e);l.advance(0),l.apply(1),this.animations.push(l)}else{var h=this.artboard.stateMachineByName(t[o]);if(h){var d=new N(h,this.runtime,e,this.artboard);this.stateMachines.push(d)}}}}return n&&(e?this.eventManager.fire({type:i.Play,data:this.playing}):this.eventManager.fire({type:i.Pause,data:this.paused})),e?this.playing:this.paused},t.prototype.initLinearAnimations=function(t,e){for(var n=this.animations.map(function(t){return t.name}),a=0;a<t.length;a++){var i=n.indexOf(t[a]);if(i>=0)this.animations[i].playing=e;else{var r=this.artboard.animationByName(t[a]);if(r){var o=new M(r,this.artboard,this.runtime,e);o.advance(0),o.apply(1),this.animations.push(o)}}}},t.prototype.initStateMachines=function(t,e){for(var n=this.stateMachines.map(function(t){return t.name}),a=0;a<t.length;a++){var i=n.indexOf(t[a]);if(i>=0)this.stateMachines[i].playing=e;else{var r=this.artboard.stateMachineByName(t[a]);if(r){var o=new N(r,this.runtime,e,this.artboard);this.stateMachines.push(o)}else this.initLinearAnimations([t[a]],e)}}},t.prototype.play=function(t){return this.add(t,!0)},t.prototype.pause=function(t){return this.add(t,!1)},t.prototype.scrub=function(t,e){var n=this.animations.filter(function(e){return t.includes(e.name)});return n.forEach(function(t){return t.scrubTo=e}),n.map(function(t){return t.name})},Object.defineProperty(t.prototype,"playing",{get:function(){return this.animations.filter(function(t){return t.playing}).map(function(t){return t.name}).concat(this.stateMachines.filter(function(t){return t.playing}).map(function(t){return t.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this.animations.filter(function(t){return!t.playing}).map(function(t){return t.name}).concat(this.stateMachines.filter(function(t){return!t.playing}).map(function(t){return t.name}))},enumerable:!1,configurable:!0}),t.prototype.stop=function(t){var e=this;t=w(t);var n=[];if(0===t.length)n=this.animations.map(function(t){return t.name}).concat(this.stateMachines.map(function(t){return t.name})),this.animations.forEach(function(t){return t.cleanup()}),this.stateMachines.forEach(function(t){return t.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var a=this.animations.filter(function(e){return t.includes(e.name)});a.forEach(function(t){t.cleanup(),e.animations.splice(e.animations.indexOf(t),1)});var r=this.stateMachines.filter(function(e){return t.includes(e.name)});r.forEach(function(t){t.cleanup(),e.stateMachines.splice(e.stateMachines.indexOf(t),1)}),n=a.map(function(t){return t.name}).concat(r.map(function(t){return t.name}))}return this.eventManager.fire({type:i.Stop,data:n}),n},Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(t,e){return t||e.playing},!1)||this.stateMachines.reduce(function(t,e){return t||e.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStopped",{get:function(){return 0===this.animations.length&&0===this.stateMachines.length},enumerable:!1,configurable:!0}),t.prototype.atLeastOne=function(t,e){var n;return void 0===e&&(e=!0),0===this.animations.length&&0===this.stateMachines.length&&(this.artboard.animationCount()>0?this.add([n=this.artboard.animationByIndex(0).name],t,e):this.artboard.stateMachineCount()>0&&this.add([n=this.artboard.stateMachineByIndex(0).name],t,e)),n},t.prototype.handleLooping=function(){for(var t=0,e=this.animations.filter(function(t){return t.playing});t<e.length;t++){var n=e[t];0===n.loopValue&&n.loopCount?(n.loopCount=0,this.stop(n.name)):1===n.loopValue&&n.loopCount?(this.eventManager.fire({type:i.Loop,data:{animation:n.name,type:r.Loop}}),n.loopCount=0):2===n.loopValue&&n.loopCount>1&&(this.eventManager.fire({type:i.Loop,data:{animation:n.name,type:r.PingPong}}),n.loopCount=0)}},t.prototype.handleStateChanges=function(){for(var t=[],e=0,n=this.stateMachines.filter(function(t){return t.playing});e<n.length;e++){var a=n[e];t.push.apply(t,a.statesChanged)}t.length>0&&this.eventManager.fire({type:i.StateChange,data:t})},t.prototype.handleAdvancing=function(t){this.eventManager.fire({type:i.Advance,data:t})},t}(),(I=i||(i={})).Load="load",I.LoadError="loaderror",I.Play="play",I.Pause="pause",I.Stop="stop",I.Loop="loop",I.Draw="draw",I.Advance="advance",I.StateChange="statechange",I.RiveEvent="riveevent",(j=r||(r={})).OneShot="oneshot",j.Loop="loop",j.PingPong="pingpong",L=function(){function t(t){void 0===t&&(t=[]),this.listeners=t}return t.prototype.getListeners=function(t){return this.listeners.filter(function(e){return e.type===t})},t.prototype.add=function(t){this.listeners.includes(t)||this.listeners.push(t)},t.prototype.remove=function(t){for(var e=0;e<this.listeners.length;e++){var n=this.listeners[e];if(n.type===t.type&&n.callback===t.callback){this.listeners.splice(e,1);break}}},t.prototype.removeAll=function(t){var e=this;t?this.listeners.filter(function(e){return e.type===t}).forEach(function(t){return e.remove(t)}):this.listeners.splice(0,this.listeners.length)},t.prototype.fire=function(t){this.getListeners(t.type).forEach(function(e){return e.callback(t)})},t}(),b=function(){function t(t){this.eventManager=t,this.queue=[]}return t.prototype.add=function(t){this.queue.push(t)},t.prototype.process=function(){for(;this.queue.length>0;){var t=this.queue.shift();(null==t?void 0:t.action)&&t.action(),(null==t?void 0:t.event)&&this.eventManager.fire(t.event)}},t}(),A=function(){function t(t){var e;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=t.canvas,this.src=t.src,this.buffer=t.buffer,this.layout=null!==(e=t.layout)&&void 0!==e?e:new f,this.shouldDisableRiveListeners=!!t.shouldDisableRiveListeners,this.automaticallyHandleEvents=!!t.automaticallyHandleEvents,this.enableRiveAssetCDN=void 0===t.enableRiveAssetCDN||t.enableRiveAssetCDN,this.eventManager=new L,t.onLoad&&this.on(i.Load,t.onLoad),t.onLoadError&&this.on(i.LoadError,t.onLoadError),t.onPlay&&this.on(i.Play,t.onPlay),t.onPause&&this.on(i.Pause,t.onPause),t.onStop&&this.on(i.Stop,t.onStop),t.onLoop&&this.on(i.Loop,t.onLoop),t.onStateChange&&this.on(i.StateChange,t.onStateChange),t.onAdvance&&this.on(i.Advance,t.onAdvance),t.onload&&!t.onLoad&&this.on(i.Load,t.onload),t.onloaderror&&!t.onLoadError&&this.on(i.LoadError,t.onloaderror),t.onplay&&!t.onPlay&&this.on(i.Play,t.onplay),t.onpause&&!t.onPause&&this.on(i.Pause,t.onpause),t.onstop&&!t.onStop&&this.on(i.Stop,t.onstop),t.onloop&&!t.onLoop&&this.on(i.Loop,t.onloop),t.onstatechange&&!t.onStateChange&&this.on(i.StateChange,t.onstatechange),t.assetLoader&&(this.assetLoader=t.assetLoader),this.taskQueue=new b(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:t.autoplay,animations:t.animations,stateMachines:t.stateMachines,artboard:t.artboard,useOffscreenRenderer:t.useOffscreenRenderer})}return t.new=function(e){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new t(e)},t.prototype.init=function(e){var n=this,a=e.src,i=e.buffer,r=e.animations,o=e.stateMachines,s=e.artboard,u=e.autoplay,c=void 0!==u&&u,l=e.useOffscreenRenderer,h=void 0!==l&&l;if(this.src=a,this.buffer=i,!this.src&&!this.buffer)throw Error(t.missingErrorMessage);var d=w(r),f=w(o);this.loaded=!1,this.readyForPlaying=!1,g.awaitInstance().then(function(t){n.runtime=t,n.renderer=n.runtime.makeRenderer(n.canvas,h),n.canvas.width||n.canvas.height||n.resizeDrawingSurfaceToCanvas(),n.initData(s,d,f,c).then(function(){return n.setupRiveListeners()}).catch(function(t){console.error(t)})}).catch(function(t){console.error(t)})},t.prototype.setupRiveListeners=function(){var t=this;if(!this.shouldDisableRiveListeners){var e=(this.animator.stateMachines||[]).filter(function(e){return e.playing&&t.runtime.hasListeners(e.instance)}).map(function(t){return t.instance});this.eventCleanup=(0,u.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:e,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime)})}},t.prototype.initData=function(t,e,n,a){var r;return c(this,void 0,void 0,function(){var o,s,u,c;return l(this,function(l){switch(l.label){case 0:if(!this.src)return[3,2];return o=this,[4,T(this.src)];case 1:o.buffer=l.sent(),l.label=2;case 2:return this.assetLoader&&(s=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),u=this,[4,this.runtime.load(new Uint8Array(this.buffer),s,this.enableRiveAssetCDN)];case 3:if(u.file=l.sent(),this.file)return this.initArtboard(t,e,n,a),this.loaded=!0,this.eventManager.fire({type:i.Load,data:null!==(r=this.src)&&void 0!==r?r:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];return console.warn(c="Problem loading file; may be corrupt!"),this.eventManager.fire({type:i.LoadError,data:c}),[2,Promise.reject(c)]}})})},t.prototype.initArtboard=function(t,e,n,a){var r,o=t?this.file.artboardByName(t):this.file.defaultArtboard();if(!o){var s="Invalid artboard name or no default artboard";console.warn(s),this.eventManager.fire({type:i.LoadError,data:s});return}if(this.artboard=o,1>this.artboard.animationCount()){var s="Artboard has no animations";throw this.eventManager.fire({type:i.LoadError,data:s}),s}this.animator=new v(this.runtime,this.artboard,this.eventManager),e.length>0||n.length>0?(r=e.concat(n),this.animator.initLinearAnimations(e,a),this.animator.initStateMachines(n,a)):r=[this.animator.atLeastOne(a,!1)],this.taskQueue.add({event:{type:a?i.Play:i.Pause,data:r}})},t.prototype.drawFrame=function(){this.startRendering()},t.prototype.draw=function(t,e){var n=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=t),this.renderSecondTimer+=t-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,null==e||e());var r=(t-this.lastRenderTime)/1e3;this.lastRenderTime=t;for(var o=this.animator.animations.filter(function(t){return t.playing||t.needsScrub}).sort(function(t){return t.needsScrub?-1:1}),s=0;s<o.length;s++){var c=o[s];c.advance(r),c.instance.didLoop&&(c.loopCount+=1),c.apply(1)}for(var l=this.animator.stateMachines.filter(function(t){return t.playing}),h=0;h<l.length;h++){var d=l[h],f=d.reportedEventCount();if(f)for(var g=0;g<f;g++){var M=d.reportedEventAt(g);if(M){if(M.type===a.OpenUrl){if(this.eventManager.fire({type:i.RiveEvent,data:M}),this.automaticallyHandleEvents){var p=document.createElement("a"),m=M.url,y=M.target,N=(0,u.sanitizeUrl)(m);m&&p.setAttribute("href",N),y&&p.setAttribute("target",y),N&&N!==u.BLANK_URL&&p.click()}}else this.eventManager.fire({type:i.RiveEvent,data:M})}}d.advance(r)}this.artboard.advance(r);var v=this.renderer;v.clear(),v.save(),this.alignRenderer(),this.artboard.draw(v),v.restore(),v.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(r),this.frameCount++;var I=performance.now();for(this.frameTimes.push(I),this.durations.push(I-n);this.frameTimes[0]<=I-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},t.prototype.alignRenderer=function(){var t=this.renderer,e=this.runtime,n=this._layout,a=this.artboard;t.align(n.runtimeFit(e),n.runtimeAlignment(e),{minX:n.minX,minY:n.minY,maxX:n.maxX,maxY:n.maxY},a.bounds)},Object.defineProperty(t.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameTime",{get:function(){return 0===this.durations.length?0:(this.durations.reduce(function(t,e){return t+e},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),t.prototype.cleanup=function(){var t,e;this.stopRendering(),this.cleanupInstances(),null===(t=this.renderer)||void 0===t||t.delete(),this.renderer=null,null===(e=this.file)||void 0===e||e.delete(),this.file=null},t.prototype.cleanupInstances=function(){null!==this.eventCleanup&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},t.prototype.retrieveTextRun=function(t){if(!t){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var e,n=this.artboard.textRun(t);if(!n){console.warn("Could not access a text run with name '".concat(t,"' in the '").concat(null===(e=this.artboard)||void 0===e?void 0:e.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return n},t.prototype.getTextRunValue=function(t){var e=this.retrieveTextRun(t);return e?e.text:void 0},t.prototype.setTextRunValue=function(t,e){var n=this.retrieveTextRun(t);n&&(n.text=e)},t.prototype.play=function(t,e){var n=this;if(t=w(t),!this.readyForPlaying){this.taskQueue.add({action:function(){return n.play(t,e)}});return}this.animator.play(t),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},t.prototype.pause=function(t){var e=this;if(t=w(t),!this.readyForPlaying){this.taskQueue.add({action:function(){return e.pause(t)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(t)},t.prototype.scrub=function(t,e){var n=this;if(t=w(t),!this.readyForPlaying){this.taskQueue.add({action:function(){return n.scrub(t,e)}});return}this.animator.scrub(t,e||0),this.drawFrame()},t.prototype.stop=function(t){var e=this;if(t=w(t),!this.readyForPlaying){this.taskQueue.add({action:function(){return e.stop(t)}});return}this.animator.stop(t),this.eventCleanup&&this.eventCleanup()},t.prototype.reset=function(t){var e,n=null==t?void 0:t.artboard,a=w(null==t?void 0:t.animations),i=w(null==t?void 0:t.stateMachines),r=null!==(e=null==t?void 0:t.autoplay)&&void 0!==e&&e;this.cleanupInstances(),this.initArtboard(n,a,i,r),this.taskQueue.process()},t.prototype.load=function(t){this.stop(),this.init(t)},Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t,t.maxX&&t.maxY||this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),t.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},t.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var t=this.canvas.getBoundingClientRect(),e=t.width,n=t.height,a=window.devicePixelRatio||1;this.canvas.width=a*e,this.canvas.height=a*n,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(t.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var t=[],e=0;e<this.artboard.animationCount();e++)t.push(this.artboard.animationByIndex(e).name);return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var t=[],e=0;e<this.artboard.stateMachineCount();e++)t.push(this.artboard.stateMachineByIndex(e).name);return t},enumerable:!1,configurable:!0}),t.prototype.stateMachineInputs=function(t){if(this.loaded){var e=this.animator.stateMachines.find(function(e){return e.name===t});return null==e?void 0:e.inputs}},Object.defineProperty(t.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(t){return t.playing}).map(function(t){return t.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(t){return t.playing}).map(function(t){return t.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(t){return!t.playing}).map(function(t){return t.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(t){return!t.playing}).map(function(t){return t.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e){this.eventManager.add({type:t,callback:e})},t.prototype.off=function(t,e){this.eventManager.remove({type:t,callback:e})},t.prototype.unsubscribe=function(t,e){console.warn("This function is deprecated: please use `off()` instead."),this.off(t,e)},t.prototype.removeAllRiveEventListeners=function(t){this.eventManager.removeAll(t)},t.prototype.unsubscribeAll=function(t){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(t)},t.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},t.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},t.prototype.enableFPSCounter=function(t){this.runtime.enableFPSCounter(t)},t.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(t.prototype,"contents",{get:function(){if(this.loaded){for(var t={artboards:[]},e=0;e<this.file.artboardCount();e++){for(var n=this.file.artboardByIndex(e),a={name:n.name,animations:[],stateMachines:[]},i=0;i<n.animationCount();i++){var r=n.animationByIndex(i);a.animations.push(r.name)}for(var o=0;o<n.stateMachineCount();o++){for(var s=n.stateMachineByIndex(o),u=s.name,c=new this.runtime.StateMachineInstance(s,n),l=[],h=0;h<c.inputCount();h++){var d=c.input(h);l.push({name:d.name,type:d.type})}a.stateMachines.push({name:u,inputs:l})}t.artboards.push(a)}return t}},enumerable:!1,configurable:!0}),t.missingErrorMessage="Rive source file or data buffer required",t}(),T=function(t){return c(void 0,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,fetch(new Request(t))];case 1:return[4,e.sent().arrayBuffer()];case 2:return[2,e.sent()]}})})},w=function(t){return"string"==typeof t?[t]:t instanceof Array?t:[]},C={EventManager:L,TaskQueueManager:b},D=function(t){return new Promise(function(e){return g.getInstance(function(n){n.decodeImage(t,e)})})},z=function(t){return new Promise(function(e){return g.getInstance(function(n){n.decodeFont(t,e)})})},O})();class n{constructor(t,n,a,i,r,o,s,u,c){this.uuid=t,this.canvas=document.createElement("canvas"),this.canvas.id=t,this.updateDom(n,i,r,o,s),document.body.appendChild(this.canvas),this.riveInstance=new e.Rive({src:a,canvas:this.canvas,stateMachines:u,autoplay:c,onLoad:()=>{this.riveInstance.resizeDrawingSurfaceToCanvas()}})}destroy(){this.riveInstance.cleanup(),this.canvas.remove()}updateDom(t,e,n,a,i){this.name=t,this.canvas.width=a,this.canvas.height=i,this.canvas.style.position="absolute",this.canvas.style.left=`${e}px`,this.canvas.style.top=`${n}px`,null!=this.riveInstance&&null!=this.canvas&&this.riveInstance.resizeDrawingSurfaceToCanvas()}play(t){this.riveInstance.play(t)}pause(t){this.riveInstance.pause(t)}stop(t){this.riveInstance.pause(t)}setTextRunValue(t,e){this.riveInstance.setTextRunValue(t,e)}switchArtboardIfNeeded(t,e,n){if(console.log("SwitchArtboardIfNeeded",t),null!=this.riveInstance.artboard){let a=this.riveInstance.artboard.name;console.log("currentArtboard",a),0!=a.localeCompare(t)?(console.log("Artboard is the different"),this.resetartboard(t,e,n)):console.log("Artboard is the same")}else console.log("Artboard is null.  Resetting regardless"),this.resetartboard(t,e,n)}resetstatemachine(t,e){console.log("ResetStateMachine",t,e),this.riveInstance.reset({artboard:t,autoplay:e})}resetartboard(t,e,n){console.log("ResetArtboard",t,n),this.riveInstance.reset({artboard:t,stateMachines:e,autoplay:n})}stateMachineInputs(t){return console.log("StateMachineInputs "+t),this.riveInstance.stateMachineInputs(t)}}new class{constructor(){this.socket=new WebSocket("ws://"+location.host+"/channel"),this.riveInstances=new Map,this.matrixInstances=new Map,this.initSocket()}initSocket(){this.socket.addEventListener("open",t=>{console.log("Socket opened")}),this.socket.addEventListener("message",t=>{this.handleMessage(t.data)})}handleMessage(t){console.log("Received message:",t);let e=t.split(":");switch(e[0]){case"addRiveInstance":this.handleAddRiveInstance(e);break;case"removeRiveInstance":let n=e[1];this.handleRemoveRiveInstance(n);break;case"addMatrixInstance":this.handleAddMatrixInstance(e);break;case"removeAllInstances":console.log("Removing all instances"),this.handleRemoveAllInstances();break;case"removeMatrixInstance":this.handleRemoveMatrixInstance(e);break;default:this.handleRiveCommand(e)}}handleRemoveAllInstances(){this.riveInstances.forEach((t,e,n)=>{console.log("Destroying rive instance:",e),t.destroy(),this.riveInstances.delete(t.name)}),this.matrixInstances.forEach((t,e,n)=>{console.log("Destroying matrix instance:",e),t.destroy(),this.matrixInstances.delete(t.name)})}handleAddRiveInstance(t){let e=t[1],n=t[2],a=t[3];if("companion"==a){console.log("Companion rive instance detected.  Skipping.");return}let i=parseFloat(t[4]),r=parseFloat(t[5]),o=parseFloat(t[6]),s=parseFloat(t[7]),u=t[8],c=t[9];console.log(e,n,a,i,r,o,s,u,c);let l=this.riveInstances.get(e);l?(console.log("Instance already exists:",e),this.updateRiveInstance(l,e,i,r,o,s,u,c)):(console.log("Adding instance:",e),this.addRiveInstance(e,n,a,i,r,o,s,u,c))}handleRemoveRiveInstance(t){let e=this.riveInstances.get(t);e&&(e.destroy(),this.riveInstances.delete(t))}handleRiveCommand(t){let e=t[0],n=t[1],a=this.riveInstances.get(n);a||console.log(`Rive instance "${n}" not found.`);let i=t[2],r=t[3],o=t[4],s=t[5];switch(e){case"play":i&&a&&a.play(i);break;case"pause":i&&a&&a.pause(i);break;case"stop":i&&a&&a.stop(i);break;case"setRun":i&&r&&a&&a.setTextRunValue(i,r);break;case"reset":i&&r&&a&&a.resetstatemachine(i,r);break;case"runStep":this.handleRiveStep(i,r,o,s,n);break;default:console.log("Unknown message type:",e)}}handleRiveStep(t,e,n,a,i){if("companion"!=artboard){var r=this.riveInstances.get(i);if(r)console.log(`Rive Instance found for "${i}"`);else if(console.log(`Instance instance "${i}" not found in rive instances.`),r=this.matrixInstances.get(i))console.log(`Matrix instance found for "${i}"`);else{console.log(`Instance instance "${i}" not found in rive instances.`);return}if("matrix"==t&&r){r.setVisible(e);return}if(t&&e){console.log(`handleRiveStep called with P1:"${t}":P2:"${e}"P3:"${n}"P4:"${a}":`),r.switchArtboardIfNeeded(t,e,!0),console.log(`Getting inputs for "${e}"`);let i=r.stateMachineInputs(e);if(null!=i){console.log("finding inputs ",n);let t=i.find(t=>t.name==n);t?(console.log("input found"),a?(console.log(`exitValue set to value of Param4: ${a}`),"true"===a.toLowerCase()?(console.log("setting to true"),t.value=!0):"false"===a.toLowerCase()&&(console.log("setting to false"),t.value=!1),console.log("done with set.")):(console.log(`exitValue toggled to ${t.value}`),t.value=!t.value)):console.log(`inputName "${n}" not found.`)}else console.log("inputs is null for statemachine",e)}}}addRiveInstance(t,e,a,i,r,o,s,u,c){let l=new n(t,e,a,i,r,o,s,u,c);this.riveInstances.set(t,l)}updateRiveInstance(t,e,n,a,i,r,o,s){t.resetstatemachine(o,s),t.updateDom(e,n,a,i,r)}handleAddMatrixInstance(t){let e=t[1],n=t[2],a=parseFloat(t[3]),i=parseFloat(t[4]),r=parseFloat(t[5]),o=parseFloat(t[6]);console.log(e,n,a,i,r,o);let s=this.matrixInstances.get(e);s?(console.log("Matrix instance already exists:",e),this.updateMatrixInstance(s,e,a,i,r,o)):(console.log("Adding Matrix instance:",e),this.addMatrixInstance(e,n,a,i,r,o))}addMatrixInstance(e,n,a,i,r,o){let s=new t(e,n,a,i,r,o);this.matrixInstances.set(e,s)}updateMatrixInstance(t,e,n,a,i,r){t.updateDom(e,n,a,i,r)}handleRemoveMatrixInstance(t){let e=t[1],n=this.matrixInstances.get(e);n&&(n.destroy(),this.matrixInstances.delete(e))}};
//# sourceMappingURL=index.e69eb58a.js.map
