class t{constructor(t,e,n,i,r,a){this.uuid=t,this.canvas=document.createElement("canvas"),this.canvas.id=t,this.canvas.className=".showThing",this.updateDom(e,n,i,r,a),document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.init()}destroy(){this.canvas.remove()}setVisible(t){"true"===t.toLowerCase()?(console.log("setting matrix visible to true"),this.canvas.setAttribute("class","showThing")):"false"===t.toLowerCase()&&(console.log("setting matrix visible to false"),this.canvas.setAttribute("class","hideThing"))}updateDom(t,e,n,i,r){this.name=t,this.canvas.width=i,this.canvas.height=r,this.canvas.style.position="absolute",this.canvas.style.left=e+"px",this.canvas.style.top=n+"px"}init(){this.font_size=20,this.columns=Math.floor(this.canvas.width/this.font_size),this.matrix=Array(this.columns).fill(1),this.PROBABILITY_SVG=.7,this.PROBABILITY_RESET=.875,this.TICKS_BEFORE_UPDATE=3,this.tickCounter=0,this.images=[],this.imagesLoaded=0;let t={tss:"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIHdpZHRoPSIxMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PGNpcmNsZSBjeD0iNDAuNjI1IiBjeT0iNTkuNSIgcj0iNi42MjUiLz48Y2lyY2xlIGN4PSI2MC40OTk5IiBjeT0iNTkuNSIgcj0iNi42MjUiLz48Y2lyY2xlIGN4PSI0MC42MjUiIGN5PSI3OS4zNzUiIG9wYWNpdHk9Ii4yIiByPSI2LjYyNSIvPjxjaXJjbGUgY3g9IjgwLjM3NSIgY3k9Ijc5LjM3NSIgb3BhY2l0eT0iLjIiIHI9IjYuNjI1Ii8+PGNpcmNsZSBjeD0iNjAuNDk5OSIgY3k9Ijc5LjM3NSIgcj0iNi42MjUiLz48Y2lyY2xlIGN4PSI4MC4zNzUiIGN5PSI1OS41IiByPSI2LjYyNSIvPjxjaXJjbGUgY3g9IjQwLjYyNSIgY3k9IjM5LjYyNSIgb3BhY2l0eT0iLjIiIHI9IjYuNjI1Ii8+PGNpcmNsZSBjeD0iNjAuNDk5OSIgY3k9IjM5LjYyNSIgb3BhY2l0eT0iLjIiIHI9IjYuNjI1Ii8+PGNpcmNsZSBjeD0iODAuMzc1IiBjeT0iMzkuNjI1IiBvcGFjaXR5PSIuMiIgcj0iNi42MjUiLz48L2c+PC9zdmc+",k8s:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iNzIyLjg0NTciCiAgIGhlaWdodD0iNzAxLjk2NjM3IgogICBpZD0ic3ZnMiIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ4LjQgcjk5MzkiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImxvZ28uc3ZnIgogICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9Ii9ob21lL3Rob2NraW4vc3JjL2t1YmVybmV0ZXMvbmV3LnBuZyIKICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjQ2MC45NTAwMSIKICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjQ2MC45NTAwMSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjE2LjE5MDUwOSIKICAgICBpbmtzY2FwZTpjeD0iMjc3LjU2ODUxIgogICAgIGlua3NjYXBlOmN5PSIxNTcuNTQ0OTQiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImczMDUyIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE1MTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODIyIgogICAgIGlua3NjYXBlOndpbmRvdy14PSI1MSIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMjUiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWdsb2JhbD0iZmFsc2UiCiAgICAgZml0LW1hcmdpbi10b3A9IjEwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMTAiCiAgICAgZml0LW1hcmdpbi1yaWdodD0iMTAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjEwIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02LjMyNjA5NDIsLTE3NC43NTI0KSI+CiAgICA8ZwogICAgICAgaWQ9ImczMDUyIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzMyNmNlNTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6MDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgICAgICBkPSJtIDM2NS4zMTI1LDE4NC44MTI1IGEgNDYuNzI0NjIxLDQ2LjM0MjI0NiAwIDAgMCAtMTcuOTA2MjUsNC41MzEyNSBsIC0yNDQuMzQzNzUsMTE2Ljc1IGEgNDYuNzI0NjIxLDQ2LjM0MjI0NiAwIDAgMCAtMjUuMjgxMjUsMzEuNDM3NSBMIDE3LjUsNTk5Ljc4MTI1IEEgNDYuNzI0NjIxLDQ2LjM0MjI0NiAwIDAgMCAyMy44NDM3NSw2MzUuMzEyNSA0Ni43MjQ2MjEsNDYuMzQyMjQ2IDAgMCAwIDI2LjUsNjM5IGwgMTY5LjEyNSwyMTAuMjgxMjUgYSA0Ni43MjQ2MjEsNDYuMzQyMjQ2IDAgMCAwIDM2LjUzMTI1LDE3LjQzNzUgTCA1MDMuMzc1LDg2Ni42NTYyNSBBIDQ2LjcyNDYyMSw0Ni4zNDIyNDYgMCAwIDAgNTM5LjkwNjI1LDg0OS4yNSBMIDcwOC45Njg3NSw2MzguOTM3NSBBIDQ2LjcyNDYyMSw0Ni4zNDIyNDYgMCAwIDAgNzE4LDU5OS43MTg3NSBsIC02MC4zNzUsLTI2Mi4yNSBhIDQ2LjcyNDYyMSw0Ni4zNDIyNDYgMCAwIDAgLTI1LjI4MTI1LC0zMS40Mzc1IGwgLTI0NC4zNzUsLTExNi42ODc1IEEgNDYuNzI0NjIxLDQ2LjM0MjI0NiAwIDAgMCAzNjUuMzEyNSwxODQuODEyNSB6IgogICAgICAgICBpZD0icGF0aDMwNTUiCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0ibmV3LnBuZyIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1MC41NSIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1MC41NSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgICBkPSJtIDM2Ny43MzM2NiwyNzQuMDU5NjIgYyAtOC4wNzY5Niw4LjJlLTQgLTE0LjYyNTk2LDcuMjc1OTEgLTE0LjYyNSwxNi4yNSAxZS01LDAuMTM3NzMgMC4wMjgyLDAuMjY5MzQgMC4wMzEyLDAuNDA2MjUgLTAuMDExOSwxLjIxOTM2IC0wLjA3MDgsMi42ODgzNiAtMC4wMzEyLDMuNzUgMC4xOTI2Miw1LjE3NiAxLjMyMDksOS4xMzc0OSAyLDEzLjkwNjI1IDEuMjMwMjgsMTAuMjA2NjYgMi4yNjExNywxOC42NjczNiAxLjYyNSwyNi41MzEyNSAtMC42MTg2OSwyLjk2NTQgLTIuODAyODgsNS42Nzc0MSAtNC43NSw3LjU2MjUgbCAtMC4zNDM3NSw2LjE4NzUgYyAtOC43NzY4MiwwLjcyNzE3IC0xNy42MTIzNSwyLjA1ODc0IC0yNi40Mzc1LDQuMDYyNSAtMzcuOTc0NjEsOC42MjIxOCAtNzAuNjcwMDgsMjguMTgzMDcgLTk1LjU2MjUsNTQuNTkzNzUgLTEuNjE1MjIsLTEuMTAxOTMgLTQuNDQxMDMsLTMuMTI5MTQgLTUuMjgxMywtMy43NSAtMi42MTExNywwLjM1MjYyIC01LjI1MDIxLDEuMTU4MjkgLTguNjg3NSwtMC44NDM3NSAtNi41NDQ5MSwtNC40MDU2MyAtMTIuNTA1ODcsLTEwLjQ4NjkzIC0xOS43MTg3NSwtMTcuODEyNSAtMy4zMDQ5OCwtMy41MDQxOSAtNS42OTgzMiwtNi44NDEwMSAtOS42MjUsLTEwLjIxODc1IC0wLjg5MTcyLC0wLjc2NzA3IC0yLjI1MjU4LC0xLjgwNDU1IC0zLjI1LC0yLjU5Mzc1IC0zLjA2OTg4LC0yLjQ0NzU3IC02LjY5MDcsLTMuNzI0MDIgLTEwLjE4NzUsLTMuODQzNzUgLTQuNDk1ODksLTAuMTUzOTQgLTguODIzOTQsMS42MDM4NSAtMTEuNjU2MjUsNS4xNTYyNSAtNS4wMzUyMSw2LjMxNTM4IC0zLjQyMzEyLDE1Ljk2ODA1IDMuNTkzNzUsMjEuNTYyNSAwLjA3MTIsMC4wNTY3IDAuMTQ3MDIsMC4xMDA3OCAwLjIxODc1LDAuMTU2MjUgMC45NjQyMiwwLjc4MTYyIDIuMTQ0OTYsMS43ODMxMyAzLjAzMTI1LDIuNDM3NSA0LjE2Njg3LDMuMDc2NTUgNy45NzMyLDQuNjUxNDUgMTIuMTI1LDcuMDkzNzUgOC43NDcsNS40MDE4MSAxNS45OTgzNyw5Ljg4MDg2IDIxLjc1LDE1LjI4MTI1IDIuMjQ2MDIsMi4zOTQxNyAyLjYzODU4LDYuNjEyOTIgMi45Mzc1LDguNDM3NSBsIDQuNjg3NSw0LjE4NzUgYyAtMjUuMDkzNDIsMzcuNzYzNjggLTM2LjcwNjg2LDg0LjQwOTQ2IC0yOS44NDM3LDEzMS45Mzc1IGwgLTYuMTI1LDEuNzgxMjUgYyAtMS42MTQzLDIuMDg0NjEgLTMuODk1NDEsNS4zNjQ3NCAtNi4yODEzLDYuMzQzNzUgLTcuNTI1MTMsMi4zNzAyMSAtMTUuOTk0MjQsMy4yNDA1OSAtMjYuMjE4NzUsNC4zMTI1IC00LjgwMDMxLDAuMzk5MTUgLTguOTQyMTgsMC4xNjA5NSAtMTQuMDMxMjUsMS4xMjUgLTEuMTIwMDgsMC4yMTIxOCAtMi42ODA3MiwwLjYxODc3IC0zLjkwNjI1LDAuOTA2MjUgLTAuMDQyNiwwLjAwOSAtMC4wODI0LDAuMDIxNiAtMC4xMjUsMC4wMzEyIC0wLjA2NjgsMC4wMTU1IC0wLjE1NDU2LDAuMDQ3OSAtMC4yMTg3NSwwLjA2MjUgLTguNjIwMTQsMi4wODI3OSAtMTQuMTU3NzQsMTAuMDA2IC0xMi4zNzUsMTcuODEyNSAxLjc4MzE2LDcuODA4MzMgMTAuMjAzMTQsMTIuNTU2NzcgMTguODc1LDEwLjY4NzUgMC4wNjI2LC0wLjAxNDMgMC4xNTM1LC0wLjAxNjcgMC4yMTg3NSwtMC4wMzEyIDAuMDk3OSwtMC4wMjI0IDAuMTg0MDksLTAuMDY5OSAwLjI4MTI1LC0wLjA5MzcgMS4yMDg4NSwtMC4yNjUzNiAyLjcyMzc3LC0wLjU2MDYgMy43ODEyNSwtMC44NDM3NSA1LjAwMzM0LC0xLjMzOTYzIDguNjI2OTQsLTMuMzA3OTYgMTMuMTI1LC01LjAzMTI1IDkuNjc2OTQsLTMuNDcwNzcgMTcuNjkxNzMsLTYuMzcwMjIgMjUuNSwtNy41IDMuMjYxMTgsLTAuMjU1NDIgNi42OTcxMSwyLjAxMjE2IDguNDA2MjUsMi45Njg3NSBsIDYuMzc1LC0xLjA5Mzc1IGMgMTQuNjcwMTgsNDUuNDgyODIgNDUuNDE0MTYsODIuMjQ1MDIgODQuMzQzNzUsMTA1LjMxMjUgbCAtMi42NTYyNSw2LjM3NSBjIDAuOTU3NDIsMi40NzU0MiAyLjAxMzQxLDUuODI0NyAxLjMwMDIyLDguMjY5MzIgLTIuODM4NjgsNy4zNjEyIC03LjcwMDk3LDE1LjEzMDk3IC0xMy4yMzc3MiwyMy43OTMxOCAtMi42ODA4NSw0LjAwMTkyIC01LjQyNDUzLDcuMTA3NjEgLTcuODQzNzUsMTEuNjg3NSAtMC41Nzg5LDEuMDk1ODkgLTEuMzE2MTgsMi43NzkzMiAtMS44NzUsMy45Mzc1IC0zLjc1ODg0LDguMDQyMzYgLTEuMDAxNjQsMTcuMzA1MiA2LjIxODc1LDIwLjc4MTI1IDcuMjY1NzUsMy40OTc4OCAxNi4yODQ0NywtMC4xOTEzNCAyMC4xODc1LC04LjI1IDAuMDA2LC0wLjAxMTQgMC4wMjU3LC0wLjAxOTggMC4wMzEyLC0wLjAzMTIgMC4wMDQsLTAuMDA5IC0wLjAwNCwtMC4wMjI1IDAsLTAuMDMxMiAwLjU1NTkzLC0xLjE0MjU1IDEuMzQzNTMsLTIuNjQ0MzcgMS44MTI1LC0zLjcxODc1IDIuMDcyMTMsLTQuNzQ3MDIgMi43NjE2MSwtOC44MTUwNiA0LjIxODc1LC0xMy40MDYyNSAzLjg2OTYyLC05LjcyMDE0IDUuOTk1NjcsLTE5LjkxOTAzIDExLjMyMjU4LC0yNi4yNzQxMSAxLjQ1ODY4LC0xLjc0MDIzIDMuODM2ODEsLTIuNDA5NSA2LjMwMjQyLC0zLjA2OTY0IGwgMy4zMTI1LC02IGMgMzMuOTM4MjQsMTMuMDI2OCA3MS45MjY2NiwxNi41MjI0NiAxMDkuODc1LDcuOTA2MjUgOC42NTY5NywtMS45NjU1NyAxNy4wMTQ0NCwtNC41MDk0NSAyNS4wOTM3NSwtNy41NjI1IDAuOTMwOTgsMS42NTEzMyAyLjY2MTEzLDQuODI1NyAzLjEyNSw1LjYyNSAyLjUwNTU5LDAuODE1MTggNS4yNDA0NCwxLjIzNjE0IDcuNDY4NzUsNC41MzEyNSAzLjk4NTM5LDYuODA4OTggNi43MTA5LDE0Ljg2NDE2IDEwLjAzMTI1LDI0LjU5Mzc1IDEuNDU3MzgsNC41OTExMSAyLjE3NzYyLDguNjU5MzMgNC4yNSwxMy40MDYyNSAwLjQ3MjM0LDEuMDgxOTUgMS4yNTYsMi42MDQ4NiAxLjgxMjUsMy43NSAzLjg5NDgyLDguMDg0ODQgMTIuOTQyMTIsMTEuNzg2NjcgMjAuMjE4NzUsOC4yODEyNSA3LjIxOTUsLTMuNDc3OSA5Ljk3OTc0LC0xMi43Mzk5IDYuMjE4NzUsLTIwLjc4MTI1IC0wLjU1ODg5LC0xLjE1ODE0IC0xLjMyNzMsLTIuODQxNjQgLTEuOTA2MjUsLTMuOTM3NSAtMi40MTk0NiwtNC41Nzk3NiAtNS4xNjI3LC03LjY1NDQ4IC03Ljg0Mzc1LC0xMS42NTYyNSAtNS41MzcyMSwtOC42NjE5MiAtMTAuMTI5NjgsLTE1Ljg1NzcgLTEyLjk2ODc1LC0yMy4yMTg3NSAtMS4xODcxMSwtMy43OTY1NyAwLjIwMDI4LC02LjE1Nzc0IDEuMTI1LC04LjYyNSAtMC41NTM3OCwtMC42MzQ3NyAtMS43Mzg4MSwtNC4yMjAwOSAtMi40Mzc1LC01LjkwNjI1IDQwLjQ1NzQsLTIzLjg4ODE2IDcwLjI5ODU2LC02Mi4wMjEyOSA4NC4zMTI1LC0xMDYuMDYyNSAxLjg5MjQsMC4yOTc0MiA1LjE4MTU0LDAuODc5MzYgNi4yNSwxLjA5Mzc1IDIuMTk5NTQsLTEuNDUwNyA0LjIyMTk0LC0zLjM0MzUyIDguMTg3NSwtMy4wMzEyNSA3LjgwODMyLDEuMTI5MzcgMTUuODIyODgsNC4wMjk3MyAyNS41LDcuNSA0LjQ5ODE1LDEuNzIzMDYgOC4xMjE2LDMuNzIzMTMgMTMuMTI1LDUuMDYyNSAxLjA1NzQ5LDAuMjgzMDkgMi41NzIzOCwwLjU0NzIgMy43ODEyNSwwLjgxMjUgMC4wOTcyLDAuMDIzOCAwLjE4MzMsMC4wNzE0IDAuMjgxMjUsMC4wOTM3IDAuMDY1MywwLjAxNDYgMC4xNTYxNSwwLjAxNjkgMC4yMTg3NSwwLjAzMTIgOC42NzIzNiwxLjg2Njk1IDE3LjA5Mzg0LC0yLjg3ODcxIDE4Ljg3NSwtMTAuNjg3NSAxLjc4MDc0LC03LjgwNjk2IC0zLjc1NDMsLTE1LjczMjAxIC0xMi4zNzUsLTE3LjgxMjUgLTEuMjUzOTMsLTAuMjg1MTMgLTMuMDMyMjUsLTAuNzY5MzggLTQuMjUsLTEgLTUuMDg5MTIsLTAuOTYzNzggLTkuMjMwOTIsLTAuNzI2MSAtMTQuMDMxMjUsLTEuMTI1IC0xMC4yMjQ1NiwtMS4wNzEzOCAtMTguNjkzNSwtMS45NDI2OSAtMjYuMjE4NzUsLTQuMzEyNSAtMy4wNjgyNiwtMS4xOTAyOCAtNS4yNTEwMywtNC44NDEyNCAtNi4zMTI1NSwtNi4zNDM3NSBsIC01LjkwNjI1LC0xLjcxODc1IGMgMy4wNjIyNiwtMjIuMTU0NDIgMi4yMzY1NSwtNDUuMjExMzQgLTMuMDYyNSwtNjguMjgxMjUgLTUuMzQ4MzksLTIzLjI4NDcxIC0xNC44MDAzNywtNDQuNTgwODQgLTI3LjQwNjI1LC02My4zNDM3NSAxLjUxNTA1LC0xLjM3NzI5IDQuMzc2MTksLTMuOTEwOTEgNS4xODc1LC00LjY1NjI1IDAuMjM3MTYsLTIuNjI0MTcgMC4wMzM0LC01LjM3NTUzIDIuNzUsLTguMjgxMjUgNS43NTEzNCwtNS40MDA2OSAxMy4wMDMyOSwtOS44Nzg5OCAyMS43NSwtMTUuMjgxMjUgNC4xNTE2NywtMi40NDI1MiA3Ljk4OTU0LC00LjAxNjk4IDEyLjE1NjI1LC03LjA5Mzc1IDAuOTQyMjUsLTAuNjk1NzYgMi4yMjg5LC0xLjc5NzU5IDMuMjE4NzUsLTIuNTkzNzUgNy4wMTUzOCwtNS41OTYzMyA4LjYzMDU4LC0xNS4yNDg0MiAzLjU5Mzc1LC0yMS41NjI1IC01LjAzNjgzLC02LjMxNDA4IC0xNC43OTcxMiwtNi45MDg4MyAtMjEuODEyNSwtMS4zMTI1IC0wLjk5ODU2LDAuNzkwODUgLTIuMzUzNTMsMS44MjI1MiAtMy4yNSwyLjU5Mzc1IC0zLjkyNjUsMy4zNzc5NiAtNi4zNTE0NSw2LjcxNDM5IC05LjY1NjI1LDEwLjIxODc1IC03LjIxMjQ5LDcuMzI1OTUgLTEzLjE3NDA3LDEzLjQzNzc3IC0xOS43MTg3NSwxNy44NDM3NSAtMi44MzYwMSwxLjY1MTA2IC02Ljk4OTk2LDEuMDc5NzggLTguODc1MDUsMC45Njg3NSBsIC01LjU2MjUsMy45Njg3NSBjIC0zMS43MTg4LC0zMy4yNjA1NyAtNzQuOTA0NjYsLTU0LjUyNTQ2IC0xMjEuNDA2MDUsLTU4LjY1NjMgLTAuMTMwMDYsLTEuOTQ4NzIgLTAuMzAwNDUsLTUuNDcxMTcgLTAuMzQzNzUsLTYuNTMxMjUgLTEuOTAzNzEsLTEuODIxNjUgLTQuMjAzNDIsLTMuMzc2ODYgLTQuNzgxMjUsLTcuMzEyNSAtMC42MzYxNywtNy44NjM4OSAwLjQyNTk3LC0xNi4zMjQ1OSAxLjY1NjI1LC0yNi41MzEyNSAwLjY3OTEsLTQuNzY4NzYgMS44MDczOCwtOC43MzAyNSAyLC0xMy45MDYyNSAwLjA0MzgsLTEuMTc2NjMgLTAuMDI2NSwtMi44ODQwMSAtMC4wMzEyLC00LjE1NjI1IC05LjZlLTQsLTguOTc0MDkgLTYuNTQ4MDQsLTE2LjI1MDgyIC0xNC42MjUsLTE2LjI1IHogbSAtMTguMzEyNSwxMTMuNDM3NSAtNC4zNDM3NSw3Ni43MTg3NSAtMC4zMTI1LDAuMTU2MjUgYyAtMC4yOTEzNCw2Ljg2MzM1IC01LjkzOTk2LDEyLjM0Mzc1IC0xMi44NzUsMTIuMzQzNzUgLTIuODQwODEsMCAtNS40NjI5NCwtMC45MTIyOSAtNy41OTM3NSwtMi40Njg3NSBsIC0wLjEyNSwwLjA2MjUgLTYyLjkwNjI1LC00NC41OTM3NSBjIDE5LjMzMzY1LC0xOS4wMTExNSA0NC4wNjI5MSwtMzMuMDYwMzkgNzIuNTYyNSwtMzkuNTMxMjUgNS4yMDU5OSwtMS4xODIwMyAxMC40MDk2NiwtMi4wNTkxIDE1LjU5Mzc1LC0yLjY4NzUgeiBtIDM2LjY1NjI1LDAgYyAzMy4yNzM0Nyw0LjA5MjMyIDY0LjA0NTAxLDE5LjE1ODgyIDg3LjYyNSw0Mi4yNSBsIC02Mi41LDQ0LjMxMjUgLTAuMjE4NzUsLTAuMDkzNyBjIC01LjU0NzQ1LDQuMDUxNjkgLTEzLjM2MzQzLDMuMDQ2MzkgLTE3LjY4NzUsLTIuMzc1IC0xLjc3MTMyLC0yLjIyMDk2IC0yLjcwMDcyLC00LjgzMjM5IC0yLjgxMjUsLTcuNDY4NzUgbCAtMC4wNjI1LC0wLjAzMTIgeiBtIC0xNDcuNjI1LDcwLjg3NSA1Ny40Mzc1LDUxLjM3NSAtMC4wNjI1LDAuMzEyNSBjIDUuMTg0MzcsNC41MDY5NyA1Ljk0ODg4LDEyLjMyNzk0IDEuNjI1LDE3Ljc1IC0xLjc3MTIsMi4yMjEwNSAtNC4xNDIwOCwzLjcxMDc0IC02LjY4NzUsNC40MDYyNSBsIC0wLjA2MjUsMC4yNSAtNzMuNjI1LDIxLjI1IGMgLTMuNzQ3MjgsLTM0LjI2NTE3IDQuMzI4NTUsLTY3LjU3MzY0IDIxLjM3NSwtOTUuMzQzNzUgeiBtIDI1OC4xNTYyNSwwLjAzMTIgYyA4LjUzNDEsMTMuODMyNTYgMTQuOTk2NTUsMjkuMjgyMTQgMTguODQzNzUsNDYuMDMxMjUgMy44MDEwNiwxNi41NDgyOCA0Ljc1NDk5LDMzLjA2Njk3IDMuMTg3NSw0OS4wMzEyNSBsIC03NCwtMjEuMzEyNSAtMC4wNjI1LC0wLjMxMjUgYyAtNi42MjY1LC0xLjgxMTA0IC0xMC42OTg5MywtOC41NTE2MiAtOS4xNTYyNSwtMTUuMzEyNSAwLjYzMjAzLC0yLjc2OTYyIDIuMTAyMjIsLTUuMTEyNjQgNC4wOTM3NSwtNi44NDM3NSBsIC0wLjAzMTIsLTAuMTU2MjUgNTcuMTI1LC01MS4xMjUgeiBtIC0xNDAuNjU2MjUsNTUuMzEyNSAyMy41MzEyNSwwIDE0LjYyNSwxOC4yODEyNSAtNS4yNSwyMi44MTI1IC0yMS4xMjUsMTAuMTU2MjUgLTIxLjE4NzUsLTEwLjE4NzUgLTUuMjUsLTIyLjgxMjUgeiBtIDc1LjQzNzUsNjIuNTYyNSBjIDAuOTk5OTcsLTAuMDUwNSAxLjk5NTU4LDAuMDM5NiAyLjk2ODc1LDAuMjE4NzUgbCAwLjEyNSwtMC4xNTYyNSA3Ni4xNTYyNSwxMi44NzUgYyAtMTEuMTQ1NSwzMS4zMTMxIC0zMi40NzI4MSw1OC40NDAxOCAtNjAuOTY4NzUsNzYuNTkzNzUgbCAtMjkuNTYyNSwtNzEuNDA2MjUgMC4wOTM3LC0wLjEyNSBjIC0yLjcxNTYxLC02LjMwOTk5IDAuMDAyLC0xMy43MDk1NiA2LjI1LC0xNi43MTg3NSAxLjU5OTY1LC0wLjc3MDQxIDMuMjcwODksLTEuMTk3MDEgNC45Mzc1LC0xLjI4MTI1IHogbSAtMTI3LjkwNjI1LDAuMzEyNSBjIDUuODExNzQsMC4wODE1IDExLjAyNDYyLDQuMTE1MjUgMTIuMzc1LDEwLjAzMTI1IDAuNjMyMTksMi43Njk1OCAwLjMyNDUsNS41MTM3NSAtMC43MTg3NSw3LjkzNzUgbCAwLjIxODc1LDAuMjgxMjUgLTI5LjI1LDcwLjY4NzUgYyAtMjcuMzQ3MTYsLTE3LjU0ODYgLTQ5LjEyOTI3LC00My44MjQwMyAtNjAuNzgxMjUsLTc2LjA2MjQ1IGwgNzUuNSwtMTIuODEyNSAwLjEyNSwwLjE1NjI1IGMgMC44NDQ1MSwtMC4xNTU0MSAxLjcwMSwtMC4yMzA0IDIuNTMxMjUsLTAuMjE4NzUgeiBtIDYzLjc4MTI1LDMwLjk2ODggYyAyLjAyNDQ1LC0wLjA3NDQgNC4wNzg2NSwwLjM0MDk4IDYuMDMxMjUsMS4yODEyNSAyLjU1OTUxLDEuMjMyNTMgNC41MzY3MywzLjE3MzE5IDUuNzgxMjUsNS41IGwgMC4yODEyNSwwIDM3LjIxODc1LDY3LjI1IGMgLTQuODMwMjksMS42MTkyMyAtOS43OTYwOSwzLjAwMzA4IC0xNC44NzUsNC4xNTYyNSAtMjguNDY0NTMsNi40NjI5IC01Ni44Mzg2Miw0LjUwNDY3IC04Mi41MzEyNSwtNC4yNSBsIDM3LjEyNSwtNjcuMTI1IDAuMDYyNSwwIGMgMi4yMjc2NywtNC4xNjQ0MSA2LjQ1MjQ3LC02LjY0ODg3IDEwLjkwNjI1LC02LjgxMjUgeiIKICAgICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7YmFzZWxpbmUtc2hpZnQ6YmFzZWxpbmU7Y29sb3I6IzAwMDAwMDtmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiNmZmZmZmY7c3Ryb2tlLXdpZHRoOjAuMjU7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1kYXNoYXJyYXk6bm9uZTttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OlNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpTYW5zIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NjY2Njc2NjY2NzY3NzY2NzY2NjY2NjY2NzY2Njc2NjY2NjY2NjY2NjY2Njc2NjY3Njc2Njc2NjY2NzY3Njc2NjY2NjY2Njc2NjY3Njc2NjY2NzY2NjY3Njc2NzY2NjY2NjY2NjY2NjY2Njc2NjY3NjY2NjY2NjY2NjY2NzY2NjY2NzY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NzY2Njc2NjY2NjY2NjY3NjY2NzY2NjYyIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSIuL3BhdGgzMDU5LnBuZyIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1MC41NSIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1MC41NSIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="};for(let e in t){let n=new Image;n.src=t[e],n.onload=()=>{this.images.push(n),this.imagesLoaded++,this.imagesLoaded===Object.keys(t).length&&this.start()}}}draw(){this.ctx.fillStyle="rgba(0, 0, 0, 0.05)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#0F0",this.ctx.font=this.font_size+"px arial",this.tickCounter++,this.tickCounter>=this.TICKS_BEFORE_UPDATE&&(this.matrix=this.matrix.map((t,e)=>{let n=t;if(Math.random()>this.PROBABILITY_SVG){let i=this.images[Math.floor(Math.random()*this.images.length)];this.ctx.drawImage(i,e*this.font_size,t*this.font_size,this.font_size,this.font_size),n=t+1}else{let n=String.fromCharCode(12448+96*Math.random());this.ctx.fillText(n,e*this.font_size,t*this.font_size)}return t*this.font_size>this.canvas.height&&Math.random()>this.PROBABILITY_RESET&&(n=0),n}),this.tickCounter=0)}start(){setInterval(()=>this.draw(),30)}}var e={};e=(()=>{var t,e,n,i,r,a,o,s,u,c,l,h,d,f,p,g,m,M,v,y,w,b,N,I,j,L,A,C,T,D,z,S,E,_,x,O,U,Y,R,k,P,F=[,(t,e,n)=>{var i;n.r(e),n.d(e,{default:()=>r});let r=(i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t={}){function e(){function t(t){let a=i;n=e=0,i=new Map,a.forEach(e=>{try{e(t)}catch(t){console.error(t)}}),this.ob(),r&&r.Tb()}let e=0,n=0,i=new Map,r=null,a=null;this.requestAnimationFrame=function(r){e||(e=requestAnimationFrame(t.bind(this)));let a=++n;return i.set(a,r),a},this.cancelAnimationFrame=function(t){i.delete(t),e&&0==i.size&&(cancelAnimationFrame(e),e=0)},this.Rb=function(t){a&&(document.body.remove(a),a=null),t||((a=document.createElement("div")).style.backgroundColor="black",a.style.position="fixed",a.style.right=0,a.style.top=0,a.style.color="white",a.style.padding="4px",a.innerHTML="RIVE FPS",t=function(t){a.innerHTML="RIVE FPS "+t.toFixed(1)},document.body.appendChild(a)),r=new function(){let e=0,n=0;this.Tb=function(){var i=performance.now();n?(++e,1e3<(i-=n)&&(t(1e3*e/i),e=n=0)):(n=i,e=0)}}},this.Ob=function(){a&&(document.body.remove(a),a=null),r=null},this.ob=function(){}}function n(t){console.assert(!0);let e=new Map,n=-1/0;this.push=function(i){return i=i+((1<<t)-1)>>t,e.has(i)&&clearTimeout(e.get(i)),e.set(i,setTimeout(function(){e.delete(i),0==e.length?n=-1/0:i==n&&console.assert((n=Math.max(...e.keys()))<i)},1e3)),(n=Math.max(i,n))<<t}}t.ready=new Promise((t,e)=>{f=t,p=e});let r=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){r&&r();let e=t.decodeAudio;t.decodeAudio=function(t,n){n(t=e(t))};let n=t.decodeFont;t.decodeFont=function(t,e){e(t=n(t))};let i=t.FileAssetLoader;t.ptrToAsset=e=>{let n=t.ptrToFileAsset(e);return n.isImage?t.ptrToImageAsset(e):n.isFont?t.ptrToFontAsset(e):n.isAudio?t.ptrToAudioAsset(e):n},t.CustomFileAssetLoader=i.extend("CustomFileAssetLoader",{__construct:function({loadContents:t}){this.__parent.__construct.call(this),this.Gb=t},loadContents:function(e,n){return e=t.ptrToAsset(e),this.Gb(e,n)}}),t.CDNFileAssetLoader=i.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(e){var n,i,r;let a=t.ptrToAsset(e);return""!==(e=a.cdnUuid)&&(n=a.cdnBaseUrl+"/"+e,i=t=>{a.decode(new Uint8Array(t.response))},(r=new XMLHttpRequest).responseType="arraybuffer",r.onreadystatechange=function(){4==r.readyState&&200==r.status&&i(r)},r.open("GET",n,!0),r.send(null),!0)}}),t.FallbackFileAssetLoader=i.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(t){this.kb.push(t)},loadContents:function(t,e){for(let n of this.kb)if(n.loadContents(t,e))return!0;return!1}})};let a="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),o=new function(){function t(){if(!e){let u;var t=document.createElement("canvas"),n={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(u=t.getContext("webgl",n),i=1,!u)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(u=t.getContext("webgl2",n))i=2;else{if(!(u=t.getContext("webgl",n)))return console.log("No WebGL support. Image mesh will not be drawn."),!1;i=1}function s(t,e,n){if(e=u.createShader(e),u.shaderSource(e,n),u.compileShader(e),0<((n=u.getShaderInfoLog(e))||"").length)throw n;u.attachShader(t,e)}if(r=Math.min((u=new Proxy(u,{get:(t,e)=>t.isContextLost()?(c||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",e),c=!0),"function"==typeof t[e])?function(){}:void 0:"function"==typeof t[e]?function(...n){return t[e].apply(t,n)}:t[e],set(t,e,n){if(!t.isContextLost())return t[e]=n,!0;c||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+e),c=!0)}})).getParameter(u.MAX_RENDERBUFFER_SIZE),u.getParameter(u.MAX_TEXTURE_SIZE)),s(t=u.createProgram(),u.VERTEX_SHADER,"attribute vec2 vertex;\n                attribute vec2 uv;\n                uniform vec4 mat;\n                uniform vec2 translate;\n                varying vec2 st;\n                void main() {\n                    st = uv;\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\n                }"),s(t,u.FRAGMENT_SHADER,"precision highp float;\n                uniform sampler2D image;\n                varying vec2 st;\n                void main() {\n                    gl_FragColor = texture2D(image, st);\n                }"),u.bindAttribLocation(t,0,"vertex"),u.bindAttribLocation(t,1,"uv"),u.linkProgram(t),0<((n=u.getProgramInfoLog(t))||"").trim().length)throw n;a=u.getUniformLocation(t,"mat"),o=u.getUniformLocation(t,"translate"),u.useProgram(t),u.bindBuffer(u.ARRAY_BUFFER,u.createBuffer()),u.enableVertexAttribArray(0),u.enableVertexAttribArray(1),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,u.createBuffer()),u.uniform1i(u.getUniformLocation(t,"image"),0),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=u}return!0}let e=null,i=0,r=0,a=null,o=null,s=0,u=0,c=!1;t(),this.hc=function(){return t(),r},this.Mb=function(t){e.deleteTexture&&e.deleteTexture(t)},this.Lb=function(n){if(!t())return null;let r=e.createTexture();return r?(e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),2==i?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),r):null};let l=new n(8),h=new n(8),d=new n(10),f=new n(10);this.Qb=function(n,i,r,c,p){if(t()){var g=l.push(n),m=h.push(i);if(e.canvas){for(var M of((e.canvas.width!=g||e.canvas.height!=m)&&(e.canvas.width=g,e.canvas.height=m),e.viewport(0,m-i,n,i),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),r.sort((t,e)=>e.wb-t.wb),g=d.push(c),s!=g&&(e.bufferData(e.ARRAY_BUFFER,8*g,e.DYNAMIC_DRAW),s=g),g=0,r))e.bufferSubData(e.ARRAY_BUFFER,g,M.Ta),g+=4*M.Ta.length;for(var v of(console.assert(g==4*c),r))e.bufferSubData(e.ARRAY_BUFFER,g,v.Db),g+=4*v.Db.length;for(var y of(console.assert(g==8*c),g=f.push(p),u!=g&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*g,e.DYNAMIC_DRAW),u=g),M=0,r))e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,M,y.indices),M+=2*y.indices.length;for(let t of(console.assert(M==2*p),y=0,v=!0,g=M=0,r)){t.image.Ka!=y&&(e.bindTexture(e.TEXTURE_2D,t.image.Ja||null),y=t.image.Ka),t.mc?(e.scissor(t.Ya,m-t.Za-t.jb,t.Ac,t.jb),v=!0):v&&(e.scissor(0,m-i,n,i),v=!1),r=2/n;let s=-2/i;e.uniform4f(a,t.ha[0]*r*t.Ba,t.ha[1]*s*t.Ca,t.ha[2]*r*t.Ba,t.ha[3]*s*t.Ca),e.uniform2f(o,t.ha[4]*r*t.Ba+r*(t.Ya-t.ic*t.Ba)-1,t.ha[5]*s*t.Ca+s*(t.Za-t.jc*t.Ca)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,g),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,g+4*c),e.drawElements(e.TRIANGLES,t.indices.length,e.UNSIGNED_SHORT,M),g+=4*t.Ta.length,M+=2*t.indices.length}console.assert(g==4*c),console.assert(M==2*p)}}},this.canvas=function(){return t()&&e.canvas}},s=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){function n(t){switch(t){case p.srcOver:return"source-over";case p.screen:return"screen";case p.overlay:return"overlay";case p.darken:return"darken";case p.lighten:return"lighten";case p.colorDodge:return"color-dodge";case p.colorBurn:return"color-burn";case p.hardLight:return"hard-light";case p.softLight:return"soft-light";case p.difference:return"difference";case p.exclusion:return"exclusion";case p.multiply:return"multiply";case p.hue:return"hue";case p.saturation:return"saturation";case p.color:return"color";case p.luminosity:return"luminosity"}}function i(t){return"rgba("+((16711680&t)>>>16)+","+((65280&t)>>>8)+","+((255&t)>>>0)+","+((4278190080&t)>>>24)/255+")"}function r(){for(let t of(0<j.length&&(o.Qb(I.drawWidth(),I.drawHeight(),j,L,A),j=[],A=L=0,I.reset(512,512)),N)){for(let e of t.J)e();t.J=[]}N.clear()}s&&s();var u=t.RenderPaintStyle;let c=t.RenderPath,l=t.RenderPaint,h=t.Renderer,d=t.StrokeCap,f=t.StrokeJoin,p=t.BlendMode,g=u.fill,m=u.stroke,M=t.FillRule.evenOdd,v=1;var y=t.RenderImage.extend("CanvasRenderImage",{__construct:function({la:t,xa:e}={}){this.__parent.__construct.call(this),this.Ka=v,v=v+1&2147483647||1,this.la=t,this.xa=e},__destruct:function(){this.Ja&&(o.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(t){var e=this;e.xa&&e.xa(e);var n=new Image;e.Wa=URL.createObjectURL(new Blob([t],{type:"image/png"})),n.onload=function(){e.Fb=n,e.Ja=o.Lb(n),e.size(n.width,n.height),e.la&&e.la(e)},n.src=e.Wa}}),w=c.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(t,e,n,i,r,a,o){var s=this.T,u=s.addPath;t=t.T;let c=new DOMMatrix;c.a=e,c.b=n,c.c=i,c.d=r,c.e=a,c.f=o,u.call(s,t,c)},fillRule:function(t){this.Va=t},moveTo:function(t,e){this.T.moveTo(t,e)},lineTo:function(t,e){this.T.lineTo(t,e)},cubicTo:function(t,e,n,i,r,a){this.T.bezierCurveTo(t,e,n,i,r,a)},close:function(){this.T.closePath()}}),b=l.extend("CanvasRenderPaint",{color:function(t){this.Xa=i(t)},thickness:function(t){this.Ib=t},join:function(t){switch(t){case f.miter:this.Ia="miter";break;case f.round:this.Ia="round";break;case f.bevel:this.Ia="bevel"}},cap:function(t){switch(t){case d.butt:this.Ha="butt";break;case d.round:this.Ha="round";break;case d.square:this.Ha="square"}},style:function(t){this.Hb=t},blendMode:function(t){this.Eb=n(t)},clearGradient:function(){this.ja=null},linearGradient:function(t,e,n,i){this.ja={yb:t,zb:e,bb:n,cb:i,Ra:[]}},radialGradient:function(t,e,n,i){this.ja={yb:t,zb:e,bb:n,cb:i,Ra:[],ec:!0}},addStop:function(t,e){this.ja.Ra.push({color:t,stop:e})},completeGradient:function(){},draw:function(t,e,n){let r=this.Hb;var a=this.Xa,o=this.ja;if(t.globalCompositeOperation=this.Eb,null!=o){a=o.yb;var s=o.zb;let e=o.bb;var u=o.cb;let n=o.Ra;o.ec?(o=e-a,u-=s,a=t.createRadialGradient(a,s,0,a,s,Math.sqrt(o*o+u*u))):a=t.createLinearGradient(a,s,e,u);for(let t=0,e=n.length;t<e;t++)s=n[t],a.addColorStop(s.stop,i(s.color));this.Xa=a,this.ja=null}switch(r){case m:t.strokeStyle=a,t.lineWidth=this.Ib,t.lineCap=this.Ha,t.lineJoin=this.Ia,t.stroke(e);break;case g:t.fillStyle=a,t.fill(e,n)}}});let N=new Set,I=null,j=[],L=0,A=0;var C=t.CanvasRenderer=h.extend("Renderer",{__construct:function(t){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=t.getContext("2d"),this.Ua=t,this.J=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.J.push(this.C.save.bind(this.C))},restore:function(){let t=this.S.length-6;if(6>t)throw"restore() called without matching save().";this.S.splice(t),this.J.push(this.C.restore.bind(this.C))},transform:function(t,e,n,i,r,a){let o=this.S,s=o.length-6;o.splice(s,6,o[s]*t+o[s+2]*e,o[s+1]*t+o[s+3]*e,o[s]*n+o[s+2]*i,o[s+1]*n+o[s+3]*i,o[s]*r+o[s+2]*a+o[s+4],o[s+1]*r+o[s+3]*a+o[s+5]),this.J.push(this.C.transform.bind(this.C,t,e,n,i,r,a))},rotate:function(t){let e=Math.sin(t);t=Math.cos(t),this.transform(t,e,-e,t,0,0)},_drawPath:function(t,e){this.J.push(e.draw.bind(e,this.C,t.T,t.Va===M?"evenodd":"nonzero"))},_drawRiveImage:function(t,e,i){var r=t.Fb;if(r){var a=this.C,o=n(e);this.J.push(function(){a.globalCompositeOperation=o,a.globalAlpha=i,a.drawImage(r,0,0),a.globalAlpha=1})}},_getMatrix:function(t){let e=this.S,n=e.length-6;for(let i=0;6>i;++i)t[i]=e[n+i]},_drawImageMesh:function(e,i,a,s,u,c,l,h,d,f){var p=this.C.canvas.width,g=this.C.canvas.height;let m=d-l,M=f-h;l=Math.max(l,0),h=Math.max(h,0);let v=(d=Math.min(d,p))-l,y=(f=Math.min(f,g))-h;if(console.assert(v<=Math.min(m,p)),console.assert(y<=Math.min(M,g)),!(0>=v||0>=y)){d=v<m||y<M,p=f=1;var w=Math.ceil(v*f),b=Math.ceil(y*p);g=o.hc(),w>g&&(f*=g/w,w=g),b>g&&(p*=g/b,b=g),I||(I=new t.DynamicRectanizer(g)).reset(512,512),0>(g=I.addRect(w,b))&&(r(),N.add(this),console.assert(0<=(g=I.addRect(w,b))));var C=65535&g,T=g>>16;j.push({ha:this.S.slice(this.S.length-6),image:e,Ya:C,Za:T,ic:l,jc:h,Ac:w,jb:b,Ba:f,Ca:p,Ta:new Float32Array(s),Db:new Float32Array(u),indices:new Uint16Array(c),mc:d,wb:e.Ka<<1|(d?1:0)}),L+=s.length,A+=c.length;var D=this.C,z=n(i);this.J.push(function(){D.save(),D.resetTransform(),D.globalCompositeOperation=z,D.globalAlpha=a;let t=o.canvas();t&&D.drawImage(t,C,T,w,b,l,h,v,y),D.restore()})}},_clipPath:function(t){this.J.push(this.C.clip.bind(this.C,t.T,t.Va===M?"evenodd":"nonzero"))},clear:function(){N.add(this),this.J.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(t,e){this.transform(1,0,0,1,t,e)}});t.makeRenderer=function(t){let e=new C(t),n=e.C;return new Proxy(e,{get(t,i){if("function"==typeof t[i])return function(...e){return t[i].apply(t,e)};if("function"==typeof n[i]){if(-1<a.indexOf(i))throw Error("RiveException: Method call to '"+i+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...t){e.J.push(n[i].bind(n,...t))}}return t[i]},set(t,e,i){if(e in n)return n[e]=i,!0}})},t.decodeImage=function(t,e){new y({la:e}).decode(t)},t.renderFactory={makeRenderPaint:function(){return new b},makeRenderPath:function(){return new w},makeRenderImage:function(){let t=D;return new y({xa:()=>{t.total++},la:()=>{if(t.loaded++,t.loaded===t.total){let e=t.ready;e&&(e(),t.ready=null)}}})}};let T=t.load,D=null;t.load=function(e,n,i=!0){let r=new t.FallbackFileAssetLoader;return void 0!==n&&r.addLoader(n),i&&(n=new t.CDNFileAssetLoader,r.addLoader(n)),new Promise(function(t){let n=null;D={total:0,loaded:0,ready:function(){t(n)}},n=T(e,r),0==D.total&&t(n)})},u=new e,t.requestAnimationFrame=u.requestAnimationFrame.bind(u),t.cancelAnimationFrame=u.cancelAnimationFrame.bind(u),t.enableFPSCounter=u.Rb.bind(u),t.disableFPSCounter=u.Ob,u.ob=r,t.resolveAnimationFrame=r,t.cleanup=function(){I&&I.delete()}};var u,c,l,h,d,f,p,g,m,M=Object.assign({},t),v="./this.program",y="object"==typeof window,w="function"==typeof importScripts,b="";(y||w)&&(w?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),i&&(b=i),b=0!==b.indexOf("blob:")?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w&&(m=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),g=(t,e,n)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{200==i.status||0==i.status&&i.response?e(i.response):n()},i.onerror=n,i.send(null)});var N=t.print||console.log.bind(console),I=t.printErr||console.error.bind(console);Object.assign(t,M),M=null,t.thisProgram&&(v=t.thisProgram),t.wasmBinary&&(j=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&W("no native wasm support detected");var j,L,A,C,T,D,z,S,E,_,x,O=!1;function U(){var e=L.buffer;t.HEAP8=C=new Int8Array(e),t.HEAP16=D=new Int16Array(e),t.HEAP32=S=new Int32Array(e),t.HEAPU8=T=new Uint8Array(e),t.HEAPU16=z=new Uint16Array(e),t.HEAPU32=E=new Uint32Array(e),t.HEAPF32=_=new Float32Array(e),t.HEAPF64=x=new Float64Array(e)}var Y,R=[],k=[],P=[],F=0,B=null,Q=null;function W(e){throw t.onAbort&&t.onAbort(e),I(e="Aborted("+e+")"),O=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),p(e),e}function G(t){return t.startsWith("data:application/octet-stream;base64,")}if(!G($="canvas_advanced.wasm")){var Z=$;$=t.locateFile?t.locateFile(Z,b):b+Z}function X(t){if(t==$&&j)return new Uint8Array(j);if(m)return m(t);throw"both async and sync fetching of the wasm failed"}function H(t,e,n){return(function(t){if(!j&&(y||w)){if("function"==typeof fetch&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>X(t));if(g)return new Promise((e,n)=>{g(t,t=>e(new Uint8Array(t)),n)})}return Promise.resolve().then(()=>X(t))})(t).then(t=>WebAssembly.instantiate(t,e)).then(t=>t).then(n,t=>{I("failed to asynchronously prepare wasm: "+t),W(t)})}var $,V,J,K={433500:(t,e,n,i,r)=>{if("undefined"==typeof window||void 0===(window.AudioContext||window.webkitAudioContext))return 0;if(void 0===window.h){window.h={Aa:0},window.h.H={},window.h.H.ya=t,window.h.H.capture=e,window.h.H.La=n,window.h.ga={},window.h.ga.stopped=i,window.h.ga.xb=r;let a=window.h;a.D=[],a.yc=function(t){for(var e=0;e<a.D.length;++e)if(null==a.D[e])return a.D[e]=t,e;return a.D.push(t),a.D.length-1},a.Cb=function(t){for(a.D[t]=null;0<a.D.length&&null==a.D[a.D.length-1];)a.D.pop()},a.Sc=function(t){for(var e=0;e<a.D.length;++e)if(a.D[e]==t)return a.Cb(e)},a.ra=function(t){return a.D[t]},a.Bb=["touchend","click"],a.unlock=function(){for(var t=0;t<a.D.length;++t){var e=a.D[t];null!=e&&null!=e.I&&e.state===a.ga.xb&&e.I.resume().then(()=>{nl(e.pb)},t=>{console.error("Failed to resume audiocontext",t)})}a.Bb.map(function(t){document.removeEventListener(t,a.unlock,!0)})},a.Bb.map(function(t){document.addEventListener(t,a.unlock,!0)})}return window.h.Aa+=1,1},435678:()=>{void 0!==window.h&&(--window.h.Aa,0===window.h.Aa&&delete window.h)},435842:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia,435946:()=>{try{var t=new(window.AudioContext||window.webkitAudioContext),e=t.sampleRate;return t.close(),e}catch(t){return 0}},436117:(t,e,n,i,r,a)=>{if(void 0===window.h)return -1;var o={},s={};return t==window.h.H.ya&&0!=n&&(s.sampleRate=n),o.I=new(window.AudioContext||window.webkitAudioContext)(s),o.I.suspend(),o.state=window.h.ga.stopped,n=0,t!=window.h.H.ya&&(n=e),o.Z=o.I.createScriptProcessor(i,n,e),o.Z.onaudioprocess=function(n){if((null==o.sa||0==o.sa.length)&&(o.sa=new Float32Array(_.buffer,r,i*e)),t==window.h.H.capture||t==window.h.H.La){for(var s=0;s<e;s+=1)for(var u=n.inputBuffer.getChannelData(s),c=o.sa,l=0;l<i;l+=1)c[l*e+s]=u[l];nh(a,i,r)}if(t==window.h.H.ya||t==window.h.H.La)for(nd(a,i,r),s=0;s<n.outputBuffer.numberOfChannels;++s)for(u=n.outputBuffer.getChannelData(s),c=o.sa,l=0;l<i;l+=1)u[l]=c[l*e+s];else for(s=0;s<n.outputBuffer.numberOfChannels;++s)n.outputBuffer.getChannelData(s).fill(0)},t!=window.h.H.capture&&t!=window.h.H.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(t){o.Da=o.I.createMediaStreamSource(t),o.Da.connect(o.Z),o.Z.connect(o.I.destination)}).catch(function(t){console.log("Failed to get user media: "+t)}),t==window.h.H.ya&&o.Z.connect(o.I.destination),o.pb=a,window.h.yc(o)},438994:t=>window.h.ra(t).I.sampleRate,439067:t=>{void 0!==(t=window.h.ra(t)).Z&&(t.Z.onaudioprocess=function(){},t.Z.disconnect(),t.Z=void 0),void 0!==t.Da&&(t.Da.disconnect(),t.Da=void 0),t.I.close(),t.I=void 0,t.pb=void 0},439467:t=>{window.h.Cb(t)},439517:t=>{(t=window.h.ra(t)).I.resume(),t.state=window.h.ga.xb},439656:t=>{(t=window.h.ra(t)).I.suspend(),t.state=window.h.ga.stopped}},q=e=>{for(;0<e.length;)e.shift()(t)},tt=(t,e)=>{for(var n=0,i=t.length-1;0<=i;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n;n--)t.unshift("..");return t},te=t=>{var e="/"===t.charAt(0),n="/"===t.substr(-1);return(t=tt(t.split("/").filter(t=>!!t),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},tn=t=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return(t=e[0],e=e[1],t||e)?(e&&(e=e.substr(0,e.length-1)),t+e):"."},ti=t=>{if("/"===t)return"/";var e=(t=(t=te(t)).replace(/\/$/,"")).lastIndexOf("/");return -1===e?t:t.substr(e+1)},tr=()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return t=>crypto.getRandomValues(t);W("initRandomDevice")},ta=t=>(ta=tr())(t);function to(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){if(e=0<=n?arguments[n]:"/","string"!=typeof e)throw TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return t=tt(t.split("/").filter(t=>!!t),!e).join("/"),(e?"/":"")+t||"."}var ts="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,tu=(t,e,n)=>{var i=e+n;for(n=e;t[n]&&!(n>=i);)++n;if(16<n-e&&t.buffer&&ts)return ts.decode(t.subarray(e,n));for(i="";e<n;){var r=t[e++];if(128&r){var a=63&t[e++];if(192==(224&r))i+=String.fromCharCode((31&r)<<6|a);else{var o=63&t[e++];65536>(r=224==(240&r)?(15&r)<<12|a<<6|o:(7&r)<<18|a<<12|o<<6|63&t[e++])?i+=String.fromCharCode(r):(r-=65536,i+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else i+=String.fromCharCode(r)}return i},tc=[],tl=t=>{for(var e=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);127>=i?e++:2047>=i?e+=2:55296<=i&&57343>=i?(e+=4,++n):e+=3}return e},th=(t,e,n,i)=>{if(!(0<i))return 0;var r=n;i=n+i-1;for(var a=0;a<t.length;++a){var o=t.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++a)),127>=o){if(n>=i)break;e[n++]=o}else{if(2047>=o){if(n+1>=i)break;e[n++]=192|o>>6}else{if(65535>=o){if(n+2>=i)break;e[n++]=224|o>>12}else{if(n+3>=i)break;e[n++]=240|o>>18,e[n++]=128|o>>12&63}e[n++]=128|o>>6&63}e[n++]=128|63&o}}return e[n]=0,n-r};function td(t,e){var n=Array(tl(t)+1);return t=th(t,n,0,n.length),e&&(n.length=t),n}var tf=[];function tp(t,e){tf[t]={input:[],F:[],V:e},tB(t,tg)}var tg={open:function(t){var e=tf[t.node.za];if(!e)throw new tT(43);t.s=e,t.seekable=!1},close:function(t){t.s.V.qa(t.s)},qa:function(t){t.s.V.qa(t.s)},read:function(t,e,n,i){if(!t.s||!t.s.V.ib)throw new tT(60);for(var r=0,a=0;a<i;a++){try{var o=t.s.V.ib(t.s)}catch(t){throw new tT(29)}if(void 0===o&&0===r)throw new tT(6);if(null==o)break;r++,e[n+a]=o}return r&&(t.node.timestamp=Date.now()),r},write:function(t,e,n,i){if(!t.s||!t.s.V.Oa)throw new tT(60);try{for(var r=0;r<i;r++)t.s.V.Oa(t.s,e[n+r])}catch(t){throw new tT(29)}return i&&(t.node.timestamp=Date.now()),r}};function tm(t,e){var n=t.j?t.j.length:0;n>=e||(e=Math.max(e,n*(1048576>n?2:1.125)>>>0),0!=n&&(e=Math.max(e,256)),n=t.j,t.j=new Uint8Array(e),0<t.v&&t.j.set(n.subarray(0,t.v),0))}var tM,tv,ty,tw,tb={O:null,U:()=>tb.createNode(null,"/",16895,0),createNode(t,e,n,i){if(24576==(61440&n)||4096==(61440&n))throw new tT(63);return tb.O||(tb.O={dir:{node:{Y:tb.l.Y,P:tb.l.P,ka:tb.l.ka,va:tb.l.va,ub:tb.l.ub,Ab:tb.l.Ab,vb:tb.l.vb,sb:tb.l.sb,Ea:tb.l.Ea},stream:{ba:tb.m.ba}},file:{node:{Y:tb.l.Y,P:tb.l.P},stream:{ba:tb.m.ba,read:tb.m.read,write:tb.m.write,pa:tb.m.pa,lb:tb.m.lb,nb:tb.m.nb}},link:{node:{Y:tb.l.Y,P:tb.l.P,ma:tb.l.ma},stream:{}},$a:{node:{Y:tb.l.Y,P:tb.l.P},stream:tF}}),16384==(61440&(n=tx(t,e,n,i)).mode)?(n.l=tb.O.dir.node,n.m=tb.O.dir.stream,n.j={}):32768==(61440&n.mode)?(n.l=tb.O.file.node,n.m=tb.O.file.stream,n.v=0,n.j=null):40960==(61440&n.mode)?(n.l=tb.O.link.node,n.m=tb.O.link.stream):8192==(61440&n.mode)&&(n.l=tb.O.$a.node,n.m=tb.O.$a.stream),n.timestamp=Date.now(),t&&(t.j[e]=n,t.timestamp=n.timestamp),n},Kc:t=>t.j?t.j.subarray?t.j.subarray(0,t.v):new Uint8Array(t.j):new Uint8Array(0),l:{Y(t){var e={};return e.Jc=8192==(61440&t.mode)?t.id:1,e.Mc=t.id,e.mode=t.mode,e.Oc=1,e.uid=0,e.Lc=0,e.za=t.za,16384==(61440&t.mode)?e.size=4096:32768==(61440&t.mode)?e.size=t.v:40960==(61440&t.mode)?e.size=t.link.length:e.size=0,e.Bc=new Date(t.timestamp),e.Nc=new Date(t.timestamp),e.Ic=new Date(t.timestamp),e.Jb=4096,e.Cc=Math.ceil(e.size/e.Jb),e},P(t,e){if(void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&(e=e.size,t.v!=e)){if(0==e)t.j=null,t.v=0;else{var n=t.j;t.j=new Uint8Array(e),n&&t.j.set(n.subarray(0,Math.min(e,t.v))),t.v=e}}},ka(){throw tD[44]},va:(t,e,n,i)=>tb.createNode(t,e,n,i),ub(t,e,n){if(16384==(61440&t.mode)){try{var i=t_(e,n)}catch(t){}if(i)for(var r in i.j)throw new tT(55)}delete t.parent.j[t.name],t.parent.timestamp=Date.now(),t.name=n,e.j[n]=t,e.timestamp=t.parent.timestamp,t.parent=e},Ab(t,e){delete t.j[e],t.timestamp=Date.now()},vb(t,e){var n,i=t_(t,e);for(n in i.j)throw new tT(55);delete t.j[e],t.timestamp=Date.now()},sb(t){var e,n=[".",".."];for(e in t.j)t.j.hasOwnProperty(e)&&n.push(e);return n},Ea:(t,e,n)=>((t=tb.createNode(t,e,41471,0)).link=n,t),ma(t){if(40960!=(61440&t.mode))throw new tT(28);return t.link}},m:{read(t,e,n,i,r){var a=t.node.j;if(r>=t.node.v)return 0;if(8<(t=Math.min(t.node.v-r,i))&&a.subarray)e.set(a.subarray(r,r+t),n);else for(i=0;i<t;i++)e[n+i]=a[r+i];return t},write(t,e,n,i,r,a){if(e.buffer===C.buffer&&(a=!1),!i)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.j||t.j.subarray)){if(a)return t.j=e.subarray(n,n+i),t.v=i;if(0===t.v&&0===r)return t.j=e.slice(n,n+i),t.v=i;if(r+i<=t.v)return t.j.set(e.subarray(n,n+i),r),i}if(tm(t,r+i),t.j.subarray&&e.subarray)t.j.set(e.subarray(n,n+i),r);else for(a=0;a<i;a++)t.j[r+a]=e[n+a];return t.v=Math.max(t.v,r+i),i},ba(t,e,n){if(1===n?e+=t.position:2===n&&32768==(61440&t.node.mode)&&(e+=t.node.v),0>e)throw new tT(28);return e},pa(t,e,n){tm(t.node,e+n),t.node.v=Math.max(t.node.v,e+n)},lb(t,e,n,i,r){if(32768!=(61440&t.node.mode))throw new tT(43);if(t=t.node.j,2&r||t.buffer!==C.buffer)throw(0<n||n+e<t.length)&&(t=t.subarray?t.subarray(n,n+e):Array.prototype.slice.call(t,n,n+e)),n=!0,W(),e=void 0,new tT(48);return n=!1,{o:e=t.byteOffset,M:n}},nb:(t,e,n,i)=>(tb.m.write(t,e,0,i,n,!1),0)}},tN=null,tI={},tj=[],tL=1,tA=null,tC=!0,tT=null,tD={},tz=(t,e={})=>{if(!(t=to(t)))return{path:"",node:null};if(8<(e=Object.assign({gb:!0,Qa:0},e)).Qa)throw new tT(32);t=t.split("/").filter(t=>!!t);for(var n=tN,i="/",r=0;r<t.length;r++){var a=r===t.length-1;if(a&&e.parent)break;if(n=t_(n,t[r]),i=te(i+"/"+t[r]),n.wa&&(!a||a&&e.gb)&&(n=n.wa.root),!a||e.fb){for(a=0;40960==(61440&n.mode);)if(n=tX(i),n=tz(i=to(tn(i),n),{Qa:e.Qa+1}).node,40<a++)throw new tT(32)}}return{path:i,node:n}},tS=t=>{for(var e;;){if(t===t.parent)return t=t.U.mb,e?"/"!==t[t.length-1]?`${t}/${e}`:t+e:t;e=e?`${t.name}/${e}`:t.name,t=t.parent}},tE=(t,e)=>{for(var n=0,i=0;i<e.length;i++)n=(n<<5)-n+e.charCodeAt(i)|0;return(t+n>>>0)%tA.length},t_=(t,e)=>{var n;if(n=(n=tU(t,"x"))?n:t.l.ka?0:2)throw new tT(n,t);for(n=tA[tE(t.id,e)];n;n=n.lc){var i=n.name;if(n.parent.id===t.id&&i===e)return n}return t.l.ka(t,e)},tx=(t,e,n,i)=>(e=tE((t=new nr(t,e,n,i)).parent.id,t.name),t.lc=tA[e],tA[e]=t),tO=t=>{var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},tU=(t,e)=>tC?0:e.includes("r")&&!(292&t.mode)?2:e.includes("w")&&!(146&t.mode)||e.includes("x")&&!(73&t.mode)?2:0,tY=(t,e)=>{try{return t_(t,e),20}catch(t){}return tU(t,"wx")},tR=()=>{for(var t=0;4096>=t;t++)if(!tj[t])return t;throw new tT(33)},tk=t=>{if(!(t=tj[t]))throw new tT(8);return t},tP=(t,e=-1)=>(ty||((ty=function(){this.h={}}).prototype={},Object.defineProperties(ty.prototype,{object:{get(){return this.node},set(t){this.node=t}},flags:{get(){return this.h.flags},set(t){this.h.flags=t}},position:{get(){return this.h.position},set(t){this.h.position=t}}})),t=Object.assign(new ty,t),-1==e&&(e=tR()),t.X=e,tj[e]=t),tF={open:t=>{t.m=tI[t.node.za].m,t.m.open&&t.m.open(t)},ba:()=>{throw new tT(70)}},tB=(t,e)=>{tI[t]={m:e}},tQ=(t,e)=>{var n="/"===e,i=!e;if(n&&tN)throw new tT(10);if(!n&&!i){var r=tz(e,{gb:!1});if(e=r.path,(r=r.node).wa)throw new tT(10);if(16384!=(61440&r.mode))throw new tT(54)}e={type:t,Qc:{},mb:e,kc:[]},(t=t.U(e)).U=e,e.root=t,n?tN=t:r&&(r.wa=e,r.U&&r.U.kc.push(e))},tW=(t,e,n)=>{var i=tz(t,{parent:!0}).node;if(!(t=ti(t))||"."===t||".."===t)throw new tT(28);var r=tY(i,t);if(r)throw new tT(r);if(!i.l.va)throw new tT(63);return i.l.va(i,t,e,n)},tG=(t,e,n)=>{void 0===n&&(n=e,e=438),tW(t,8192|e,n)},tZ=(t,e)=>{if(!to(t))throw new tT(44);var n=tz(e,{parent:!0}).node;if(!n)throw new tT(44);var i=tY(n,e=ti(e));if(i)throw new tT(i);if(!n.l.Ea)throw new tT(63);n.l.Ea(n,e,t)},tX=t=>{if(!(t=tz(t).node))throw new tT(44);if(!t.l.ma)throw new tT(28);return to(tS(t.parent),t.l.ma(t))},tH=(e,n,i)=>{if(""===e)throw new tT(44);if("string"==typeof n){var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[n];if(void 0===r)throw Error(`Unknown file open mode: ${n}`);n=r}if(i=64&n?(void 0===i?438:i)&4095|32768:0,"object"==typeof e)var a=e;else{e=te(e);try{a=tz(e,{fb:!(131072&n)}).node}catch(t){}}if(r=!1,64&n){if(a){if(128&n)throw new tT(20)}else a=tW(e,i,0),r=!0}if(!a)throw new tT(44);if(8192==(61440&a.mode)&&(n&=-513),65536&n&&16384!=(61440&a.mode))throw new tT(54);if(!r&&(i=a?40960==(61440&a.mode)?32:16384==(61440&a.mode)&&("r"!==tO(n)||512&n)?31:tU(a,tO(n)):44))throw new tT(i);if(512&n&&!r){if(!(i="string"==typeof(i=a)?tz(i,{fb:!0}).node:i).l.P)throw new tT(63);if(16384==(61440&i.mode))throw new tT(31);if(32768!=(61440&i.mode))throw new tT(28);if(r=tU(i,"w"))throw new tT(r);i.l.P(i,{size:0,timestamp:Date.now()})}return n&=-131713,(a=tP({node:a,path:tS(a),flags:n,seekable:!0,position:0,m:a.m,zc:[],error:!1})).m.open&&a.m.open(a),!t.logReadFiles||1&n||(tw||(tw={}),e in tw||(tw[e]=1)),a},t$=(t,e,n)=>{if(null===t.X)throw new tT(8);if(!t.seekable||!t.m.ba)throw new tT(70);if(0!=n&&1!=n&&2!=n)throw new tT(28);t.position=t.m.ba(t,e,n),t.zc=[]},tV=()=>{tT||((tT=function(t,e){this.name="ErrnoError",this.node=e,this.pc=function(t){this.aa=t},this.pc(t),this.message="FS error"}).prototype=Error(),tT.prototype.constructor=tT,[44].forEach(t=>{tD[t]=new tT(t),tD[t].stack="<generic error, no stack>"}))},tJ=(t,e,n)=>{t=te("/dev/"+t);var i,r=(i=0,e&&(i|=365),n&&(i|=146),i);tv||(tv=64);var a=tv++<<8|0;tB(a,{open:t=>{t.seekable=!1},close:()=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(t,n,i,r)=>{for(var a=0,o=0;o<r;o++){try{var s=e()}catch(t){throw new tT(29)}if(void 0===s&&0===a)throw new tT(6);if(null==s)break;a++,n[i+o]=s}return a&&(t.node.timestamp=Date.now()),a},write:(t,e,i,r)=>{for(var a=0;a<r;a++)try{n(e[i+a])}catch(t){throw new tT(29)}return r&&(t.node.timestamp=Date.now()),a}}),tG(t,r,a)},tK={},tq=void 0;function t0(){return S[(tq+=4)-4>>2]}function t1(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function t2(t,e){return({[t=t1(t)]:function(){return e.apply(this,arguments)}})[t]}function t4(){this.M=[void 0],this.hb=[]}var t3=new t4,t5=void 0;function t6(t){throw new t5(t)}var t8=t=>(t||t6("Cannot use deleted val. handle = "+t),t3.get(t).value),t9=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return t3.pa({tb:1,value:t})}};function t7(t){var e=Error,n=t2(t,function(e){this.name=t,this.message=e,void 0!==(e=Error(e).stack)&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},n}var et=void 0,ee=void 0;function en(t){for(var e="";T[t];)e+=ee[T[t++]];return e}var ei=[];function er(){for(;ei.length;){var t=ei.pop();t.g.fa=!1,t.delete()}}var ea=void 0,eo={};function es(t,e){for(void 0===e&&t6("ptr should not be undefined");t.A;)e=t.na(e),t=t.A;return e}var eu={};function ec(t){var e=en(t=np(t));return nu(t),e}function el(t,e){var n=eu[t];return void 0===n&&t6(e+" has unknown type "+ec(t)),n}function eh(){}var ed=!1;function ef(t){--t.count.value,0===t.count.value&&(t.G?t.L.W(t.G):t.u.i.W(t.o))}var ep={},eg=void 0;function em(t){throw new eg(t)}function eM(t,e){return e.u&&e.o||em("makeClassHandle requires ptr and ptrType"),!!e.L!=!!e.G&&em("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ev(Object.create(t,{g:{value:e}}))}function ev(t){return"undefined"==typeof FinalizationRegistry?(ev=t=>t,t):(ed=new FinalizationRegistry(t=>{ef(t.g)}),ev=t=>{var e=t.g;return e.G&&ed.register(t,{g:e},t),t},eh=t=>{ed.unregister(t)},ev(t))}var ey={};function ew(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function eb(t){return this.fromWireType(S[t>>2])}var eN={},eI={};function ej(t,e,n){function i(e){(e=n(e)).length!==t.length&&em("Mismatched type converter count");for(var i=0;i<t.length;++i)eA(t[i],e[i])}t.forEach(function(t){eI[t]=e});var r=Array(e.length),a=[],o=0;e.forEach((t,e)=>{eu.hasOwnProperty(t)?r[e]=eu[t]:(a.push(t),eN.hasOwnProperty(t)||(eN[t]=[]),eN[t].push(()=>{r[e]=eu[t],++o===a.length&&i(r)}))}),0===a.length&&i(r)}function eL(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw TypeError(`Unknown type size: ${t}`)}}function eA(t,e,n={}){if(!("argPackAdvance"in e))throw TypeError("registerType registeredInstance requires argPackAdvance");!function(t,e,n={}){var i=e.name;if(t||t6(`type "${i}" must have a positive integer typeid pointer`),eu.hasOwnProperty(t)){if(n.$b)return;t6(`Cannot register type '${i}' twice`)}eu[t]=e,delete eI[t],eN.hasOwnProperty(t)&&(e=eN[t],delete eN[t],e.forEach(t=>t()))}(t,e,n)}function eC(t){t6(t.g.u.i.name+" instance already deleted")}function eT(){}function eD(t,e,n){if(void 0===t[e].B){var i=t[e];t[e]=function(){return t[e].B.hasOwnProperty(arguments.length)||t6(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].B})!`),t[e].B[arguments.length].apply(this,arguments)},t[e].B=[],t[e].B[i.ea]=i}}function ez(e,n,i){t.hasOwnProperty(e)?((void 0===i||void 0!==t[e].B&&void 0!==t[e].B[i])&&t6(`Cannot register public name '${e}' twice`),eD(t,e,e),t.hasOwnProperty(i)&&t6(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),t[e].B[i]=n):(t[e]=n,void 0!==i&&(t[e].Pc=i))}function eS(t,e,n,i,r,a,o,s){this.name=t,this.constructor=e,this.N=n,this.W=i,this.A=r,this.Ub=a,this.na=o,this.Pb=s,this.qb=[]}function eE(t,e,n){for(;e!==n;)e.na||t6(`Expected null or instance of ${n.name}, got an instance of ${e.name}`),t=e.na(t),e=e.A;return t}function e_(t,e){return null===e?(this.Na&&t6(`null is not a valid ${this.name}`),0):(e.g||t6(`Cannot pass "${eH(e)}" as a ${this.name}`),e.g.o||t6(`Cannot pass deleted object as a pointer of type ${this.name}`),eE(e.g.o,e.g.u.i,this.i))}function ex(t,e){if(null===e){if(this.Na&&t6(`null is not a valid ${this.name}`),this.ua){var n=this.Pa();return null!==t&&t.push(this.W,n),n}return 0}if(e.g||t6(`Cannot pass "${eH(e)}" as a ${this.name}`),e.g.o||t6(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&e.g.u.ta&&t6(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`),n=eE(e.g.o,e.g.u.i,this.i),this.ua)switch(void 0===e.g.G&&t6("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:e.g.L===this?n=e.g.G:t6(`Cannot convert argument of type ${e.g.L?e.g.L.name:e.g.u.name} to parameter type ${this.name}`);break;case 1:n=e.g.G;break;case 2:if(e.g.L===this)n=e.g.G;else{var i=e.clone();n=this.oc(n,t9(function(){i.delete()})),null!==t&&t.push(this.W,n)}break;default:t6("Unsupporting sharing policy")}return n}function eO(t,e){return null===e?(this.Na&&t6(`null is not a valid ${this.name}`),0):(e.g||t6(`Cannot pass "${eH(e)}" as a ${this.name}`),e.g.o||t6(`Cannot pass deleted object as a pointer of type ${this.name}`),e.g.u.ta&&t6(`Cannot convert argument of type ${e.g.u.name} to parameter type ${this.name}`),eE(e.g.o,e.g.u.i,this.i))}function eU(t,e,n,i){this.name=t,this.i=e,this.Na=n,this.ta=i,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,void 0!==e.A?this.toWireType=ex:(this.toWireType=i?e_:eO,this.K=null)}function eY(e,n,i){t.hasOwnProperty(e)||em("Replacing nonexistant public symbol"),void 0!==t[e].B&&void 0!==i?t[e].B[i]=n:(t[e]=n,t[e].ea=i)}var eR=[],ek=t=>{var e=eR[t];return e||(t>=eR.length&&(eR.length=t+1),eR[t]=e=Y.get(t)),e},eP=(e,n)=>{var i=[];return function(){if(i.length=0,Object.assign(i,arguments),e.includes("j")){var r=t["dynCall_"+e];r=i&&i.length?r.apply(null,[n].concat(i)):r.call(null,n)}else r=ek(n).apply(null,i);return r}};function eF(t,e){var n=(t=en(t)).includes("j")?eP(t,e):ek(e);return"function"!=typeof n&&t6(`unknown function pointer with signature ${t}: ${e}`),n}var eB=void 0;function eQ(t,e){var n=[],i={};throw e.forEach(function t(e){i[e]||eu[e]||(eI[e]?eI[e].forEach(t):(n.push(e),i[e]=!0))}),new eB(`${t}: `+n.map(ec).join([", "]))}function eW(t,e,n,i,r){var a=e.length;2>a&&t6("argTypes array size mismatch! Must at least get return value and 'this' types!");var o=null!==e[1]&&null!==n,s=!1;for(n=1;n<e.length;++n)if(null!==e[n]&&void 0===e[n].K){s=!0;break}var u="void"!==e[0].name,c=a-2,l=Array(c),h=[],d=[];return function(){if(arguments.length!==c&&t6(`function ${t} called with ${arguments.length} arguments, expected ${c} args!`),d.length=0,h.length=o?2:1,h[0]=r,o){var n=e[1].toWireType(d,this);h[1]=n}for(var a=0;a<c;++a)l[a]=e[a+2].toWireType(d,arguments[a]),h.push(l[a]);if(a=i.apply(null,h),s)ew(d);else for(var f=o?1:2;f<e.length;f++){var p=1===f?n:l[f-2];null!==e[f].K&&e[f].K(p)}return u?e[0].fromWireType(a):void 0}}function eG(t,e){for(var n=[],i=0;i<t;i++)n.push(E[e+4*i>>2]);return n}function eZ(t,e,n){return t instanceof Object||t6(`${n} with invalid "this": ${t}`),t instanceof e.i.constructor||t6(`${n} incompatible with "this" of type ${t.constructor.name}`),t.g.o||t6(`cannot call emscripten binding method ${n} on deleted object`),eE(t.g.o,t.g.u.i,e.i)}function eX(t){t>=t3.h&&0==--t3.get(t).tb&&t3.Zb(t)}function eH(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}var e$="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,eV=(t,e)=>{for(var n=t>>1,i=n+e/2;!(n>=i)&&z[n];)++n;if(32<(n<<=1)-t&&e$)return e$.decode(T.subarray(t,n));for(i=0,n="";!(i>=e/2);++i){var r=D[t+2*i>>1];if(0==r)break;n+=String.fromCharCode(r)}return n},eJ=(t,e,n)=>{if(void 0===n&&(n=2147483647),2>n)return 0;n-=2;var i=e;n=n<2*t.length?n/2:t.length;for(var r=0;r<n;++r)D[e>>1]=t.charCodeAt(r),e+=2;return D[e>>1]=0,e-i},eK=t=>2*t.length,eq=(t,e)=>{for(var n=0,i="";!(n>=e/4);){var r=S[t+4*n>>2];if(0==r)break;++n,65536<=r?(r-=65536,i+=String.fromCharCode(55296|r>>10,56320|1023&r)):i+=String.fromCharCode(r)}return i},e0=(t,e,n)=>{if(void 0===n&&(n=2147483647),4>n)return 0;var i=e;n=i+n-4;for(var r=0;r<t.length;++r){var a=t.charCodeAt(r);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++r)),S[e>>2]=a,(e+=4)+4>n)break}return S[e>>2]=0,e-i},e1=t=>{for(var e=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);55296<=i&&57343>=i&&++n,e+=4}return e},e2={};function e4(t){var e=e2[t];return void 0===e?en(t):e}var e3,e5=[],e6=[],e8=[],e9={},e7=()=>{if(!e3){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:v||"./this.program"};for(t in e9)void 0===e9[t]?delete e[t]:e[t]=e9[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);e3=n}return e3},nt=t=>0==t%4&&(0!=t%100||0==t%400),ne=[31,29,31,30,31,30,31,31,30,31,30,31],nn=[31,28,31,30,31,30,31,31,30,31,30,31],ni=(t,e,n,i)=>{function r(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function a(t,e){return r(t,e,"0")}function o(t,e){var n;function i(t){return 0>t?-1:0<t?1:0}return 0===(n=i(t.getFullYear()-e.getFullYear()))&&0===(n=i(t.getMonth()-e.getMonth()))&&(n=i(t.getDate()-e.getDate())),n}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function u(t){var e=t.ca;for(t=new Date(new Date(t.da+1900,0,1).getTime());0<e;){var n=t.getMonth(),i=(nt(t.getFullYear())?ne:nn)[n];if(e>i-t.getDate())e-=i-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else{t.setDate(t.getDate()+e);break}}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var c=S[i+40>>2];for(var l in i={wc:S[i>>2],vc:S[i+4>>2],Fa:S[i+8>>2],Sa:S[i+12>>2],Ga:S[i+16>>2],da:S[i+20>>2],R:S[i+24>>2],ca:S[i+28>>2],Rc:S[i+32>>2],uc:S[i+36>>2],xc:c&&c?tu(T,c):""},n=n?tu(T,n):"",c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(RegExp(l,"g"),c[l]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":t=>h[t.R].substring(0,3),"%A":t=>h[t.R],"%b":t=>d[t.Ga].substring(0,3),"%B":t=>d[t.Ga],"%C":t=>a((t.da+1900)/100|0,2),"%d":t=>a(t.Sa,2),"%e":t=>r(t.Sa,2," "),"%g":t=>u(t).toString().substring(2),"%G":t=>u(t),"%H":t=>a(t.Fa,2),"%I":t=>(0==(t=t.Fa)?t=12:12<t&&(t-=12),a(t,2)),"%j":t=>{for(var e=0,n=0;n<=t.Ga-1;e+=(nt(t.da+1900)?ne:nn)[n++]);return a(t.Sa+e,3)},"%m":t=>a(t.Ga+1,2),"%M":t=>a(t.vc,2),"%n":()=>"\n","%p":t=>0<=t.Fa&&12>t.Fa?"AM":"PM","%S":t=>a(t.wc,2),"%t":()=>"	","%u":t=>t.R||7,"%U":t=>a(Math.floor((t.ca+7-t.R)/7),2),"%V":t=>{var e=Math.floor((t.ca+7-(t.R+6)%7)/7);if(2>=(t.R+371-t.ca-2)%7&&e++,e)53==e&&(4==(n=(t.R+371-t.ca)%7)||3==n&&nt(t.da)||(e=1));else{e=52;var n=(t.R+7-t.ca-1)%7;(4==n||5==n&&nt(t.da%400-1))&&e++}return a(e,2)},"%w":t=>t.R,"%W":t=>a(Math.floor((t.ca+7-(t.R+6)%7)/7),2),"%y":t=>(t.da+1900).toString().substring(2),"%Y":t=>t.da+1900,"%z":t=>{var e=0<=(t=t.uc);return(e?"+":"-")+String("0000"+((t=Math.abs(t)/60)/60*100+t%60)).slice(-4)},"%Z":t=>t.xc,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0"),c)n.includes(l)&&(n=n.replace(RegExp(l,"g"),c[l](i)));return(l=td(n=n.replace(/\0\0/g,"%"),!1)).length>e?0:(C.set(l,t),l.length-1)};function nr(t,e,n,i){t||(t=this),this.parent=t,this.U=t.U,this.wa=null,this.id=tL++,this.name=e,this.mode=n,this.l={},this.m={},this.za=i}Object.defineProperties(nr.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}}}),tV(),tA=Array(4096),tQ(tb,"/"),tW("/tmp",16895,0),tW("/home",16895,0),tW("/home/web_user",16895,0),tW("/dev",16895,0),tB(259,{read:()=>0,write:(t,e,n,i)=>i}),tG("/dev/null",259),tp(1280,{ib:function(){t:{if(!tc.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t){t=null;break t}tc=td(t,!0)}t=tc.shift()}return t},Oa:function(t,e){null===e||10===e?(N(tu(t.F,0)),t.F=[]):0!=e&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(N(tu(t.F,0)),t.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}}),tp(1536,{Oa:function(t,e){null===e||10===e?(I(tu(t.F,0)),t.F=[]):0!=e&&t.F.push(e)},qa:function(t){t.F&&0<t.F.length&&(I(tu(t.F,0)),t.F=[])}}),tG("/dev/tty",1280),tG("/dev/tty1",1536),u=new Uint8Array(1024),c=0,tJ("random",l=()=>(0===c&&(c=ta(u).byteLength),u[--c])),tJ("urandom",l),tW("/dev/shm",16895,0),tW("/dev/shm/tmp",16895,0),tW("/proc",16895,0),h=tW("/proc/self",16895,0),tW("/proc/self/fd",16895,0),tQ({U:()=>{var t=tx(h,"fd",16895,73);return t.l={ka:(t,e)=>{var n=tk(+e);return(t={parent:null,U:{mb:"fake"},l:{ma:()=>n.path}}).parent=t}},t}},"/proc/self/fd"),Object.assign(t4.prototype,{get(t){return this.M[t]},has(t){return void 0!==this.M[t]},pa(t){var e=this.hb.pop()||this.M.length;return this.M[e]=t,e},Zb(t){this.M[t]=void 0,this.hb.push(t)}}),t5=t.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},t3.M.push({value:void 0},{value:null},{value:!0},{value:!1}),t3.h=t3.M.length,t.count_emval_handles=function(){for(var t=0,e=t3.h;e<t3.M.length;++e)void 0!==t3.M[e]&&++t;return t},et=t.PureVirtualError=t7("PureVirtualError");for(var na=Array(256),no=0;256>no;++no)na[no]=String.fromCharCode(no);ee=na,t.getInheritedInstanceCount=function(){return Object.keys(eo).length},t.getLiveInheritedInstances=function(){var t,e=[];for(t in eo)eo.hasOwnProperty(t)&&e.push(eo[t]);return e},t.flushPendingDeletes=er,t.setDelayFunction=function(t){ea=t,ei.length&&ea&&ea(er)},eg=t.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},eT.prototype.isAliasOf=function(t){if(!(this instanceof eT&&t instanceof eT))return!1;var e=this.g.u.i,n=this.g.o,i=t.g.u.i;for(t=t.g.o;e.A;)n=e.na(n),e=e.A;for(;i.A;)t=i.na(t),i=i.A;return e===i&&n===t},eT.prototype.clone=function(){if(this.g.o||eC(this),this.g.ia)return this.g.count.value+=1,this;var t=ev,e=Object,n=e.create,i=Object.getPrototypeOf(this),r=this.g;return t=t(n.call(e,i,{g:{value:{count:r.count,fa:r.fa,ia:r.ia,o:r.o,u:r.u,G:r.G,L:r.L}}})),t.g.count.value+=1,t.g.fa=!1,t},eT.prototype.delete=function(){this.g.o||eC(this),this.g.fa&&!this.g.ia&&t6("Object already scheduled for deletion"),eh(this),ef(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},eT.prototype.isDeleted=function(){return!this.g.o},eT.prototype.deleteLater=function(){return this.g.o||eC(this),this.g.fa&&!this.g.ia&&t6("Object already scheduled for deletion"),ei.push(this),1===ei.length&&ea&&ea(er),this.g.fa=!0,this},eU.prototype.Vb=function(t){return this.rb&&(t=this.rb(t)),t},eU.prototype.ab=function(t){this.W&&this.W(t)},eU.prototype.argPackAdvance=8,eU.prototype.readValueFromPointer=eb,eU.prototype.deleteObject=function(t){null!==t&&t.delete()},eU.prototype.fromWireType=function(t){function e(){return this.ua?eM(this.i.N,{u:this.nc,o:n,L:this,G:t}):eM(this.i.N,{u:this,o:t})}var n=this.Vb(t);if(!n)return this.ab(t),null;var i=eo[es(this.i,n)];if(void 0!==i)return 0===i.g.count.value?(i.g.o=n,i.g.G=t,i.clone()):(i=i.clone(),this.ab(t),i);if(!(i=ep[i=this.i.Ub(n)]))return e.call(this);i=this.ta?i.Kb:i.pointerType;var r=function t(e,n,i){return n===i?e:void 0===i.A?null:null===(e=t(e,n,i.A))?null:i.Pb(e)}(n,this.i,i.i);return null===r?e.call(this):this.ua?eM(i.i.N,{u:i,o:r,L:this,G:t}):eM(i.i.N,{u:i,o:r})},eB=t.UnboundTypeError=t7("UnboundTypeError");var ns={__syscall_fcntl64:function(t,e,n){tq=n;try{var i=tk(t);switch(e){case 0:var r=t0();return 0>r?-28:tP(i,r).X;case 1:case 2:case 6:case 7:return 0;case 3:return i.flags;case 4:return r=t0(),i.flags|=r,0;case 5:return D[(r=t0())+0>>1]=2,0;case 16:case 8:default:return -28;case 9:return S[nf()>>2]=28,-1}}catch(t){if(void 0===tK||"ErrnoError"!==t.name)throw t;return-t.aa}},__syscall_ioctl:function(t,e,n){tq=n;try{var i=tk(t);switch(e){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return i.s?0:-59;case 21505:if(!i.s)return -59;if(i.s.V.bc){e=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var r=t0();S[r>>2]=25856,S[r+4>>2]=5,S[r+8>>2]=191,S[r+12>>2]=35387;for(var a=0;32>a;a++)C[r+a+17>>0]=e[a]||0}return 0;case 21506:case 21507:case 21508:if(!i.s)return -59;if(i.s.V.cc)for(r=t0(),e=[],a=0;32>a;a++)e.push(C[r+a+17>>0]);return 0;case 21519:if(!i.s)return -59;return S[(r=t0())>>2]=0;case 21520:return i.s?-28:-59;case 21531:if(r=t0(),!i.m.ac)throw new tT(59);return i.m.ac(i,e,r);case 21523:if(!i.s)return -59;return i.s.V.dc&&(a=[24,80],D[(r=t0())>>1]=a[0],D[r+2>>1]=a[1]),0;default:return -28}}catch(t){if(void 0===tK||"ErrnoError"!==t.name)throw t;return-t.aa}},__syscall_openat:function(t,e,n,i){tq=i;try{var r=e=e?tu(T,e):"";if("/"===r.charAt(0))e=r;else{var a=-100===t?"/":tk(t).path;if(0==r.length)throw new tT(44);e=te(a+"/"+r)}var o=i?t0():0;return tH(e,n,o).X}catch(t){if(void 0===tK||"ErrnoError"!==t.name)throw t;return-t.aa}},_embind_create_inheriting_constructor:function(t,e,n){t=en(t),e=el(e,"wrapper"),n=t8(n);var i=[].slice,r=e.i,a=r.N,o=r.A.N,s=r.A.constructor;for(var u in t=t2(t,function(){r.A.qb.forEach((function(t){if(this[t]===o[t])throw new et(`Pure virtual function ${t} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:a}),this.__construct.apply(this,i.call(arguments))}),a.__construct=function(){this===a&&t6("Pass correct 'this' to __construct");var t=s.implement.apply(void 0,[this].concat(i.call(arguments)));eh(t);var e=t.g;t.notifyOnDestruction(),e.ia=!0,Object.defineProperties(this,{g:{value:e}}),ev(this),t=es(r,t=e.o),eo.hasOwnProperty(t)?t6(`Tried to register registered instance: ${t}`):eo[t]=this},a.__destruct=function(){this===a&&t6("Pass correct 'this' to __destruct"),eh(this);var t=this.g.o;t=es(r,t),eo.hasOwnProperty(t)?delete eo[t]:t6(`Tried to unregister unregistered instance: ${t}`)},t.prototype=Object.create(a),n)t.prototype[u]=n[u];return t9(t)},_embind_finalize_value_object:function(t){var e=ey[t];delete ey[t];var n=e.Pa,i=e.W,r=e.eb;ej([t],r.map(t=>t.Yb).concat(r.map(t=>t.rc)),t=>{var a={};return r.forEach((e,n)=>{var i=t[n],o=e.Wb,s=e.Xb,u=t[n+r.length],c=e.qc,l=e.sc;a[e.Sb]={read:t=>i.fromWireType(o(s,t)),write:(t,e)=>{var n=[];c(l,t,u.toWireType(n,e)),ew(n)}}}),[{name:e.name,fromWireType:function(t){var e,n={};for(e in a)n[e]=a[e].read(t);return i(t),n},toWireType:function(t,e){for(var r in a)if(!(r in e))throw TypeError(`Missing field: "${r}"`);var o=n();for(r in a)a[r].write(o,e[r]);return null!==t&&t.push(i,o),o},argPackAdvance:8,readValueFromPointer:eb,K:i}]})},_embind_register_bigint:function(){},_embind_register_bool:function(t,e,n,i,r){var a=eL(n);eA(t,{name:e=en(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?i:r},argPackAdvance:8,readValueFromPointer:function(t){if(1===n)var i=C;else if(2===n)i=D;else if(4===n)i=S;else throw TypeError("Unknown boolean type size: "+e);return this.fromWireType(i[t>>a])},K:null})},_embind_register_class:function(t,e,n,i,r,a,o,s,u,c,l,h,d){l=en(l),a=eF(r,a),s&&(s=eF(o,s)),c&&(c=eF(u,c)),d=eF(h,d);var f=t1(l);ez(f,function(){eQ(`Cannot construct ${l} due to unbound types`,[i])}),ej([t,e,n],i?[i]:[],function(e){if(e=e[0],i)var n=e.i,r=n.N;else r=eT.prototype;var o=Object.create(r,{constructor:{value:e=t2(f,function(){if(Object.getPrototypeOf(this)!==o)throw new t5("Use 'new' to construct "+l);if(void 0===u.$)throw new t5(l+" has no accessible constructor");var t=u.$[arguments.length];if(void 0===t)throw new t5(`Tried to invoke ctor of ${l} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(u.$).toString()}) parameters instead!`);return t.apply(this,arguments)})}});e.prototype=o;var u=new eS(l,e,o,d,n,a,s,c);u.A&&(void 0===u.A.oa&&(u.A.oa=[]),u.A.oa.push(u)),n=new eU(l,u,!0,!1),r=new eU(l+"*",u,!1,!1);var h=new eU(l+" const*",u,!1,!0);return ep[t]={pointerType:r,Kb:h},eY(f,e),[n,r,h]})},_embind_register_class_class_function:function(t,e,n,i,r,a,o){var s=eG(n,i);e=en(e),a=eF(r,a),ej([],[t],function(t){function i(){eQ(`Cannot call ${r} due to unbound types`,s)}t=t[0];var r=`${t.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var u=t.i.constructor;return void 0===u[e]?(i.ea=n-1,u[e]=i):(eD(u,e,r),u[e].B[n-1]=i),ej([],s,function(i){if(i=eW(r,[i[0],null].concat(i.slice(1)),null,a,o),void 0===u[e].B?(i.ea=n-1,u[e]=i):u[e].B[n-1]=i,t.i.oa)for(let n of t.i.oa)n.constructor.hasOwnProperty(e)||(n.constructor[e]=i);return[]}),[]})},_embind_register_class_class_property:function(t,e,n,i,r,a,o,s){e=en(e),a=eF(r,a),ej([],[t],function(t){t=t[0];var r=`${t.name}.${e}`,u={get(){eQ(`Cannot access ${r} due to unbound types`,[n])},enumerable:!0,configurable:!0};return u.set=s?()=>{eQ(`Cannot access ${r} due to unbound types`,[n])}:()=>{t6(`${r} is a read-only property`)},Object.defineProperty(t.i.constructor,e,u),ej([],[n],function(n){n=n[0];var r={get:()=>n.fromWireType(a(i)),enumerable:!0};return s&&(s=eF(o,s),r.set=t=>{var e=[];s(i,n.toWireType(e,t)),ew(e)}),Object.defineProperty(t.i.constructor,e,r),[]}),[]})},_embind_register_class_constructor:function(t,e,n,i,r,a){var o=eG(e,n);r=eF(i,r),ej([],[t],function(t){t=t[0];var n=`constructor ${t.name}`;if(void 0===t.i.$&&(t.i.$=[]),void 0!==t.i.$[e-1])throw new t5(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${t.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return t.i.$[e-1]=()=>{eQ(`Cannot construct ${t.name} due to unbound types`,o)},ej([],o,function(i){return i.splice(1,0,null),t.i.$[e-1]=eW(n,i,null,r,a),[]}),[]})},_embind_register_class_function:function(t,e,n,i,r,a,o,s){var u=eG(n,i);e=en(e),a=eF(r,a),ej([],[t],function(t){function i(){eQ(`Cannot call ${r} due to unbound types`,u)}t=t[0];var r=`${t.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&t.i.qb.push(e);var c=t.i.N,l=c[e];return void 0===l||void 0===l.B&&l.className!==t.name&&l.ea===n-2?(i.ea=n-2,i.className=t.name,c[e]=i):(eD(c,e,r),c[e].B[n-2]=i),ej([],u,function(i){return i=eW(r,i,t,a,o),void 0===c[e].B?(i.ea=n-2,c[e]=i):c[e].B[n-2]=i,[]}),[]})},_embind_register_class_property:function(t,e,n,i,r,a,o,s,u,c){e=en(e),r=eF(i,r),ej([],[t],function(t){t=t[0];var i=`${t.name}.${e}`,l={get(){eQ(`Cannot access ${i} due to unbound types`,[n,o])},enumerable:!0,configurable:!0};return l.set=u?()=>{eQ(`Cannot access ${i} due to unbound types`,[n,o])}:()=>{t6(i+" is a read-only property")},Object.defineProperty(t.i.N,e,l),ej([],u?[n,o]:[n],function(n){var o=n[0],l={get(){var e=eZ(this,t,i+" getter");return o.fromWireType(r(a,e))},enumerable:!0};if(u){u=eF(s,u);var h=n[1];l.set=function(e){var n=eZ(this,t,i+" setter"),r=[];u(c,n,h.toWireType(r,e)),ew(r)}}return Object.defineProperty(t.i.N,e,l),[]}),[]})},_embind_register_emval:function(t,e){eA(t,{name:e=en(e),fromWireType:function(t){var e=t8(t);return eX(t),e},toWireType:function(t,e){return t9(e)},argPackAdvance:8,readValueFromPointer:eb,K:null})},_embind_register_enum:function(t,e,n,i){function r(){}n=eL(n),e=en(e),r.values={},eA(t,{name:e,constructor:r,fromWireType:function(t){return this.constructor.values[t]},toWireType:function(t,e){return e.value},argPackAdvance:8,readValueFromPointer:function(t,e,n){switch(e){case 0:return function(t){return this.fromWireType((n?C:T)[t])};case 1:return function(t){return this.fromWireType((n?D:z)[t>>1])};case 2:return function(t){return this.fromWireType((n?S:E)[t>>2])};default:throw TypeError("Unknown integer type: "+t)}}(e,n,i),K:null}),ez(e,r)},_embind_register_enum_value:function(t,e,n){var i=el(t,"enum");e=en(e),t=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:n},constructor:{value:t2(`${i.name}_${e}`,function(){})}}),t.values[n]=i,t[e]=i},_embind_register_float:function(t,e,n){n=eL(n),eA(t,{name:e=en(e),fromWireType:function(t){return t},toWireType:function(t,e){return e},argPackAdvance:8,readValueFromPointer:function(t,e){switch(e){case 2:return function(t){return this.fromWireType(_[t>>2])};case 3:return function(t){return this.fromWireType(x[t>>3])};default:throw TypeError("Unknown float type: "+t)}}(e,n),K:null})},_embind_register_function:function(t,e,n,i,r,a){var o=eG(e,n);t=en(t),r=eF(i,r),ez(t,function(){eQ(`Cannot call ${t} due to unbound types`,o)},e-1),ej([],o,function(n){return eY(t,eW(t,[n[0],null].concat(n.slice(1)),null,r,a),e-1),[]})},_embind_register_integer:function(t,e,n,i,r){e=en(e),-1===r&&(r=4294967295),r=eL(n);var a=t=>t;if(0===i){var o=32-8*n;a=t=>t<<o>>>o}n=e.includes("unsigned")?function(t,e){return e>>>0}:function(t,e){return e},eA(t,{name:e,fromWireType:a,toWireType:n,argPackAdvance:8,readValueFromPointer:function(t,e,n){switch(e){case 0:return n?function(t){return C[t]}:function(t){return T[t]};case 1:return n?function(t){return D[t>>1]}:function(t){return z[t>>1]};case 2:return n?function(t){return S[t>>2]}:function(t){return E[t>>2]};default:throw TypeError("Unknown integer type: "+t)}}(e,r,0!==i),K:null})},_embind_register_memory_view:function(t,e,n){function i(t){t>>=2;var e=E;return new r(e.buffer,e[t+1],e[t])}var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];eA(t,{name:n=en(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{$b:!0})},_embind_register_std_string:function(t,e){var n="std::string"===(e=en(e));eA(t,{name:e,fromWireType:function(t){var e=E[t>>2],i=t+4;if(n)for(var r=i,a=0;a<=e;++a){var o=i+a;if(a==e||0==T[o]){if(r=r?tu(T,r,o-r):"",void 0===s)var s=r;else s+="\0"+r;r=o+1}}else{for(a=0,s=Array(e);a<e;++a)s[a]=String.fromCharCode(T[i+a]);s=s.join("")}return nu(t),s},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var i="string"==typeof e;i||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||t6("Cannot pass non-string to std::string");var r=n&&i?tl(e):e.length,a=nc(4+r+1),o=a+4;if(E[a>>2]=r,n&&i)th(e,T,o,r+1);else if(i)for(i=0;i<r;++i){var s=e.charCodeAt(i);255<s&&(nu(o),t6("String has UTF-16 code units that do not fit in 8 bits")),T[o+i]=s}else for(i=0;i<r;++i)T[o+i]=e[i];return null!==t&&t.push(nu,a),a},argPackAdvance:8,readValueFromPointer:eb,K:function(t){nu(t)}})},_embind_register_std_wstring:function(t,e,n){if(n=en(n),2===e)var i=eV,r=eJ,a=eK,o=()=>z,s=1;else 4===e&&(i=eq,r=e0,a=e1,o=()=>E,s=2);eA(t,{name:n,fromWireType:function(t){for(var n,r=E[t>>2],a=o(),u=t+4,c=0;c<=r;++c){var l=t+4+c*e;(c==r||0==a[l>>s])&&(u=i(u,l-u),void 0===n?n=u:n+="\0"+u,u=l+e)}return nu(t),n},toWireType:function(t,i){"string"!=typeof i&&t6(`Cannot pass non-string to C++ string type ${n}`);var o=a(i),u=nc(4+o+e);return E[u>>2]=o>>s,r(i,u+4,o+e),null!==t&&t.push(nu,u),u},argPackAdvance:8,readValueFromPointer:eb,K:function(t){nu(t)}})},_embind_register_value_object:function(t,e,n,i,r,a){ey[t]={name:en(e),Pa:eF(n,i),W:eF(r,a),eb:[]}},_embind_register_value_object_field:function(t,e,n,i,r,a,o,s,u,c){ey[t].eb.push({Sb:en(e),Yb:n,Wb:eF(i,r),Xb:a,rc:o,qc:eF(s,u),sc:c})},_embind_register_void:function(t,e){eA(t,{fc:!0,name:e=en(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(t,e,n){t=t8(t),e=el(e,"emval::as");var i=[],r=t9(i);return E[n>>2]=r,e.toWireType(i,t)},_emval_call_method:function(t,e,n,i,r){t=e5[t],e=t8(e),n=e4(n);var a=[];return E[i>>2]=t9(a),t(e,n,a,r)},_emval_call_void_method:function(t,e,n,i){(t=e5[t])(e=t8(e),n=e4(n),null,i)},_emval_decref:eX,_emval_get_method_caller:function(t,e){var n,i,r=function(t,e){for(var n=Array(t),i=0;i<t;++i)n[i]=el(E[e+4*i>>2],"parameter "+i);return n}(t,e),a=r[0],o=e6[e=a.name+"_$"+r.slice(1).map(function(t){return t.name}).join("_")+"$"];if(void 0!==o)return o;var s=Array(t-1);return n=(e,n,i,o)=>{for(var u=0,c=0;c<t-1;++c)s[c]=r[c+1].readValueFromPointer(o+u),u+=r[c+1].argPackAdvance;for(c=0,e=e[n].apply(e,s);c<t-1;++c)r[c+1].Nb&&r[c+1].Nb(s[c]);if(!a.fc)return a.toWireType(i,e)},i=e5.length,e5.push(n),o=i,e6[e]=o},_emval_get_module_property:function(e){return t9(t[e=e4(e)])},_emval_get_property:function(t,e){return t9((t=t8(t))[e=t8(e)])},_emval_incref:function(t){4<t&&(t3.get(t).tb+=1)},_emval_new_cstring:function(t){return t9(e4(t))},_emval_new_object:function(){return t9({})},_emval_run_destructors:function(t){ew(t8(t)),eX(t)},_emval_set_property:function(t,e,n){t=t8(t),e=t8(e),n=t8(n),t[e]=n},_emval_take_value:function(t,e){return t9(t=(t=el(t,"_emval_take_value")).readValueFromPointer(e))},abort:()=>{W("")},emscripten_asm_const_int:(t,e,n)=>{var i;for(e8.length=0,n>>=2;i=T[e++];)n+=105!=i&n,e8.push(105==i?S[n]:x[n++>>1]),++n;return K[t].apply(null,e8)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(t,e,n)=>T.copyWithin(t,e,e+n),emscripten_resize_heap:t=>{var e=T.length;if(2147483648<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var i=e*(1+.2/n);i=Math.min(i,t+100663296);var r=Math;i=Math.max(t,i);t:{r=r.min.call(r,2147483648,i+(65536-i%65536)%65536)-L.buffer.byteLength+65535>>>16;try{L.grow(r),U();var a=1;break t}catch(t){}a=void 0}if(a)return!0}return!1},environ_get:(t,e)=>{var n=0;return e7().forEach(function(i,r){var a=e+n;for(r=E[t+4*r>>2]=a,a=0;a<i.length;++a)C[r++>>0]=i.charCodeAt(a);C[r>>0]=0,n+=i.length+1}),0},environ_sizes_get:(t,e)=>{var n=e7();E[t>>2]=n.length;var i=0;return n.forEach(function(t){i+=t.length+1}),E[e>>2]=i,0},fd_close:function(t){try{var e=tk(t);if(null===e.X)throw new tT(8);e.Ma&&(e.Ma=null);try{e.m.close&&e.m.close(e)}catch(t){throw t}finally{tj[e.X]=null}return e.X=null,0}catch(t){if(void 0===tK||"ErrnoError"!==t.name)throw t;return t.aa}},fd_read:function(t,e,n,i){try{t:{var r=tk(t);t=e;for(var a,o=e=0;o<n;o++){var s=E[t>>2],u=E[t+4>>2];t+=8;var c=a,l=C;if(0>u||0>c)throw new tT(28);if(null===r.X||1==(2097155&r.flags))throw new tT(8);if(16384==(61440&r.node.mode))throw new tT(31);if(!r.m.read)throw new tT(28);var h=void 0!==c;if(h){if(!r.seekable)throw new tT(70)}else c=r.position;var d=r.m.read(r,l,s,u,c);if(h||(r.position+=d),0>d){var f=-1;break t}if(e+=d,d<u)break;void 0!==a&&(a+=d)}f=e}return E[i>>2]=f,0}catch(t){if(void 0===tK||"ErrnoError"!==t.name)throw t;return t.aa}},fd_seek:function(t,e,n,i,r){e=n+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*n:NaN;try{if(isNaN(e))return 61;var a=tk(t);return t$(a,e,i),J=[a.position>>>0,(V=a.position,1<=+Math.abs(V)?0<V?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],S[r>>2]=J[0],S[r+4>>2]=J[1],a.Ma&&0===e&&0===i&&(a.Ma=null),0}catch(t){if(void 0===tK||"ErrnoError"!==t.name)throw t;return t.aa}},fd_write:function(t,e,n,i){try{t:{var r=tk(t);t=e;for(var a,o=e=0;o<n;o++){var s=E[t>>2],u=E[t+4>>2];t+=8;var c=a,l=C;if(0>u||0>c)throw new tT(28);if(null===r.X||0==(2097155&r.flags))throw new tT(8);if(16384==(61440&r.node.mode))throw new tT(31);if(!r.m.write)throw new tT(28);r.seekable&&1024&r.flags&&t$(r,0,2);var h=void 0!==c;if(h){if(!r.seekable)throw new tT(70)}else c=r.position;var d=r.m.write(r,l,s,u,c,void 0);if(h||(r.position+=d),0>d){var f=-1;break t}e+=d,void 0!==a&&(a+=d)}f=e}return E[i>>2]=f,0}catch(t){if(void 0===tK||"ErrnoError"!==t.name)throw t;return t.aa}},strftime_l:(t,e,n,i)=>ni(t,e,n,i)};!function(){function e(e){if(L=(A=e=e.exports).memory,U(),Y=A.__indirect_function_table,k.unshift(A.__wasm_call_ctors),F--,t.monitorRunDependencies&&t.monitorRunDependencies(F),0==F&&(null!==B&&(clearInterval(B),B=null),Q)){var n=Q;Q=null,n()}return e}var n,i,r={env:ns,wasi_snapshot_preview1:ns};if(F++,t.monitorRunDependencies&&t.monitorRunDependencies(F),t.instantiateWasm)try{return t.instantiateWasm(r,e)}catch(t){I("Module.instantiateWasm callback failed with error: "+t),p(t)}(n=function(t){e(t.instance)},i=$,j||"function"!=typeof WebAssembly.instantiateStreaming||G(i)||i.startsWith("file://")||"function"!=typeof fetch?H(i,r,n):fetch(i,{credentials:"same-origin"}).then(t=>WebAssembly.instantiateStreaming(t,r).then(n,function(t){return I("wasm streaming compile failed: "+t),I("falling back to ArrayBuffer instantiation"),H(i,r,n)}))).catch(p)}();var nu=t=>(nu=A.free)(t),nc=t=>(nc=A.malloc)(t),nl=t._ma_device__on_notification_unlocked=e=>(nl=t._ma_device__on_notification_unlocked=A.ma_device__on_notification_unlocked)(e);t._ma_malloc_emscripten=(e,n)=>(t._ma_malloc_emscripten=A.ma_malloc_emscripten)(e,n),t._ma_free_emscripten=(e,n)=>(t._ma_free_emscripten=A.ma_free_emscripten)(e,n);var nh=t._ma_device_process_pcm_frames_capture__webaudio=(e,n,i)=>(nh=t._ma_device_process_pcm_frames_capture__webaudio=A.ma_device_process_pcm_frames_capture__webaudio)(e,n,i),nd=t._ma_device_process_pcm_frames_playback__webaudio=(e,n,i)=>(nd=t._ma_device_process_pcm_frames_playback__webaudio=A.ma_device_process_pcm_frames_playback__webaudio)(e,n,i),nf=()=>(nf=A.__errno_location)(),np=t=>(np=A.__getTypeName)(t);function ng(){function e(){if(!d&&(d=!0,t.calledRun=!0,!O)){if(t.noFSInit||tM||(tM=!0,tV(),t.stdin=t.stdin,t.stdout=t.stdout,t.stderr=t.stderr,t.stdin?tJ("stdin",t.stdin):tZ("/dev/tty","/dev/stdin"),t.stdout?tJ("stdout",null,t.stdout):tZ("/dev/tty","/dev/stdout"),t.stderr?tJ("stderr",null,t.stderr):tZ("/dev/tty1","/dev/stderr"),tH("/dev/stdin",0),tH("/dev/stdout",1),tH("/dev/stderr",1)),tC=!1,q(k),f(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();P.unshift(e)}q(P)}}if(!(0<F)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)!function(){var e=t.preRun.shift();R.unshift(e)}();q(R),0<F||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e())}}if(t.__embind_initialize_bindings=()=>(t.__embind_initialize_bindings=A._embind_initialize_bindings)(),t.dynCall_iiji=(e,n,i,r,a)=>(t.dynCall_iiji=A.dynCall_iiji)(e,n,i,r,a),t.dynCall_jiji=(e,n,i,r,a)=>(t.dynCall_jiji=A.dynCall_jiji)(e,n,i,r,a),t.dynCall_iiiji=(e,n,i,r,a,o)=>(t.dynCall_iiiji=A.dynCall_iiiji)(e,n,i,r,a,o),t.dynCall_iij=(e,n,i,r)=>(t.dynCall_iij=A.dynCall_iij)(e,n,i,r),t.dynCall_jii=(e,n,i)=>(t.dynCall_jii=A.dynCall_jii)(e,n,i),t.dynCall_viijii=(e,n,i,r,a,o,s)=>(t.dynCall_viijii=A.dynCall_viijii)(e,n,i,r,a,o,s),t.dynCall_iiiiij=(e,n,i,r,a,o,s)=>(t.dynCall_iiiiij=A.dynCall_iiiiij)(e,n,i,r,a,o,s),t.dynCall_iiiiijj=(e,n,i,r,a,o,s,u,c)=>(t.dynCall_iiiiijj=A.dynCall_iiiiijj)(e,n,i,r,a,o,s,u,c),t.dynCall_iiiiiijj=(e,n,i,r,a,o,s,u,c,l)=>(t.dynCall_iiiiiijj=A.dynCall_iiiiiijj)(e,n,i,r,a,o,s,u,c,l),Q=function t(){d||ng(),d||(Q=t)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return ng(),t.ready})},t=>{t.exports=JSON.parse('{"name":"@rive-app/canvas","version":"2.19.0","description":"Rive\'s canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}')},(t,e,n)=>{n.r(e),n.d(e,{Animation:()=>i.Animation});var i=n(4)},(t,e,n)=>{n.r(e),n.d(e,{Animation:()=>i});var i=function(){function t(t,e,n,i){this.animation=t,this.artboard=e,this.playing=i,this.loopCount=0,this.scrubTo=null,this.instance=new n.LinearAnimationInstance(t,e)}return Object.defineProperty(t.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this.instance.time},set:function(t){this.instance.time=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needsScrub",{get:function(){return null!==this.scrubTo},enumerable:!1,configurable:!0}),t.prototype.advance=function(t){null===this.scrubTo?this.instance.advance(t):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},t.prototype.apply=function(t){this.instance.apply(t)},t.prototype.cleanup=function(){this.instance.delete()},t}()},(t,e,n)=>{n.r(e),n.d(e,{BLANK_URL:()=>r.BLANK_URL,registerTouchInteractions:()=>i.registerTouchInteractions,sanitizeUrl:()=>r.sanitizeUrl});var i=n(6),r=n(7)},(t,e,n)=>{n.r(e),n.d(e,{registerTouchInteractions:()=>a});var i=void 0,r=function(t,e){var n,i;return["touchstart","touchmove"].indexOf(t.type)>-1&&(null===(n=t.touches)||void 0===n?void 0:n.length)?(e||t.preventDefault(),{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}):"touchend"===t.type&&(null===(i=t.changedTouches)||void 0===i?void 0:i.length)?{clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}},a=function(t){var e=t.canvas,n=t.artboard,a=t.stateMachines,o=void 0===a?[]:a,s=t.renderer,u=t.rive,c=t.fit,l=t.alignment,h=t.isTouchScrollEnabled,d=void 0!==h&&h;if(!e||!o.length||!s||!u||!n||"undefined"==typeof window)return null;var f=(function(t){var e=t.currentTarget.getBoundingClientRect(),i=r(t,d),a=i.clientX,s=i.clientY;if(a||s){var h=a-e.left,f=s-e.top,p=u.computeAlignment(c,l,{minX:0,minY:0,maxX:e.width,maxY:e.height},n.bounds),g=new u.Mat2D;p.invert(g);var m=new u.Vec2D(h,f),M=u.mapXY(g,m),v=M.x(),y=M.y();switch(M.delete(),g.delete(),m.delete(),p.delete(),t.type){case"mouseout":for(var w=0;w<o.length;w++){var b=o[w];b.pointerMove(v<0?v-1e4:v+1e4,y<0?y-1e4:y+1e4)}break;case"touchmove":case"mouseover":case"mousemove":for(var N=0;N<o.length;N++){var b=o[N];b.pointerMove(v,y)}break;case"touchstart":case"mousedown":for(var I=0;I<o.length;I++){var b=o[I];b.pointerDown(v,y)}break;case"touchend":case"mouseup":for(var j=0;j<o.length;j++){var b=o[j];b.pointerUp(v,y)}}}}).bind(i);return e.addEventListener("mouseover",f),e.addEventListener("mouseout",f),e.addEventListener("mousemove",f),e.addEventListener("mousedown",f),e.addEventListener("mouseup",f),e.addEventListener("touchmove",f),e.addEventListener("touchstart",f),e.addEventListener("touchend",f),function(){e.removeEventListener("mouseover",f),e.removeEventListener("mouseout",f),e.removeEventListener("mousemove",f),e.removeEventListener("mousedown",f),e.removeEventListener("mouseup",f),e.removeEventListener("touchmove",f),e.removeEventListener("touchstart",f),e.removeEventListener("touchend",f)}}},(t,e,n)=>{n.r(e),n.d(e,{BLANK_URL:()=>c,sanitizeUrl:()=>l});var i=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,a=/&(newline|tab);/gi,o=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,s=/^.+(:|&colon;)/gim,u=[".","/"],c="about:blank";function l(t){if(!t)return c;var e=t.replace(o,"").replace(r,function(t,e){return String.fromCharCode(e)}).replace(a,"").replace(o,"").trim();if(!e)return c;if(u.indexOf(e[0])>-1)return e;var n=e.match(s);if(!n)return e;var l=n[0];return i.test(l)?c:e}}],B={};function Q(t){var e=B[t];if(void 0!==e)return e.exports;var n=B[t]={exports:{}};return F[t](n,n.exports,Q),n.exports}Q.d=(t,e)=>{for(var n in e)Q.o(e,n)&&!Q.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Q.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Q.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var W={};return Q.r(W),Q.d(W,{Alignment:()=>e,EventType:()=>r,Fit:()=>t,Layout:()=>M,LoopType:()=>a,Rive:()=>x,RiveEventType:()=>i,RiveFile:()=>_,RuntimeLoader:()=>v,StateMachineInput:()=>w,StateMachineInputType:()=>n,Testing:()=>Y,decodeAudio:()=>R,decodeFont:()=>P,decodeImage:()=>k}),s=Q(1),u=Q(2),c=Q(3),l=Q(5),h=function(t,e){return(h=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},d=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},f=function(t,e,n,i){return new(n||(n=Promise))(function(r,a){function o(t){try{u(i.next(t))}catch(t){a(t)}}function s(t){try{u(i.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?r(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(o,s)}u((i=i.apply(t,e||[])).next())})},p=function(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},(g=t||(t={})).Cover="cover",g.Contain="contain",g.Fill="fill",g.FitWidth="fitWidth",g.FitHeight="fitHeight",g.None="none",g.ScaleDown="scaleDown",(m=e||(e={})).Center="center",m.TopLeft="topLeft",m.TopCenter="topCenter",m.TopRight="topRight",m.CenterLeft="centerLeft",m.CenterRight="centerRight",m.BottomLeft="bottomLeft",m.BottomCenter="bottomCenter",m.BottomRight="bottomRight",M=function(){function n(n){var i,r,a,o,s,u;this.fit=null!==(i=null==n?void 0:n.fit)&&void 0!==i?i:t.Contain,this.alignment=null!==(r=null==n?void 0:n.alignment)&&void 0!==r?r:e.Center,this.minX=null!==(a=null==n?void 0:n.minX)&&void 0!==a?a:0,this.minY=null!==(o=null==n?void 0:n.minY)&&void 0!==o?o:0,this.maxX=null!==(s=null==n?void 0:n.maxX)&&void 0!==s?s:0,this.maxY=null!==(u=null==n?void 0:n.maxY)&&void 0!==u?u:0}return n.new=function(t){var e=t.fit,i=t.alignment,r=t.minX,a=t.minY,o=t.maxX,s=t.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new n({fit:e,alignment:i,minX:r,minY:a,maxX:o,maxY:s})},n.prototype.copyWith=function(t){var e=t.fit,i=t.alignment,r=t.minX,a=t.minY,o=t.maxX,s=t.maxY;return new n({fit:null!=e?e:this.fit,alignment:null!=i?i:this.alignment,minX:null!=r?r:this.minX,minY:null!=a?a:this.minY,maxX:null!=o?o:this.maxX,maxY:null!=s?s:this.maxY})},n.prototype.runtimeFit=function(e){var n;return this.cachedRuntimeFit?this.cachedRuntimeFit:(n=this.fit===t.Cover?e.Fit.cover:this.fit===t.Contain?e.Fit.contain:this.fit===t.Fill?e.Fit.fill:this.fit===t.FitWidth?e.Fit.fitWidth:this.fit===t.FitHeight?e.Fit.fitHeight:this.fit===t.ScaleDown?e.Fit.scaleDown:e.Fit.none,this.cachedRuntimeFit=n,n)},n.prototype.runtimeAlignment=function(t){var n;return this.cachedRuntimeAlignment?this.cachedRuntimeAlignment:(n=this.alignment===e.TopLeft?t.Alignment.topLeft:this.alignment===e.TopCenter?t.Alignment.topCenter:this.alignment===e.TopRight?t.Alignment.topRight:this.alignment===e.CenterLeft?t.Alignment.centerLeft:this.alignment===e.CenterRight?t.Alignment.centerRight:this.alignment===e.BottomLeft?t.Alignment.bottomLeft:this.alignment===e.BottomCenter?t.Alignment.bottomCenter:this.alignment===e.BottomRight?t.Alignment.bottomRight:t.Alignment.center,this.cachedRuntimeAlignment=n,n)},n}(),v=function(){function t(){}return t.loadRuntime=function(){s.default({locateFile:function(){return t.wasmURL}}).then(function(e){var n;for(t.runtime=e;t.callBackQueue.length>0;)null===(n=t.callBackQueue.shift())||void 0===n||n(t.runtime)}).catch(function(){var e="https://cdn.jsdelivr.net/npm/".concat(u.name,"@").concat(u.version,"/rive_fallback.wasm");t.wasmURL.toLowerCase()!==e?(console.warn("Failed to load WASM from ".concat(t.wasmURL,", trying jsdelivr as a backup")),t.setWasmUrl(e),t.loadRuntime()):console.error("Could not load Rive WASM file from unpkg or jsdelivr, network connection may be down, or         you may need to call set a new WASM source via RuntimeLoader.setWasmUrl() and call         RuntimeLoader.loadRuntime() again")})},t.getInstance=function(e){t.isLoading||(t.isLoading=!0,t.loadRuntime()),t.runtime?e(t.runtime):t.callBackQueue.push(e)},t.awaitInstance=function(){return new Promise(function(e){return t.getInstance(function(t){return e(t)})})},t.setWasmUrl=function(e){t.wasmURL=e},t.isLoading=!1,t.callBackQueue=[],t.wasmURL="https://unpkg.com/".concat(u.name,"@").concat(u.version,"/rive.wasm"),t}(),(y=n||(n={}))[y.Number=56]="Number",y[y.Trigger=58]="Trigger",y[y.Boolean=59]="Boolean",w=function(){function t(t,e){this.type=t,this.runtimeInput=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(t){this.runtimeInput.value=t},enumerable:!1,configurable:!0}),t.prototype.fire=function(){this.type===n.Trigger&&this.runtimeInput.fire()},t}(),(b=i||(i={}))[b.General=128]="General",b[b.OpenUrl=131]="OpenUrl",N=function(){function t(t,e,n,i){this.stateMachine=t,this.playing=n,this.artboard=i,this.inputs=[],this.instance=new e.StateMachineInstance(t,i),this.initInputs(e)}return Object.defineProperty(t.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statesChanged",{get:function(){for(var t=[],e=0;e<this.instance.stateChangedCount();e++)t.push(this.instance.stateChangedNameByIndex(e));return t},enumerable:!1,configurable:!0}),t.prototype.advance=function(t){this.instance.advance(t)},t.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},t.prototype.reportedEventAt=function(t){return this.instance.reportedEventAt(t)},t.prototype.initInputs=function(t){for(var e=0;e<this.instance.inputCount();e++){var n=this.instance.input(e);this.inputs.push(this.mapRuntimeInput(n,t))}},t.prototype.mapRuntimeInput=function(t,e){return t.type===e.SMIInput.bool?new w(n.Boolean,t.asBool()):t.type===e.SMIInput.number?new w(n.Number,t.asNumber()):t.type===e.SMIInput.trigger?new w(n.Trigger,t.asTrigger()):void 0},t.prototype.cleanup=function(){this.instance.delete()},t}(),I=function(){function t(t,e,n,i,r){void 0===i&&(i=[]),void 0===r&&(r=[]),this.runtime=t,this.artboard=e,this.eventManager=n,this.animations=i,this.stateMachines=r}return t.prototype.add=function(t,e,n){if(void 0===n&&(n=!0),0===(t=U(t)).length)this.animations.forEach(function(t){return t.playing=e}),this.stateMachines.forEach(function(t){return t.playing=e});else for(var i=this.animations.map(function(t){return t.name}),a=this.stateMachines.map(function(t){return t.name}),o=0;o<t.length;o++){var s=i.indexOf(t[o]),u=a.indexOf(t[o]);if(s>=0||u>=0)s>=0?this.animations[s].playing=e:this.stateMachines[u].playing=e;else{var l=this.artboard.animationByName(t[o]);if(l){var h=new c.Animation(l,this.artboard,this.runtime,e);h.advance(0),h.apply(1),this.animations.push(h)}else{var d=this.artboard.stateMachineByName(t[o]);if(d){var f=new N(d,this.runtime,e,this.artboard);this.stateMachines.push(f)}}}}return n&&(e?this.eventManager.fire({type:r.Play,data:this.playing}):this.eventManager.fire({type:r.Pause,data:this.paused})),e?this.playing:this.paused},t.prototype.initLinearAnimations=function(t,e){for(var n=this.animations.map(function(t){return t.name}),i=0;i<t.length;i++){var r=n.indexOf(t[i]);if(r>=0)this.animations[r].playing=e;else{var a=this.artboard.animationByName(t[i]);if(a){var o=new c.Animation(a,this.artboard,this.runtime,e);o.advance(0),o.apply(1),this.animations.push(o)}}}},t.prototype.initStateMachines=function(t,e){for(var n=this.stateMachines.map(function(t){return t.name}),i=0;i<t.length;i++){var r=n.indexOf(t[i]);if(r>=0)this.stateMachines[r].playing=e;else{var a=this.artboard.stateMachineByName(t[i]);if(a){var o=new N(a,this.runtime,e,this.artboard);this.stateMachines.push(o)}else this.initLinearAnimations([t[i]],e)}}},t.prototype.play=function(t){return this.add(t,!0)},t.prototype.pause=function(t){return this.add(t,!1)},t.prototype.scrub=function(t,e){var n=this.animations.filter(function(e){return t.includes(e.name)});return n.forEach(function(t){return t.scrubTo=e}),n.map(function(t){return t.name})},Object.defineProperty(t.prototype,"playing",{get:function(){return this.animations.filter(function(t){return t.playing}).map(function(t){return t.name}).concat(this.stateMachines.filter(function(t){return t.playing}).map(function(t){return t.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this.animations.filter(function(t){return!t.playing}).map(function(t){return t.name}).concat(this.stateMachines.filter(function(t){return!t.playing}).map(function(t){return t.name}))},enumerable:!1,configurable:!0}),t.prototype.stop=function(t){var e=this;t=U(t);var n=[];if(0===t.length)n=this.animations.map(function(t){return t.name}).concat(this.stateMachines.map(function(t){return t.name})),this.animations.forEach(function(t){return t.cleanup()}),this.stateMachines.forEach(function(t){return t.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var i=this.animations.filter(function(e){return t.includes(e.name)});i.forEach(function(t){t.cleanup(),e.animations.splice(e.animations.indexOf(t),1)});var a=this.stateMachines.filter(function(e){return t.includes(e.name)});a.forEach(function(t){t.cleanup(),e.stateMachines.splice(e.stateMachines.indexOf(t),1)}),n=i.map(function(t){return t.name}).concat(a.map(function(t){return t.name}))}return this.eventManager.fire({type:r.Stop,data:n}),n},Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(t,e){return t||e.playing},!1)||this.stateMachines.reduce(function(t,e){return t||e.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStopped",{get:function(){return 0===this.animations.length&&0===this.stateMachines.length},enumerable:!1,configurable:!0}),t.prototype.atLeastOne=function(t,e){var n;return void 0===e&&(e=!0),0===this.animations.length&&0===this.stateMachines.length&&(this.artboard.animationCount()>0?this.add([n=this.artboard.animationByIndex(0).name],t,e):this.artboard.stateMachineCount()>0&&this.add([n=this.artboard.stateMachineByIndex(0).name],t,e)),n},t.prototype.handleLooping=function(){for(var t=0,e=this.animations.filter(function(t){return t.playing});t<e.length;t++){var n=e[t];0===n.loopValue&&n.loopCount?(n.loopCount=0,this.stop(n.name)):1===n.loopValue&&n.loopCount?(this.eventManager.fire({type:r.Loop,data:{animation:n.name,type:a.Loop}}),n.loopCount=0):2===n.loopValue&&n.loopCount>1&&(this.eventManager.fire({type:r.Loop,data:{animation:n.name,type:a.PingPong}}),n.loopCount=0)}},t.prototype.handleStateChanges=function(){for(var t=[],e=0,n=this.stateMachines.filter(function(t){return t.playing});e<n.length;e++){var i=n[e];t.push.apply(t,i.statesChanged)}t.length>0&&this.eventManager.fire({type:r.StateChange,data:t})},t.prototype.handleAdvancing=function(t){this.eventManager.fire({type:r.Advance,data:t})},t}(),(j=r||(r={})).Load="load",j.LoadError="loaderror",j.Play="play",j.Pause="pause",j.Stop="stop",j.Loop="loop",j.Draw="draw",j.Advance="advance",j.StateChange="statechange",j.RiveEvent="riveevent",j.AudioStatusChange="audiostatuschange",(L=a||(a={})).OneShot="oneshot",L.Loop="loop",L.PingPong="pingpong",A=function(){function t(t){void 0===t&&(t=[]),this.listeners=t}return t.prototype.getListeners=function(t){return this.listeners.filter(function(e){return e.type===t})},t.prototype.add=function(t){this.listeners.includes(t)||this.listeners.push(t)},t.prototype.remove=function(t){for(var e=0;e<this.listeners.length;e++){var n=this.listeners[e];if(n.type===t.type&&n.callback===t.callback){this.listeners.splice(e,1);break}}},t.prototype.removeAll=function(t){var e=this;t?this.listeners.filter(function(e){return e.type===t}).forEach(function(t){return e.remove(t)}):this.listeners.splice(0,this.listeners.length)},t.prototype.fire=function(t){this.getListeners(t.type).forEach(function(e){return e.callback(t)})},t}(),C=function(){function t(t){this.eventManager=t,this.queue=[]}return t.prototype.add=function(t){this.queue.push(t)},t.prototype.process=function(){for(;this.queue.length>0;){var t=this.queue.shift();(null==t?void 0:t.action)&&t.action(),(null==t?void 0:t.event)&&this.eventManager.fire(t.event)}},t}(),(T=o||(o={}))[T.AVAILABLE=0]="AVAILABLE",T[T.UNAVAILABLE=1]="UNAVAILABLE",D=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._started=!1,e._enabled=!1,e._status=o.UNAVAILABLE,e}return d(e,t),e.prototype.delay=function(t){return f(this,void 0,void 0,function(){return p(this,function(e){return[2,new Promise(function(e){return setTimeout(e,t)})]})})},e.prototype.timeout=function(){return f(this,void 0,void 0,function(){return p(this,function(t){return[2,new Promise(function(t,e){return setTimeout(e,50)})]})})},e.prototype.reportToListeners=function(){this.fire({type:r.AudioStatusChange}),this.removeAll()},e.prototype.enableAudio=function(){return f(this,void 0,void 0,function(){return p(this,function(t){return this._enabled||(this._enabled=!0,this._status=o.AVAILABLE,this.reportToListeners()),[2]})})},e.prototype.testAudio=function(){return f(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:if(!(this._status===o.UNAVAILABLE&&null!==this._audioContext))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return t.sent(),this.enableAudio(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})})},e.prototype._establishAudio=function(){return f(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:if(this._started)return[3,5];if(this._started=!0,"undefined"!=typeof window)return[3,1];return this.enableAudio(),[3,5];case 1:this._audioContext=new AudioContext,this.listenForUserAction(),t.label=2;case 2:if(this._status!==o.UNAVAILABLE)return[3,5];return[4,this.testAudio()];case 3:return t.sent(),[4,this.delay(1e3)];case 4:return t.sent(),[3,2];case 5:return[2]}})})},e.prototype.listenForUserAction=function(){var t=this;document.addEventListener("pointerdown",function(){return f(t,void 0,void 0,function(){return p(this,function(t){return this.enableAudio(),[2]})})},{once:!0})},e.prototype.establishAudio=function(){return f(this,void 0,void 0,function(){return p(this,function(t){return this._establishAudio(),[2]})})},Object.defineProperty(e.prototype,"systemVolume",{get:function(){return this._status===o.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),e}(A)),z=function(){function t(){}return t.prototype.observe=function(){},t.prototype.unobserve=function(){},t.prototype.disconnect=function(){},t}(),S=globalThis.ResizeObserver||z,E=new(function(){function t(){var t=this;this._elementsMap=new Map,this._onObservedEntry=function(e){var n=t._elementsMap.get(e.target);null!==n?n.onResize(0==e.target.clientWidth||0==e.target.clientHeight):t._resizeObserver.unobserve(e.target)},this._onObserved=function(e){e.forEach(t._onObservedEntry)},this._resizeObserver=new S(this._onObserved)}return t.prototype.add=function(t,e){var n={onResize:e,element:t};return this._elementsMap.set(t,n),this._resizeObserver.observe(t),n},t.prototype.remove=function(t){this._resizeObserver.unobserve(t.element),this._elementsMap.delete(t.element)},t}()),_=function(){function t(t){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.src=t.src,this.buffer=t.buffer,t.assetLoader&&(this.assetLoader=t.assetLoader),this.enableRiveAssetCDN="boolean"!=typeof t.enableRiveAssetCDN||t.enableRiveAssetCDN,this.eventManager=new A,t.onLoad&&this.on(r.Load,t.onLoad),t.onLoadError&&this.on(r.LoadError,t.onLoadError)}return t.prototype.initData=function(){return f(this,void 0,void 0,function(){var e,n,i;return p(this,function(a){switch(a.label){case 0:if(!this.src)return[3,2];return e=this,[4,O(this.src)];case 1:e.buffer=a.sent(),a.label=2;case 2:return this.assetLoader&&(n=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),i=this,[4,this.runtime.load(new Uint8Array(this.buffer),n,this.enableRiveAssetCDN)];case 3:if(i.file=a.sent(),null!==this.file)this.eventManager.fire({type:r.Load,data:this});else throw this.eventManager.fire({type:r.LoadError,data:null}),Error(t.fileLoadErrorMessage);return[2]}})})},t.prototype.init=function(){return f(this,void 0,void 0,function(){var e;return p(this,function(n){switch(n.label){case 0:if(!this.src&&!this.buffer)throw Error(t.missingErrorMessage);return e=this,[4,v.awaitInstance()];case 1:return e.runtime=n.sent(),[4,this.initData()];case 2:return n.sent(),[2]}})})},t.prototype.on=function(t,e){this.eventManager.add({type:t,callback:e})},t.prototype.off=function(t,e){this.eventManager.remove({type:t,callback:e})},t.prototype.cleanup=function(){var t;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),null===(t=this.file)||void 0===t||t.delete())},t.prototype.removeAllRiveEventListeners=function(t){this.eventManager.removeAll(t)},t.prototype.getInstance=function(){if(null!==this.file)return this.referenceCount+=1,this.file},t.missingErrorMessage="Rive source file or data buffer required",t.fileLoadErrorMessage="The file failed to load",t}(),x=function(){function t(t){var e,n=this;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._hasZeroSize=!1,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(t){n._hasZeroSize=t,n._layout.maxX&&n._layout.maxY||n.resizeToCanvas()},this.renderSecondTimer=0,this.canvas=t.canvas,t.canvas.constructor===HTMLCanvasElement&&(this._observed=E.add(this.canvas,this.onCanvasResize)),this.src=t.src,this.buffer=t.buffer,this.riveFile=t.riveFile,this.layout=null!==(e=t.layout)&&void 0!==e?e:new M,this.shouldDisableRiveListeners=!!t.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!t.isTouchScrollEnabled,this.automaticallyHandleEvents=!!t.automaticallyHandleEvents,this.enableRiveAssetCDN=void 0===t.enableRiveAssetCDN||t.enableRiveAssetCDN,this.eventManager=new A,t.onLoad&&this.on(r.Load,t.onLoad),t.onLoadError&&this.on(r.LoadError,t.onLoadError),t.onPlay&&this.on(r.Play,t.onPlay),t.onPause&&this.on(r.Pause,t.onPause),t.onStop&&this.on(r.Stop,t.onStop),t.onLoop&&this.on(r.Loop,t.onLoop),t.onStateChange&&this.on(r.StateChange,t.onStateChange),t.onAdvance&&this.on(r.Advance,t.onAdvance),t.onload&&!t.onLoad&&this.on(r.Load,t.onload),t.onloaderror&&!t.onLoadError&&this.on(r.LoadError,t.onloaderror),t.onplay&&!t.onPlay&&this.on(r.Play,t.onplay),t.onpause&&!t.onPause&&this.on(r.Pause,t.onpause),t.onstop&&!t.onStop&&this.on(r.Stop,t.onstop),t.onloop&&!t.onLoop&&this.on(r.Loop,t.onloop),t.onstatechange&&!t.onStateChange&&this.on(r.StateChange,t.onstatechange),t.assetLoader&&(this.assetLoader=t.assetLoader),this.taskQueue=new C(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:t.autoplay,animations:t.animations,stateMachines:t.stateMachines,artboard:t.artboard,useOffscreenRenderer:t.useOffscreenRenderer})}return t.new=function(e){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new t(e)},t.prototype.onSystemAudioChanged=function(){this.volume=this._volume},t.prototype.init=function(e){var n=this,i=e.src,r=e.buffer,a=e.riveFile,o=e.animations,s=e.stateMachines,u=e.artboard,c=e.autoplay,l=void 0!==c&&c,h=e.useOffscreenRenderer,d=void 0!==h&&h;if(this.src=i,this.buffer=r,this.riveFile=a,!this.src&&!this.buffer&&!this.riveFile)throw Error(t.missingErrorMessage);var f=U(o),p=U(s);this.loaded=!1,this.readyForPlaying=!1,v.awaitInstance().then(function(t){n.runtime=t,n.renderer=n.runtime.makeRenderer(n.canvas,d),n.canvas.width||n.canvas.height||n.resizeDrawingSurfaceToCanvas(),n.initData(u,f,p,l).then(function(){return n.setupRiveListeners()}).catch(function(t){console.error(t)})}).catch(function(t){console.error(t)})},t.prototype.setupRiveListeners=function(t){var e=this;if(!this.shouldDisableRiveListeners){var n=(this.animator.stateMachines||[]).filter(function(t){return t.playing&&e.runtime.hasListeners(t.instance)}).map(function(t){return t.instance}),i=this.isTouchScrollEnabled;t&&"isTouchScrollEnabled"in t&&(i=t.isTouchScrollEnabled),this.eventCleanup=(0,l.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:n,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:i})}},t.prototype.removeRiveListeners=function(){this.eventCleanup&&this.eventCleanup()},t.prototype.initializeAudio=function(){var t,e=this;D.status==o.UNAVAILABLE&&(null===(t=this.artboard)||void 0===t?void 0:t.hasAudio)&&(D.add({type:r.AudioStatusChange,callback:function(){return e.onSystemAudioChanged()}}),D.establishAudio())},t.prototype.initData=function(t,e,n,i){var a;return f(this,void 0,void 0,function(){var o;return p(this,function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),null!=this.riveFile)return[3,2];return this.riveFile=new _({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()];case 1:s.sent(),s.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(t,e,n,i),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:r.Load,data:null!==(a=this.src)&&void 0!==a?a:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return s.sent(),console.warn(o="Problem loading file; may be corrupt!"),this.eventManager.fire({type:r.LoadError,data:o}),[2,Promise.reject(o)];case 4:return[2]}})})},t.prototype.initArtboard=function(t,e,n,i){if(this.file){var a,o=t?this.file.artboardByName(t):this.file.defaultArtboard();if(!o){var s="Invalid artboard name or no default artboard";console.warn(s),this.eventManager.fire({type:r.LoadError,data:s});return}if(this.artboard=o,o.volume=this._volume*D.systemVolume,1>this.artboard.animationCount()){var s="Artboard has no animations";throw this.eventManager.fire({type:r.LoadError,data:s}),s}this.animator=new I(this.runtime,this.artboard,this.eventManager),e.length>0||n.length>0?(a=e.concat(n),this.animator.initLinearAnimations(e,i),this.animator.initStateMachines(n,i)):a=[this.animator.atLeastOne(i,!1)],this.taskQueue.add({event:{type:i?r.Play:r.Pause,data:a}})}},t.prototype.drawFrame=function(){this.startRendering()},t.prototype.draw=function(t,e){this.frameRequestId=null;var n=performance.now();this.lastRenderTime||(this.lastRenderTime=t),this.renderSecondTimer+=t-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,null==e||e());var a=(t-this.lastRenderTime)/1e3;this.lastRenderTime=t;for(var o=this.animator.animations.filter(function(t){return t.playing||t.needsScrub}).sort(function(t){return t.needsScrub?-1:1}),s=0;s<o.length;s++){var u=o[s];u.advance(a),u.instance.didLoop&&(u.loopCount+=1),u.apply(1)}for(var c=this.animator.stateMachines.filter(function(t){return t.playing}),h=0;h<c.length;h++){var d=c[h],f=d.reportedEventCount();if(f)for(var p=0;p<f;p++){var g=d.reportedEventAt(p);if(g){if(g.type===i.OpenUrl){if(this.eventManager.fire({type:r.RiveEvent,data:g}),this.automaticallyHandleEvents){var m=document.createElement("a"),M=g.url,v=g.target,y=(0,l.sanitizeUrl)(M);M&&m.setAttribute("href",y),v&&m.setAttribute("target",v),y&&y!==l.BLANK_URL&&m.click()}}else this.eventManager.fire({type:r.RiveEvent,data:g})}}d.advance(a)}this.artboard.advance(a);var w=this.renderer;w.clear(),w.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(w),w.restore(),w.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(a),this.frameCount++;var b=performance.now();for(this.frameTimes.push(b),this.durations.push(b-n);this.frameTimes[0]<=b-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},t.prototype.alignRenderer=function(){var t=this.renderer,e=this.runtime,n=this._layout,i=this.artboard;t.align(n.runtimeFit(e),n.runtimeAlignment(e),{minX:n.minX,minY:n.minY,maxX:n.maxX,maxY:n.maxY},i.bounds)},Object.defineProperty(t.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameTime",{get:function(){return 0===this.durations.length?0:(this.durations.reduce(function(t,e){return t+e},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),t.prototype.cleanup=function(){var t;this.stopRendering(),this.cleanupInstances(),null!==this._observed&&E.remove(this._observed),null===(t=this.riveFile)||void 0===t||t.cleanup(),this.riveFile=null,this.file=null},t.prototype.deleteRiveRenderer=function(){var t;null===(t=this.renderer)||void 0===t||t.delete(),this.renderer=null},t.prototype.cleanupInstances=function(){null!==this.eventCleanup&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},t.prototype.retrieveTextRun=function(t){if(!t){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var e,n=this.artboard.textRun(t);if(!n){console.warn("Could not access a text run with name '".concat(t,"' in the '").concat(null===(e=this.artboard)||void 0===e?void 0:e.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return n},t.prototype.getTextRunValue=function(t){var e=this.retrieveTextRun(t);return e?e.text:void 0},t.prototype.setTextRunValue=function(t,e){var n=this.retrieveTextRun(t);n&&(n.text=e)},t.prototype.play=function(t,e){var n=this;if(t=U(t),!this.readyForPlaying){this.taskQueue.add({action:function(){return n.play(t,e)}});return}this.animator.play(t),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},t.prototype.pause=function(t){var e=this;if(t=U(t),!this.readyForPlaying){this.taskQueue.add({action:function(){return e.pause(t)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(t)},t.prototype.scrub=function(t,e){var n=this;if(t=U(t),!this.readyForPlaying){this.taskQueue.add({action:function(){return n.scrub(t,e)}});return}this.animator.scrub(t,e||0),this.drawFrame()},t.prototype.stop=function(t){var e=this;if(t=U(t),!this.readyForPlaying){this.taskQueue.add({action:function(){return e.stop(t)}});return}this.animator.stop(t),this.eventCleanup&&this.eventCleanup()},t.prototype.reset=function(t){var e,n=null==t?void 0:t.artboard,i=U(null==t?void 0:t.animations),r=U(null==t?void 0:t.stateMachines),a=null!==(e=null==t?void 0:t.autoplay)&&void 0!==e&&e;this.cleanupInstances(),this.initArtboard(n,i,r,a),this.taskQueue.process()},t.prototype.load=function(t){this.file=null,this.stop(),this.init(t)},Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t,t.maxX&&t.maxY||this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),t.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},t.prototype.resizeDrawingSurfaceToCanvas=function(t){if(this.canvas instanceof HTMLCanvasElement&&window){var e=this.canvas.getBoundingClientRect(),n=e.width,i=e.height,r=t||window.devicePixelRatio||1;this.canvas.width=r*n,this.canvas.height=r*i,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(t.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var t=[],e=0;e<this.artboard.animationCount();e++)t.push(this.artboard.animationByIndex(e).name);return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var t=[],e=0;e<this.artboard.stateMachineCount();e++)t.push(this.artboard.stateMachineByIndex(e).name);return t},enumerable:!1,configurable:!0}),t.prototype.stateMachineInputs=function(t){if(this.loaded){var e=this.animator.stateMachines.find(function(e){return e.name===t});return null==e?void 0:e.inputs}},t.prototype.retrieveInputAtPath=function(t,e){if(!t){console.warn("No input name provided for path '".concat(e,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(t,"', at path: '").concat(e,"', but the Artboard is null"));return}var n=this.artboard.inputByPath(t,e);if(!n){console.warn("Could not access an input with name: '".concat(t,"', at path:'").concat(e,"'"));return}return n},t.prototype.setBooleanStateAtPath=function(t,e,i){var r=this.retrieveInputAtPath(t,i);r&&(r.type===n.Boolean?r.asBool().value=e:console.warn("Input with name: '".concat(t,"', at path:'").concat(i,"' is not a boolean")))},t.prototype.setNumberStateAtPath=function(t,e,i){var r=this.retrieveInputAtPath(t,i);r&&(r.type===n.Number?r.asNumber().value=e:console.warn("Input with name: '".concat(t,"', at path:'").concat(i,"' is not a number")))},t.prototype.fireStateAtPath=function(t,e){var i=this.retrieveInputAtPath(t,e);i&&(i.type===n.Trigger?i.asTrigger().fire():console.warn("Input with name: '".concat(t,"', at path:'").concat(e,"' is not a trigger")))},Object.defineProperty(t.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(t){return t.playing}).map(function(t){return t.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(t){return t.playing}).map(function(t){return t.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(t){return!t.playing}).map(function(t){return t.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(t){return!t.playing}).map(function(t){return t.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e){this.eventManager.add({type:t,callback:e})},t.prototype.off=function(t,e){this.eventManager.remove({type:t,callback:e})},t.prototype.unsubscribe=function(t,e){console.warn("This function is deprecated: please use `off()` instead."),this.off(t,e)},t.prototype.removeAllRiveEventListeners=function(t){this.eventManager.removeAll(t)},t.prototype.unsubscribeAll=function(t){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(t)},t.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},t.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},t.prototype.enableFPSCounter=function(t){this.runtime.enableFPSCounter(t)},t.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(t.prototype,"contents",{get:function(){if(this.loaded){for(var t={artboards:[]},e=0;e<this.file.artboardCount();e++){for(var n=this.file.artboardByIndex(e),i={name:n.name,animations:[],stateMachines:[]},r=0;r<n.animationCount();r++){var a=n.animationByIndex(r);i.animations.push(a.name)}for(var o=0;o<n.stateMachineCount();o++){for(var s=n.stateMachineByIndex(o),u=s.name,c=new this.runtime.StateMachineInstance(s,n),l=[],h=0;h<c.inputCount();h++){var d=c.input(h);l.push({name:d.name,type:d.type})}i.stateMachines.push({name:u,inputs:l})}t.artboards.push(i)}return t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(t){this._volume=t,this.artboard&&(this.artboard.volume=t*D.systemVolume)},enumerable:!1,configurable:!0}),t.missingErrorMessage="Rive source file or data buffer required",t}(),O=function(t){return f(void 0,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,fetch(new Request(t))];case 1:return[4,e.sent().arrayBuffer()];case 2:return[2,e.sent()]}})})},U=function(t){return"string"==typeof t?[t]:t instanceof Array?t:[]},Y={EventManager:A,TaskQueueManager:C},R=function(t){return new Promise(function(e){return v.getInstance(function(n){n.decodeAudio(t,e)})})},k=function(t){return new Promise(function(e){return v.getInstance(function(n){n.decodeImage(t,e)})})},P=function(t){return new Promise(function(e){return v.getInstance(function(n){n.decodeFont(t,e)})})},W})();class n{constructor(t,n,i,r,a,o,s,u,c){this.uuid=t,this.canvas=document.createElement("canvas"),this.canvas.id=t,this.updateDom(n,r,a,o,s),document.body.appendChild(this.canvas),this.riveInstance=new e.Rive({src:i,canvas:this.canvas,stateMachines:u,autoplay:c,onLoad:()=>{this.riveInstance.resizeDrawingSurfaceToCanvas()}})}destroy(){this.riveInstance.cleanup(),this.canvas.remove()}updateDom(t,e,n,i,r){this.name=t,this.canvas.width=i,this.canvas.height=r,this.canvas.style.position="absolute",this.canvas.style.left=`${e}px`,this.canvas.style.top=`${n}px`,null!=this.riveInstance&&null!=this.canvas&&this.riveInstance.resizeDrawingSurfaceToCanvas()}play(t){this.riveInstance.play(t)}pause(t){this.riveInstance.pause(t)}stop(t){this.riveInstance.pause(t)}setTextRunValue(t,e){this.riveInstance.setTextRunValue(t,e)}switchArtboardIfNeeded(t,e,n){if(console.log("SwitchArtboardIfNeeded",t),null!=this.riveInstance.artboard){let i=this.riveInstance.artboard.name;console.log("currentArtboard",i),0!=i.localeCompare(t)?(console.log("Artboard is the different"),this.resetartboard(t,e,n)):console.log("Artboard is the same")}else console.log("Artboard is null.  Resetting regardless"),this.resetartboard(t,e,n)}setBooleanStateAtPath(t,e,n){this.riveInstance.setBooleanStateAtPath(t,e,n)}resetstatemachine(t,e){console.log("ResetStateMachine",t,e),this.riveInstance.reset({artboard:t,autoplay:e})}resetartboard(t,e,n){console.log("ResetArtboard",t,n),this.riveInstance.reset({artboard:t,stateMachines:e,autoplay:n})}stateMachineInputs(t){return console.log("StateMachineInputs "+t),this.riveInstance.stateMachineInputs(t)}}new class{constructor(){this.socket=new WebSocket("ws://"+location.host+"/channel"),this.riveInstances=new Map,this.matrixInstances=new Map,this.initSocket()}initSocket(){this.socket.addEventListener("open",t=>{console.log("Socket opened")}),this.socket.addEventListener("message",t=>{this.handleMessage(t.data)})}handleMessage(t){console.log("Received message:",t);let e=t.split(":");switch(e[0]){case"addRiveInstance":this.handleAddRiveInstance(e);break;case"removeRiveInstance":let n=e[1];this.handleRemoveRiveInstance(n);break;case"addMatrixInstance":this.handleAddMatrixInstance(e);break;case"removeAllInstances":console.log("Removing all instances"),this.handleRemoveAllInstances();break;case"removeMatrixInstance":this.handleRemoveMatrixInstance(e);break;default:this.handleRiveCommand(e)}}handleRemoveAllInstances(){this.riveInstances.forEach((t,e,n)=>{console.log("Destroying rive instance:",e),t.destroy(),this.riveInstances.delete(t.uuid)}),this.matrixInstances.forEach((t,e,n)=>{console.log("Destroying matrix instance:",e),t.destroy(),this.matrixInstances.delete(t.uuid)})}handleAddRiveInstance(t){let e=t[1],n=t[2],i=t[3];if("companion"==i){console.log("Companion rive instance detected.  Skipping.");return}let r=parseFloat(t[4]),a=parseFloat(t[5]),o=parseFloat(t[6]),s=parseFloat(t[7]),u=t[8],c=t[9];console.log(e,n,i,r,a,o,s,u,c);let l=this.riveInstances.get(e);l?(console.log("Instance already exists:",e),this.updateRiveInstance(l,e,r,a,o,s,u,c)):(console.log("Adding instance:",e),this.addRiveInstance(e,n,i,r,a,o,s,u,c))}handleRemoveRiveInstance(t){let e=this.riveInstances.get(t);e&&(e.destroy(),this.riveInstances.delete(t))}handleRiveCommand(t){let e=t[0],n=t[1],i=this.riveInstances.get(n);i||console.log(`Rive instance "${n}" not found.`);let r=t[2],a=t[3],o=t[4],s=t[5];switch(e){case"play":r&&i&&i.play(r);break;case"pause":r&&i&&i.pause(r);break;case"stop":r&&i&&i.stop(r);break;case"setRun":r&&a&&i&&i.setTextRunValue(r,a);break;case"reset":r&&a&&i&&i.resetstatemachine(r,a);break;case"runStep":this.handleRiveStep(r,a,o,s,n);break;default:console.log("Unknown message type:",e)}}handleRiveStep(t,e,n,i,r){if("companion"!=t){var a=this.riveInstances.get(r);if(a)console.log(`Rive Instance found for "${r}"`);else if(console.log(`Instance instance "${r}" not found in rive instances.`),a=this.matrixInstances.get(r))console.log(`Matrix instance found for "${r}"`);else{console.log(`Instance instance "${r}" not found in rive instances.`);return}if("matrix"==t&&a){a.setVisible(e);return}if(t&&e){if(console.log(`handleRiveStep called with P1:"${t}":P2:"${e}"P3:"${n}"P4:"${i}":`),a.switchArtboardIfNeeded(t,e,!0),n.includes("/")){var o=n.lastIndexOf("/"),s=n.split("/");if(s.length>=1){var u=n.substring(0,o),c=s[s.length-1];console.log("inputName contains a path hence using SetBooleanStateAtPath :",n),console.log("Last part of path (name) :",s[s.length-1]),console.log("Remainder :",n.substring(0,o)),"true"===i.toLowerCase()?(console.log("setting to true:",c,u),a.setBooleanStateAtPath(c,!0,u)):"false"===i.toLowerCase()&&(console.log("setting to false:",c,u),a.setBooleanStateAtPath(c,!1,u));return}}console.log(`Getting inputs for "${e}"`);let r=a.stateMachineInputs(e);if(null!=r){console.log("finding inputs ",n);let t=r.find(t=>t.name==n);t?(console.log("input found"),i?(console.log(`exitValue set to value of Param4: ${i}`),"true"===i.toLowerCase()?(console.log("setting to true"),t.value=!0):"false"===i.toLowerCase()&&(console.log("setting to false"),t.value=!1),console.log("done with set.")):(console.log(`exitValue toggled to ${t.value}`),t.value=!t.value)):console.log(`inputName "${n}" not found.`)}else console.log("inputs is null for statemachine",e)}}}addRiveInstance(t,e,i,r,a,o,s,u,c){let l=new n(t,e,i,r,a,o,s,u,c);this.riveInstances.set(t,l)}updateRiveInstance(t,e,n,i,r,a,o,s){try{t.resetstatemachine(o,s),t.updateDom(e,n,i,r,a)}catch(t){console.log("Error updating Rive Instance: ",t)}}handleAddMatrixInstance(t){let e=t[1],n=t[2],i=parseFloat(t[3]),r=parseFloat(t[4]),a=parseFloat(t[5]),o=parseFloat(t[6]);console.log(e,n,i,r,a,o);let s=this.matrixInstances.get(e);s?(console.log("Matrix instance already exists:",e),this.updateMatrixInstance(s,e,i,r,a,o)):(console.log("Adding Matrix instance:",e),this.addMatrixInstance(e,n,i,r,a,o))}addMatrixInstance(e,n,i,r,a,o){let s=new t(e,n,i,r,a,o);this.matrixInstances.set(e,s)}updateMatrixInstance(t,e,n,i,r,a){t.updateDom(e,n,i,r,a)}handleRemoveMatrixInstance(t){let e=t[1],n=this.matrixInstances.get(e);n&&(n.destroy(),this.matrixInstances.delete(e))}};
//# sourceMappingURL=index.ea39970f.js.map
